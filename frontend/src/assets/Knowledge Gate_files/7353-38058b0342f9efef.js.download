(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7353],{7310:function(e,t,s){"use strict";s.d(t,{$1:function(){return l},PP:function(){return u},Rb:function(){return T},WB:function(){return f},Y9:function(){return o},YH:function(){return p},bY:function(){return d},hallOfFameActions:function(){return I},newsfeedActions:function(){return r},postTypeBundleActions:function(){return E},promoBundleActions:function(){return S},promoBundleStates:function(){return _},qv:function(){return h},wF:function(){return a},wi:function(){return c}});var n=s(37648);let r={POSTS_FETCH_REQUEST:"@newsfeed/postsFetchRequest",POSTS_FETCH_SUCCESS:"@newsfeed/postsFetchSuccess",POSTS_FETCH_FAILURE:"@newsfeed/postsFetchFailure",CATEGORIES_FETCH_REQUEST:"@newsfeed/categoriesFetchRequest",CATEGORIES_FETCH_SUCCESS:"@newsfeed/categoriesFetchSuccess",CATEGORIES_FETCH_FAILURE:"@newsfeed/categoriesFetchFailure",POST_TYPES_FETCH_REQUEST:"@newsfeed/postTypesFetchRequest",POST_TYPES_FETCH_SUCCESS:"@newsfeed/postTypesFetchSuccess",POST_TYPES_FETCH_FAILURE:"@newsfeed/postTypesFetchFailure",BOOKMARKS_FETCH_REQUEST:"@newsfeed/bookmarksFetchRequest",BOOKMARKS_FETCH_SUCCESS:"@newsfeed/bookmarksFetchSuccess",BOOKMARKS_FETCH_FAILURE:"@newsfeed/bookmarksFetchFailure",BOOKMARKS_FETCH_SKIP:"@newsfeed/bookmarksFetchSkip",ADD_BOOKMARK_REQUEST:"@newsfeed/addBookmarkRequest",ADD_BOOKMARK_SUCCESS:"@newsfeed/addBookmarkSuccess",ADD_BOOKMARK_FAILED:"@newsfeed/addBookmarkFailed",DELETE_BOOKMARK_REQUEST:"@newsfeed/deleteBookmarkRequest",DELETE_BOOKMARK_SUCCESS:"@newsfeed/deleteBookmarkSuccess",DELETE_BOOKMARK_FAILED:"@newsfeed/deleteBookmarkFailed",POST_DETAIL_FETCH_REQUEST:"@newsfeed/postDetailFetchRequest",POST_DETAIL_FETCH_SUCCESS:"@newsfeed/postDetailFetchSuccess",POST_DETAIL_FETCH_FAILURE:"@newsfeed/postDetailFetchFailure",SET_CURRENT_CATEGORY:"@newsfeed/setCurrentCategory",SET_CURRENT_TAG:"@newsfeed/setNewsfeedTag",SET_CURRENT_TAG_AND_CATEGORY:"@newsfeed/setNewsfeedTagAndCategory",PROMOS_POSTS_FETCH_REQUEST:"@newsfeed/promosPostsFetchRequest",PROMOS_POSTS_FETCH_SUCCESS:"@newsfeed/promosPostsFetchSuccess",PROMOS_POSTS_FETCH_FAILURE:"@newsfeed/promosPostsFetchFailure",ANSWER_NEWSFEED_QUESTION:"@newsfeed/answerNewsfeedQuestion",FETCH_SIGNED_URL_REQUEST:"@newsfeed/fetchQuestionSignedUrlRequest",FETCH_SIGNED_URL_SUCCESS:"@newsfeed/fetchQuestionSignedUrlSuccess",FETCH_SIGNED_URL_FAILURE:"@newsfeed/fetchQuestionSignedUrlFailure"},{API_BASE_URL:i}=n.urls,o={NEWSFEED_API:"".concat(i,"/learner/v10/post"),CATEGORIES_API:"".concat(i,"/learner/v10/categories"),NOTEBOOKS_API:"".concat(i,"/learner/v9/notebooks"),NEWSFEED_SLUG_API:"".concat(i,"/learner/v10/post/look_by_slug"),NEWSFEED_POST_TYPES_API:"".concat(i,"/learner/v10/post/post_types")},u={INITIAL:0,FETCH_BOOKMARKS:1,FETCH_ALL_POSTS:2,FETCH_CATEGORIES:3,CHANGE_CATEGORY:4,FETCH_POST_DETAIL:5,CHANGE_TAG:6,FETCH_POST_TYPES:7,CHANGE_POST_TYPE:8,FETCH_PROMOS_POSTS:9,CHANGE_TAG_AND_CATEGORY:10},a={lesson_content:1,course_content:2,quiz_content:3},l=2,c=3,d={PROMO:"promo_type",ARTICLE:"article_type",QUIZ:"quiz_type",VIDEO:"video_type",PDF:"pdf_type",COURSE_EMBED:"course_embed_type",QUESTION_TYPE:"question_type"},S={POST_TYPES_WIDGET_FETCH_REQUEST:"@promoBundle/postTypesWidgetFetchRequest",POST_TYPES_WIDGET_FETCH_SUCCESS:"@promoBundle/postTypesFetchSuccess",POST_TYPES_WIDGET_FETCH_FAILURE:"@promoBundle/postTypesFetchFailure",PROMOS_POSTS_WIDGET_FETCH_REQUEST:"@promoBundle/promosPostsFetchRequest",PROMOS_POSTS_WIDGET_FETCH_SUCCESS:"@promoBundle/promosPostsFetchSuccess",PROMOS_POSTS_WIDGET_FETCH_FAILURE:"@promoBundle/promosPostsFetchFailure",PROMOS_POSTS_WIDGET_RESTORE_CACHE:"@promoBundle/promosPostsRestoreCache"},_={INITIAL:0,FETCH_POST_TYPES:1,FETCH_PROMOS_POSTS:2},E={POST_TYPES_WIDGET_FETCH_REQUEST:"@postTypesBundle/postTypesWidgetFetchRequest",POST_TYPES_WIDGET_FETCH_SUCCESS:"@postTypesBundle/postTypesWidgetFetchSuccess",POST_TYPES_WIDGET_FETCH_FAILURE:"@postTypesBundle/postTypesWidgetFetchFailure",POST_TYPES_WIDGET_RESTORE_CACHE:"@postTypesBundle/postTypesWidgetRestoreCache"},T={INITIAL:0,FETCH_POST_TYPES:1},I={POST_TYPES_WIDGET_FETCH_REQUEST:"@hallOfFameBundle/postTypesWidgetFetchRequest",POST_TYPES_WIDGET_FETCH_SUCCESS:"@hallOfFameBundle/postTypesFetchSuccess",POST_TYPES_WIDGET_FETCH_FAILURE:"@hallOfFameBundle/postTypesFetchFailure",HALL_OF_FAME_FETCH_REQUEST:"@hallOfFameBundle/hallOfFameFetchRequest",HALL_OF_FAME_FETCH_SUCCESS:"@hallOfFameBundle/hallOfFameFetchSuccess",HALL_OF_FAME_FETCH_FAILURE:"@hallOfFameBundle/hallOfFameFetchFailure",HALL_OF_FAME_RESTORE_CACHE:"@hallOfFameBundle/hallOfFameRestoreCache"},h={INITIAL:0,FETCH_POST_TYPES:1,FETCH_HALL_OF_FAME:2},{PRE_SIGNED_URL:f}=n.urls,p=n.UP.ANSWER_EXPLANATION},540:function(e,t,s){"use strict";s.d(t,{ym:function(){return evaluateAnswer},oE:function(){return getDragAndDropAns},o3:function(){return getMCQAns},$J:function(){return getMultiSourceAns},fZ:function(){return getQuestionState},qW:function(){return getQuizMapColorVariant},RW:function(){return getQuizMapShapeVariantForNtaTemplate},jv:function(){return getQuizMapShapeVariantForTataTemplates},a2:function(){return getSolutionState},ML:function(){return getTwoPartAns},gI:function(){return updateMyAns}});var n=s(53794),r=s(39866);let updateMultiAnsMCQ=(e,t)=>{let{index:s,checked:n}=t,r=e||[];return(!n&&e&&(r=e.filter(e=>e!==s)),e?n&&r.push(s):r=[s],0===r.length)?null:r},updateSingleAnsMCQ=e=>{let{index:t,checked:s}=e;return s?t:null},updateSubjectiveAnswer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t||e&&e.attachment?{...e,...t}:null},validateUserAnswerNumericType=e=>{if(!e)return null;if(1===e.length&&["+","-"].indexOf(e)>-1||"."===e[e.length-1]||"-0"===e||"+0"===e)return e;if(e){let t=(0,n.tl)(e,10);return Number.isNaN(t)?null:e}},updateMultiSourceAns=(e,t)=>{let{index:s,checked:n}=t,r=e||{};return e&&(r={...e,...s}),e||(r={...s}),e&&Object.keys(e).length&&s&&Object.keys(e).forEach(t=>{parseInt(e[t],10)===parseInt(s[t],10)&&delete r[t]}),r},updateTwoPartSourceAns=(e,t)=>{let{parentOptionIndex:s,selectedOptionIndex:n,isAnswerSelected:r}=t,i=e||{},o={};if(Object.keys(i).length){let e=Object.keys(i);e.forEach(e=>{let t=i[e];t.forEach(t=>{o={...o,[t]:e}})})}if(o[n]){let e=o[n],t=i[e];t.splice(t.indexOf(n),1),t.length?i={...i,[e]:t}:delete i[e]}return r&&(i[s]?i[s].push(n):i[s]=[n]),i},updateMultiDropdownSourceAns=(e,t)=>{let{dropdownIndex:s,selectedOption:n}=t,i=e||{};return t?(i&&n===r.S4?delete i[Number(s)]:(i||(i={[Number(s)]:[Number(n)]}),i&&(i={...i,[Number(s)]:[Number(n)]})),i):null},updateDragAndDropAns=(e,t)=>{var s;let n=e||{};if(!t)return null;let{answers:r,index:i,isRemove:o}=t;if(n&&o)return delete n[i],n;let u=Number(null===(s=r[i])||void 0===s?void 0:s.optionIndex);return n||(n={[i]:[u]}),n&&(n={...n,[i]:[u]}),n},updateMyAns=(e,t,s)=>{let{qnType:n,isMultiAns:i}=s;switch(n){case r.n7.MCQ_QUESTION:case r.n7.MCQ_V2_QUESTION:if(i)return updateMultiAnsMCQ(e,t);return updateSingleAnsMCQ(t);case r.n7.NUMERIC_QUESTION:return validateUserAnswerNumericType(t);case r.n7.FILL_QUESTION:return t||null;case r.n7.SUBJECTIVE_QUESTION:return updateSubjectiveAnswer(e,t);case r.n7.MULTI_SOURCE:return updateMultiSourceAns(e,t);case r.n7.TWO_PART_ANALYSIS:return updateTwoPartSourceAns(e,t);case r.n7.MULTIPLE_DROPDOWN:case r.n7.DROP_DOWN_QUESTION:return updateMultiDropdownSourceAns(e,t);case r.n7.DRAG_AND_DROP_QUESTION:return updateDragAndDropAns(e,t);default:return null}},getMultiSourceAns=(e,t,s,n)=>{var r,i;let o=!1,u=!1;return e&&!Object.keys(e).length?{selectState:o=!1,isCorrectAns:u}:(e&&(null==e||null===(r=e[n])||void 0===r||r.find(e=>{o=e===s})),t&&(null==t||null===(i=t[n])||void 0===i||i.find(e=>{e===s&&(u=!0)})),{selectState:o,isCorrectAns:u})},getTwoPartAns=(e,t,s,n)=>{var r,i;let o=!1,u=!1;return e&&(null==e||null===(r=e[n])||void 0===r||r.find(e=>{e===s&&(o=!0)})),t&&(null==t||null===(i=t[n])||void 0===i||i.find(e=>{e===s&&(u=!0)})),{selectState:o,isCorrectAns:u}},getMCQAns=(e,t,s,n)=>{let r=!1,i=!1;return s?(null!==e&&void 0!==e.find(e=>parseInt(e,10)===n)&&(r=!0),null!==t&&void 0!==t.find(e=>parseInt(e,10)===n)&&(i=!0)):(r=e===n,i=t===n),{selectState:r,isCorrect:i,resultCorrect:r===i}},getDragAndDropAns=(e,t,s,n)=>{var r,i;let o=!1,u=!1;return e&&!Object.keys(e).length?{selectState:o=!1,isCorrectAns:u}:(e&&(null==e||null===(r=e[n])||void 0===r||r.find(e=>{o=e===s})),t&&(null==t||null===(i=t[n])||void 0===i||i.find(e=>{u=e===s})),{selectState:o,isCorrectAns:u})},getQuestionState=e=>{if(e===r.Xl.NOT_VISITED)return r.pR.NOT_VISITED;let t=e&(r.Xl.ANSWERED|r.Xl.MARKED);return t===r.Xl.ANSWERED?r.pR.ANSWERED:t===r.Xl.MARKED?r.pR.UNANSWERED_MARKED:t?r.pR.ANSWERED_MARKED:e===r.Xl.VISITED?r.pR.VISITED:r.pR.SKIPPED},evaluateAnswer=(e,t)=>{let{questionStatus:s,answer:i}=e,{qnType:o,answer:u,isMultiAns:a}=t,l=!1;if(null===i||null===u)return s;switch(o){case r.n7.MCQ_QUESTION:case r.n7.MCQ_V2_QUESTION:if(a){let e=!0;u.forEach(t=>{e=e&&i.indexOf(t)>-1}),u.length===i.length&&(l=e)}else l=parseInt(u,10)===parseInt(i,10);break;case r.n7.NUMERIC_QUESTION:l="string"==typeof u&&(null==u?void 0:u.includes("to"))?u.split(" to ")[0]<=parseFloat(i)&&u.split(" to ")[1]>=parseFloat(i):(0,n.tl)(u)===(0,n.tl)(i);break;case r.n7.FILL_QUESTION:l=u.toLowerCase().trim()===i.toLowerCase().trim()}return l?s|r.Xl.CORRECT:s},getSolutionState=e=>(e&r.Xl.CORRECT)===r.Xl.CORRECT?r.nN.POSITIVE:(e&r.Xl.PARTIALLY_CORRECT)===r.Xl.PARTIALLY_CORRECT?r.nN.PARTIALLY_CORRECT:(e&r.Xl.ANSWERED)===r.Xl.ANSWERED?r.nN.NEGATIVE:r.nN.SKIPPED,getQuizMapColorVariant=(e,t)=>{if(t)switch(e){case r.nN.POSITIVE:case r.nN.PARTIALLY_CORRECT:return"correctAnswer";case r.nN.NEGATIVE:return"inCorrectAnswer";case r.nN.SKIPPED:return"notVisited"}switch(e){case r.pR.NOT_VISITED:return"notVisited";case r.pR.VISITED:return"notAnswered";case r.pR.ANSWERED:return"answered";case r.pR.UNANSWERED_MARKED:case r.pR.ANSWERED_MARKED:return"markedForReview";case r.pR.SKIPPED:return"notAnswered";default:return"notVisited"}},getQuizMapShapeVariantForTataTemplates=e=>{switch(e){case r.pR.VISITED:return"tataUnanswered";case r.pR.ANSWERED:return"tataAnswered";case r.pR.NOT_VISITED:return"NOT_VISITED";default:return"CIRCULAR"}},getQuizMapShapeVariantForNtaTemplate=e=>{switch(e){case r.pR.ANSWERED:case r.pR.VISITED:return"ntaCommon";case r.pR.UNANSWERED_MARKED:case r.pR.ANSWERED_MARKED:return"CIRCULAR";default:return"ntaNotVisited"}}},20244:function(e,t,s){"use strict";s.d(t,{zR:function(){return checkIfAllChoicesAnswered},vY:function(){return exitQuiz},Al:function(){return getAutosaveAnswer},NQ:function(){return getEndTime},aY:function(){return getInitialState},le:function(){return getQuizConfig},eB:function(){return initAutoSave},as:function(){return myAnswerUpdate},w1:function(){return replaceFiBDropdowLiquidVariableWithBlanks},vO:function(){return resetUserAnswer},s1:function(){return setAnswerSheetUrl},sT:function(){return setError},Vd:function(){return setExplainationContenSignedUrl},lH:function(){return setExplainationError},qR:function(){return setFetchProgress},Gq:function(){return setFetchSuccess},iY:function(){return setNextScreenState},J7:function(){return setPauseState},qJ:function(){return setPlayerData},nn:function(){return setQuestionPaperUrl},d9:function(){return setQuestions},aS:function(){return setSectionInfo},Nr:function(){return setSelectedQuestion},N$:function(){return setSolutionStates},LD:function(){return setSubmissionState},p4:function(){return setTestInfo},e$:function(){return setTestPlayerMode},hv:function(){return setTestPlayerStates},dC:function(){return setToSolutionMode},lR:function(){return setUserTestInfo},du:function(){return testSubmitted},kK:function(){return updateQuestionMarking},tn:function(){return updateRemainingDuration},Cz:function(){return userVisitedQuestion},Wp:function(){return validateResponse}});var n=s(30454),r=s.n(n),i=s(55466),o=s.n(i),u=s(61320),a=s.n(u),l=s(53794),c=s(39866),d=s(78445);function DefaultTestData(){this.userEnrollmentType=c.ri.INVALID,this.userEnrollmentExpiryDate=null,this.screenState=c.ZT.INITIAL,this.fetchMessage=c.mz.INITIAL,this.fetchStatus=c.UK.IDLE,this.error={errorCode:0,errorHead:"",errorMessage:""},this.questionsById={},this.questionIds=[],this.sections={byId:{},allIds:[]},this.userAnswersbyId={},this.testInfo=null,this.startTimeStamp=null,this.urlToken="",this.testId=0,this.currentTestSectionId=0,this.currentQuestionIndex=0,this.testMode=c.zy.TAKE_MODE,this.userQuizInfo=null,this.endOfTest=0,this.resultType=c.Xm.LATEST,this.qid=null,this.sectionOrder=[],this.sectionRules={},this.answerExplanationState={fetchStatus:c.UK.IDLE,error:{errorCode:0,errorHead:"",errorMessage:""},explainationDetails:{slides:{slideDetails:{},slideIds:[]},contentSignedUrl:""},selectedQuestionId:0},this.signedUrl="",this.hideKeyBoardTimeStamp=0,this.lastFetchId=0,this.currentLessonPlayerQuizState=c.eo.IDLE,this.isViewingAnswerExplaination=!1,this.answerSheetURL=null,this.questionPaperURL=null,this.evaluatedAnswerSheet=null}function UserAnswer(e,t,s){let{answer:n,time_spent:r,mark:i,questionStatus:o,comment:u,comment_attachment:a}=e;this.answer=void 0!==n?n:null,this.time_spent=r||0,this.questionStatus=o||c.Xl.NOT_VISITED,this.isSolutionMode=t===c.zy.SOLUTION_MODE,this.mark=i?Number(i):0,s&&(this.answer={...this.answer,comment:u,commentAttach:a})}function TestInfo(e,t,s,n,r,i){let{testMode:o,currentQuestionIndex:u}=t;if(this.courseType=i||d.courseType.TEST,this.resourceQuizId=e.resource_quiz_id||e.id,this.isSectionRuleEnabled=n,this.showMockTestTemplates=e.show_mock_templates||!1,this.instruction=e.instruction,this.title=e.title,this.courseId=e.course_id,this.labelType=e.option_label,this.sectionalDuration=e.is_section_duration,this.isPauseEnabled=!!e.is_pause_enabled,this.showCalculator=e.show_calculator,this.testDuration=60*e.duration,this.testEndTime=getEndTime(60*e.duration),this.randomization=e.is_random_quiz||c.wb.NO_RANDOM_QUIZ,this.sectionOrderingEnabled=s,this.startTime=e.start_time,this.endTime=e.end_time,this.testStatus=e.status,this.qCount=e.qcount,this.isMultilanguage=!1,this.showSectionName=!this.sectionalDuration,this.isSolutionMode=o===c.zy.SOLUTION_MODE,this.isGMAT=e.test_type===c.IQ.GMAT,this.testTemplate=e.test_type||1,this.isPractice=e.test_type===c.IQ.PRACTICE_QUIZ||e.test_type===c.IQ.PRACTICE_QUIZ_GENERAL,this.showMap=this.isSolutionMode||e.test_type!==c.IQ.GMAT,this.showNavbar=this.testDuration>0||this.showCalculator||this.isMultilanguage||this.showMap,this.showSubmit=!this.isSolutionMode&&e.test_type!==c.IQ.GMAT,this.bottomCTA=!this.isSolutionMode,this.isGeneralQuiz=e.test_type!==c.IQ.PRACTICE_QUIZ&&this.showMap,this.initialSlideValue=u||0,this.isTestScheduled=!1,this.startTime&&this.endTime){let e=a()().isAfter(this.startTime),t=a()().isBefore(this.endTime);this.isTestScheduled=!(e&&t)}this.remainingDuration=60*e.duration,this.showQuestionMarks=e.show_qmarks,this.isTimedQuiz=e.duration>0,this.isOfflineMode=e.mode===c.L$,this.quizConfig=getQuizConfig(e.quiz_config),this.quizLastUpdatedTimeStamp=e.updated_at,this.parentProductId=(null==r?void 0:r.id)||0,this.isParentProductFree=(null==r?void 0:r.is_free)||!1,this.parentCourseType=(null==r?void 0:r.course_type)||d.courseType.TEST}function UserQuizInfo(e){this.id=e.id,this.attempt=e.attempt,this.isPaused=e.is_quiz_paused,this.retakes=e.retakes||0,this.status=e.status||c.cB.FRESH_QUIZ,this.startTime=e.start_time,this.randomizationQuestionPaperSetId=e.random_set_id||0}let GetChoices=(e,t,s,n)=>{if(!e)return[];let r=[];try{r=JSON.parse(e)}catch(e){return[]}let i=[];return(r.forEach((e,t)=>{let s={...e,option_text:(0,l.kc)(e.option_text),optionIndex:t};i.push(s)}),t&&n!==c.n7.DRAG_AND_DROP_QUESTION)?o().shuffle(i,s||0):i},getShuffledChoices=(e,t)=>{if(!e)return[];let s=[];return e.forEach((e,t)=>{let n={...e,option_text:(0,l.kc)(e.option_text),optionIndex:t};s.push(n)}),o().shuffle(s,t||0)},getChoiceLabels=(e,t)=>{let s=[],n=c.n7.TWO_PART_ANALYSIS===t||c.n7.DRAG_AND_DROP_QUESTION===t;if(n&&e)try{s=JSON.parse(e)}catch(e){console.log("two part Qtype parsing failed",e)}return s},getParsedQuestionAnswer=e=>{let t;try{t=JSON.parse(e)}catch(e){console.log("parsing Qtype answer failed")}return t},constructMultipleInstruction=(e,t)=>{var s;let n=null;return t&&t.instruction?n=[{label:"",common_text:(0,l.gv)(t.instruction)}]:((null===(s=e.instructions)||void 0===s?void 0:s.length)?(n=e.instructions.filter(e=>!!e.common_text&&(e.common_text=(0,l.gv)(e.common_text),!0))).length||(n=null):(null==e?void 0:e.instruction)&&(n=[{label:"",common_text:(0,l.gv)(null==e?void 0:e.instruction)}]),n)},isSortableTableEnabled=e=>e===c.n7.MULTI_SOURCE||e===c.n7.TWO_PART_ANALYSIS||e===c.n7.MULTIPLE_DROPDOWN||e===c.n7.DROP_DOWN_QUESTION;function Question(e,t,s,n){this.groupQid=e.question_group_id||0;let r=this.groupQid&&t[this.groupQid]||null,i=constructMultipleInstruction(e,r),o=(0,l.kc)(e.qtext);this.id=e.id,this.instruction=i,this.position=e.position,this.sid=e.quiz_section_id,this.qnType=e.qtype,this.level=e.level,this.pmark=e.pmark,this.nmark=e.nmark,this.isMultiAns=e.multi_answer,this.isPartialMarkingEnabled=e.partial_marking_enabled,this.qtag=e.qtag,this.duration=e.duration,this.qText=(0,l.gv)(o),this.languages=e.languages,this.totalStudentsAnsweredCorrectly=e.no_of_corrects,this.totalStudentsAnsweredInCorrectly=e.no_of_incorrects,this.totalStudentsSkipped=e.no_of_unattempts;let u=this.totalStudentsAnsweredCorrectly+this.totalStudentsAnsweredInCorrectly;if(this.avgTimeTaken=e.time_taken&&u?Math.round(e.time_taken/u):0,this.choices=GetChoices(e.choices,s,n,e.qtype),this.choiceLabels=getChoiceLabels(null==e?void 0:e.choice_labels,e.qtype),this.shuffledChoices=e.qtype===c.n7.DRAG_AND_DROP_QUESTION?getShuffledChoices(this.choices,n):[],this.answerDescription=(0,l.kc)(e.ans_description),this.answerExplanation=JSON.parse((0,l.kc)(e.ans_description_lesson)||"[]"),this.isSortableTableEnabled=isSortableTableEnabled(e.qtype),this.shouldShowQuestionAndInstructionInTwoColumn=!(e.qtype===c.n7.TWO_PART_ANALYSIS||e.qtype===c.n7.MULTI_SOURCE),this.answer=e.answer,void 0!==e.answer&&null!==e.answer){if(e.qtype===c.n7.MCQ_QUESTION||e.qtype===c.n7.MCQ_V2_QUESTION)this.isMultiAns?this.answer=JSON.parse(e.answer):this.answer=parseInt(e.answer,10);else if(e.qtype===c.n7.NUMERIC_QUESTION){var a;if("string"==typeof(null==e?void 0:e.answer)&&(null==e?void 0:null===(a=e.answer)||void 0===a?void 0:a.includes("_"))){let t=e.answer.split("_");this.answer="".concat(t[0]," to ").concat(t[1])}else this.answer=parseFloat(e.answer)}else e.qtype===c.n7.FILL_QUESTION?this.answer=e.answer:e.qtype===c.n7.MULTI_SOURCE||e.qtype===c.n7.TWO_PART_ANALYSIS||e.qtype===c.n7.MULTIPLE_DROPDOWN||e.qtype===c.n7.DROP_DOWN_QUESTION||e.qtype===c.n7.DRAG_AND_DROP_QUESTION?this.answer=getParsedQuestionAnswer(e.answer)||null:this.answer=null}}var S=s(81851);let _=function(){let e,t;let n="",r=null,i=0,o={status:"testopened",secId:"",qid:null,unsavedAnswers:[]},u=[],a={},fetchFile=e=>{let t=updateSignURLVersion(n);return r.download(t.replace("*",e))},saveFile=(t,s)=>{let i=removeVersionFromSignURL(n);if(s!==e&&(i.includes("schools/26132/")||i.includes("schools/11075/"))){let e=i.replace("*",s);e=encodeURIComponent(e);let n="https://test.learnyst.com/mergeanswers?signedUrl=".concat(e);return r.upload(n,JSON.stringify(t))}return r.upload(i.replace("*",s),JSON.stringify(t),{"x-amz-acl":"bucket-owner-full-control"})},onFetchStatusSuccess=e=>{let s=!1;return"testopened"===e.status&&(t=e,e.unsavedAnswers&&e.unsavedAnswers.length>0&&(s=!0)),s},saveAnswer=(e,t,n)=>{let r=o.unsavedAnswers.length;function onSaveAnswerFailure(s){for(let e=0;e<u.length;e++)u[e].questionId===t&&u.splice(e,1);return u[u.length]={questionId:t,answer:e},u.length}return t&&0>o.unsavedAnswers.indexOf(t)&&(o.unsavedAnswers[r]=t),new Promise((r,i)=>{saveFile(e,"".concat(t,".txt")).then(e=>{console.log("AutoSave Status:: Success :: ".concat(t)),r(updateQuizTime(t,n))}).catch(e=>{console.log("AutoSave Status:: Error :: ".concat(t),e),s.g.bugsnag.notify(e),i(onSaveAnswerFailure(e))})})},updateQuizTime=(t,s)=>{let n=e;return o.secId=s,t&&(o.qid=t),new Promise((e,t)=>{saveFile(o,n).then(t=>{if(u.length){let t=u[0];u.splice(0,1),e(saveAnswer(t.answer,t.questionNum))}e(u.length)}).catch(e=>{t()})})},removeVersionFromSignURL=e=>{let t=e.split("?");if(t.length>=2){let e=t[1].split(/[&;]/g);for(let t=0;t<e.length;t+=1)-1!==e[t].lastIndexOf("version=",0)&&e.splice(t,1);return t[0]+(e.length>0?"?".concat(e.join("&")):"")}return e},updateSignURLVersion=e=>{if(!e)return"";let t=e.split("?")[1],s=t.split("&"),n="",r=!1;for(let e=0;e<s.length;e++){let t=s[e].split("=");if("version"===t[0]){r=!0;let n=Math.random();s[e]="".concat(t[0],"=").concat(n)}0===e?n+=s[e]:n+="&".concat(s[e])}return r||(n+="&version=".concat(Math.random())),"".concat(e.split("?")[0],"?").concat(n)};return{init:(t,s)=>{let{csUrl:i}=t;n="".concat(i,"&version=").concat(Math.random()),r=s,e="testSubmitStatus.txt",o={status:"testopened",secId:"",qid:null,unsavedAnswers:[]},u=[],a={}},isUnsubmittedTestPresent:()=>new Promise((t,s)=>{fetchFile(e).then(e=>{t(onFetchStatusSuccess(e))}).catch(e=>{t(!1)})}),fetchAnswers:()=>{if(n.includes("schools/26132/")||n.includes("schools/11075/"))return new Promise((e,t)=>{fetchFile("mergedAnswers.txt").then(t=>{for(let e in o.unsavedAnswers=[],t)if(t.hasOwnProperty(e)){let s=Number(e);a[s]=t[e],o.unsavedAnswers.push(s)}e({result:"success"})}).catch(e=>{t(e)})});i=0;let e=t;function onFetchAnsFailure(){return i+=1,new Promise((t,s)=>{fetchFile("".concat(e.unsavedAnswers[i],".txt"),onFetchAnsSuccess,onFetchAnsFailure).then(e=>{t(onFetchAnsSuccess(e))}).catch(s=>{i>=e.unsavedAnswers.length?t():t(onFetchAnsFailure(s))})})}function onFetchAnsSuccess(t){return a[e.unsavedAnswers[i]]=t,o.unsavedAnswers[o.unsavedAnswers.length]=e.unsavedAnswers[i],i+=1,new Promise((t,s)=>{i<e.unsavedAnswers.length?fetchFile("".concat(e.unsavedAnswers[i],".txt")).then(e=>{t(onFetchAnsSuccess(e))}).catch(e=>{t(onFetchAnsFailure(e))}):t()})}return new Promise((t,s)=>{(void 0===e||null==e)&&t(),(void 0===e.unsavedAnswers||e.unsavedAnswers.length<=0)&&t(),fetchFile("".concat(e.unsavedAnswers[0],".txt")).then(e=>{onFetchAnsSuccess(e).then(e=>{t(!0,e)})}).catch(e=>{onFetchAnsFailure(e).then(e=>{t(!0,e)})})})},getQid:()=>t&&t.qid?t.qid:null,getSectionId:()=>t.secId,processAutoSavedAnswers:e=>{if(void 0==t||null==t||void 0==t.unsavedAnswers||t.unsavedAnswers.length<=0)return;let s={...e};for(let e=0;e<t.unsavedAnswers.length;e++){let n=t.unsavedAnswers[e],r=a[n];r&&(delete r.tempAnswer,s[n]={...s[n],...r},delete a[n])}return s},setSectionId:e=>{o.secId=e},saveAnswer,updateQuizTime,testSubmitted:()=>(o={status:"testopened",secId:"",qid:null,unsavedAnswers:[]},new Promise((t,s)=>{saveFile({status:"testclosed"},e).then(e=>{t(e)}).catch(e=>{s(e)})}))}}();var E=s(12672),T=s(540),I=s(93050);let getEndTime=e=>{let t=new Date,s=t.setSeconds(t.getSeconds()+e);return s},getQuizConfig=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},validateResponse=(e,t,s)=>{let{FETCHING_FAILED:n,TEST_INFO_SUCCESS:r,START_TEST_SUCCESS:i,QUESTIONS_API_SUCCESS:o,AUTOSAVE_FETCH_SUCCESS:u,TEST_SUBMIT_API_SUCCESS:a,SOLUTION_API_SUCCESS:l,TEST_PAUSE_SUCCESS:d}=c.testActions,S=!1;return(e===n||e===r||e===i||e===o||e===u||e===a||e===l||e===d)&&(S=!0),!S||!s||t===s},h=null,getInitialState=()=>new DefaultTestData,setSubmissionState=e=>({screenState:c.ZT.SUBMITTING,fetchMessage:e?c.mz.TIME_OVER_SUBMIT:c.mz.SUBMITTING,fetchStatus:c.UK.IDLE}),setNextScreenState=(e,t)=>{let{screen:s,message:n,status:r}=t;return s?{screenState:s,fetchMessage:n||c.mz.LOADING_QUIZ,fetchStatus:r||e.fetchStatus}:{screenState:e.screenState,fetchMessage:e.fetchMessage,fetchStatus:e.fetchStatus}},setTestPlayerStates=(e,t)=>{let{screenState:s,testMode:n,testInfo:r,userQuizInfo:i}=e;if(t)return{...t};switch(s){case c.ZT.INITIAL:if(n===c.zy.SOLUTION_MODE)return{screenState:c.ZT.VIEWING_ANSWERS,fetchMessage:c.mz.VIEWING_ANSWERS,fetchStatus:c.UK.IDLE};return{screenState:c.ZT.INSTRUCTION,fetchMessage:c.mz.INSTRUCTION,fetchStatus:c.UK.IDLE};case c.ZT.GET_USER_STATUS:return{screenState:c.ZT.GETTING_QUESTIONS,fetchMessage:c.mz.GETTING_QUESTIONS,fetchStatus:c.UK.IDLE};case c.ZT.GETTING_QUESTIONS:return{screenState:c.ZT.FETCH_SIGNED_URL,fetchMessage:c.mz.AUTOSAVE_INITIATING,fetchStatus:c.UK.IDLE};case c.ZT.FETCH_SIGNED_URL:if(i.status!==c.cB.INPROGRESS_QUIZ&&i.status!==c.cB.ABORTED_QUIZ)return{screenState:c.ZT.TAKING_QUIZ,fetchStatus:c.UK.SUCCESS};return{screenState:c.ZT.RESTORE_AUTOSAVES,fetchMessage:c.mz.RESTORE_AUTOSAVES,fetchStatus:c.UK.IDLE};case c.ZT.RESTORE_AUTOSAVES:if(i.status===c.cB.ABORTED_QUIZ){let e={testInfo:{...r,initialSlideValue:0},currentQuestionIndex:0,...setSubmissionState(!0)};return e}if(r&&r.testDuration<0){let e={testInfo:{...r,initialSlideValue:0},currentQuestionIndex:0,...setSubmissionState(!0)};return e}return{screenState:c.ZT.TAKING_QUIZ};case c.ZT.TAKING_QUIZ:case c.ZT.VIEWING_ANSWERS:default:return{screenState:c.ZT.INVALID_STATE,fetchMessage:c.mz.INVALID_STATE,fetchStatus:c.UK.IDLE}}},setAnswerSheetUrl=(e,t)=>({...e,answerSheetURL:t}),setQuestionPaperUrl=e=>{let t=e.question_paper;return t?{questionPaperURL:t}:{}},setTestPlayerMode=(e,t)=>{let{mode:s,id:n,resultType:r,qId:i,testAction:o}=t,u=Number(s)||c.zy.TAKE_MODE,a=Number(n)||0,l=2>Number(r)?c.Xm.FIRST:c.Xm.LATEST;return e.testId?{...e,answerExplanationState:{...e.answerExplanationState,fetchStatus:c.UK.IDLE}}:a?(h=null,{testMode:u,testId:a,resultType:l,qid:Number(i)||0,...setTestPlayerStates({testMode:u,screenState:c.ZT.INITIAL}),currentLessonPlayerQuizState:o||c.eo.IDLE}):new DefaultTestData},setPauseState=()=>({screenState:c.ZT.PAUSE_INITIATED,fetchMessage:c.mz.SUBMITTING,fetchStatus:c.UK.IDLE}),setFetchProgress=e=>({fetchStatus:c.UK.IN_PROGRESS,lastFetchId:e}),setFetchSuccess=()=>({fetchStatus:c.UK.SUCCESS}),setError=e=>({fetchStatus:c.UK.FAILED,error:{errorCode:e.errorCode,errorHead:e.head,errorMessage:e.errorMessage}}),getSectionOrderingStatus=(e,t)=>{let s=null;return t&&t.length>0&&(s=t[t.length-1].status),!!e.section_selection&&(!s||s===c.cB.SUBMITTED_QUIZ)},setTestInfo=(e,t)=>{let{quiz:s,user_quiz:n,user_quizzes:r,url_token:i,sections:o,product:u,course_type:a}=t,l=getSectionOrderingStatus(s,r),d=getQuizConfig(s.quiz_config),_=!!d&&d.isSectionRuleEnabled,E=new TestInfo(s,e,l,_,u,a),T={};if(_&&e.testMode===c.zy.TAKE_MODE&&o.forEach(e=>{let t={},s=e.section_rules||[];s.forEach(e=>{let{consideration_count:s,qMark:n,qType:r}=e;t={...t,[r]:{[n]:s}}}),T[e.id]={rulesStructuredObject:t,rulesBaseArray:s}}),!E.qCount&&!e.testMode)return setError({code:0,head:"No Question",message:"No questions available in this quiz"});let I=[];s.section_selection&&o.forEach(e=>{I.push(e.id)});let h=r&&r.length?r[r.length-1]:{},f=e.testMode?n:h,p=new UserQuizInfo(f);return e.testMode===c.zy.TAKE_MODE&&s.test_type===c.IQ.PRACTICE_QUIZ&&S.customerConfig.open_practice_quiz_in_same_window?{fetchStatus:c.UK.IDLE,screenState:c.ZT.GET_USER_STATUS,testInfo:E,userQuizInfo:p,sectionOrder:I,sectionRules:T,urlToken:i}:{fetchStatus:c.UK.SUCCESS,testInfo:E,userQuizInfo:p,sectionOrder:I,sectionRules:T,urlToken:i}},setSectionInfo=(e,t,s)=>{let{sections:n}=e,{sections:r}=t,i={},o=[],u=[];if(r.forEach(e=>{n&&n.byId[e.id]?i[e.id]={...n.byId[e.id],...e,questionIds:s?[]:n.byId[e.id].questionIds}:(i[e.id]=e,i[e.id].questionIds=[]),Number(e.position)&&!o[e.position]?o[e.position-1]=e.id:u.push(e.id)}),r.length!==o.length){let e=o.filter(e=>!!e);o=e}return{sections:{byId:i,allIds:[...o,...u]}}},setUserTestInfo=(e,t)=>{let{user_quiz:s,user_course:n}=t,r={...e.userQuizInfo,id:s.id,sectionId:s.quiz_section_id,startTime:s.start_time,randomizationQuestionPaperSetId:s.random_set_id},i=JSON.parse(s.submitted_sections),{sections:o}=setSectionInfo(e,i),u=c.ri.INVALID,a=null;return n&&(u=n.activation_type||c.ri.INVALID,a=n.exam_date),{userEnrollmentType:u,userEnrollmentExpiryDate:a,currentTestSectionId:s.quiz_section_id||o.allIds[0],sections:o,userQuizInfo:r,...setSectionInfo(e,JSON.parse(s.submitted_sections)),testInfo:{...e.testInfo,testEndTime:getEndTime(i.remaining_duration),testDuration:i.remaining_duration,remainingDuration:i.remaining_duration}}},doRandomizeQuestion=(e,t,s,n,r)=>{let i={...n},u=[],a=e.id,l=Math.round(new Date(e.startTime||e.start_time).getTime()/1e3),d=a+t+l;return i.allIds.forEach(e=>{let t=[],n={byId:{},allId:[]};if(i.byId[e].questionIds){if(i.byId[e].questionIds.forEach(e=>{let i=s[e],o=i.groupQid||0;n.byId[o]?n.byId[o].push(i.id):(n.byId[o]=[i.id],n.allId.push(o)),r===c.wb.SHUFFLED_QUIZ?t.push(e):t[s[e].position-1]=e}),r===c.wb.SHUFFLED_QUIZ){t=[];let s=o().shuffle(n.allId,d);s.forEach(e=>{let s=o().shuffle(n.byId[e],d);t=[...t,...s]}),i.byId[e].questionIds=t}else i.byId[e].questionIds=t;u.push(...i.byId[e].questionIds)}else i.byId[e].questionIds=[]}),{sectionCopy:i,allQuestionIds:u}},getGroupData=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.forEach(e=>{t[e.id]={...t[e.id],...e}}),t},setQuestions=(e,t)=>{let{question_groups:s,questions:n}=t,r={},i={},o=getGroupData(s),{sections:u}=e,{byId:a}=u,{userQuizInfo:l,testInfo:d}=e,{quizConfig:S}=d||{},_=!!S&&S.isAnswerShuffleEnabled,E=l.id,T=Math.round(new Date(l.startTime).getTime()/1e3);n.forEach(t=>{let s=E+e.testId+T+t.id;a[t.quiz_section_id].questionIds||(a[t.quiz_section_id].questionIds=[]),a[t.quiz_section_id].questionIds.push(t.id),i[t.id]=new Question(t,o,_,s),r[t.id]=new UserAnswer({},e.testMode)});let I=[],h={...u};if(e.testInfo.randomization!==c.wb.RULES_RANDOM_QUIZ){let t=doRandomizeQuestion(l,e.testId,i,u,e.testInfo.randomization);I.push(...t.allQuestionIds),h={...t.sectionCopy}}else I=n.map(e=>e.id);let f=e.currentQuestionIndex||0,p=e.currentTestSectionId||u.allIds[0];if(u.byId[p]&&u.byId[p].questionIds[f]){let e=u.byId[p].questionIds[f];r[e]={...r[e],questionStatus:r[e].questionStatus|c.Xl.VISITED}}let A=!0;return(I.forEach(e=>{e||(A=!1)}),A)?{questionsById:i,userAnswersbyId:r,questionIds:I,sections:h,startTimeStamp:new Date}:setError({errorCode:0,head:"Something Went Wrong",errorMessage:"Please kindly raise support ticket. From My Profile -> Support"})},updateQMark=e=>e&c.Xl.MARKED?e&~c.Xl.MARKED:e|c.Xl.MARKED|c.Xl.VISITED,updateQuestionMarking=e=>{let{data:t,id:s}=e,n=r()(t);return n[s]={...n[s],questionStatus:updateQMark(n[s].questionStatus)},{userAnswersbyId:n}},setToSolutionMode=(e,t)=>{let{id:s}=t,n=e.questionsById[s],i=(0,T.ym)(e.userAnswersbyId[s],n),o=(0,l.FU)(e.startTimeStamp),u=r()(e.userAnswersbyId),a=(i&c.Xl.CORRECT)===c.Xl.CORRECT;return u[s]={...u[s],time_spent:o,isSolutionMode:!0,mark:a?Number(n.pmark):Number(n.nmark),questionStatus:i},{userAnswersbyId:u}},updateQStat=(e,t)=>null!==t?e|c.Xl.VISITED|c.Xl.ANSWERED:e&~c.Xl.ANSWERED|c.Xl.VISITED,myAnswerUpdate=e=>{let{data:t,options:s}=e,{id:n,answer:i}=s,o=r()(t);return o[n]={...o[n],questionStatus:updateQStat(o[n].questionStatus,i),answer:i,isSolutionMode:!1},{userAnswersbyId:o}},initAutoSave=(e,t)=>{(h=_).init(e,t)},getAutosaveAnswer=(e,t,s)=>new Promise((n,r)=>{if(h.init(t,s),e.userQuizInfo&&e.userQuizInfo.status!==c.cB.INPROGRESS_QUIZ){n({});return}h.isUnsubmittedTestPresent().then(t=>{t?h.fetchAnswers().then(t=>{let s=0,r=0,i={};if(t){let t=h.getQid(),n=e.questionsById[t];n&&(r=n.sid||0,s=e.sections.byId[n.sid].questionIds.indexOf(t)),i=h.processAutoSavedAnswers(e.userAnswersbyId)}s=s>0?s:0;let{sections:o,currentSectionId:u}=e;if(o.byId[u]&&o.byId[u].questionIds[s]){let e=o.byId[u].questionIds[s];i[e]={...i[e],questionStatus:i[e].questionStatus|c.Xl.VISITED}}n({currentQuestionIndex:s||e.currentQuestionIndex,currentTestSectionId:r||e.currentTestSectionId,userAnswersbyId:i,testInfo:{...e.testInfo,initialSlideValue:s||e.currentQuestionIndex}})}).catch(e=>r(Error({errorCode:e.code,errorHead:"Can_not_get_autosaved_question",errorMessage:"Can_not_get_autosaved_question_msg"}))):n({})}).catch(e=>{console.log("Test","getAutosaveAnswer",e?e.message:"Did not recieve error"),n({})})});function autosaveAnswer(e,t,n){if(!h)return null;h.saveAnswer(e,t,n).then(e=>{e>0&&console.log("Test","Autosaving...",t)}).catch(r=>{var i,o;(0,I.FN)({message:"Network Error: Your answers aren't being saved."}),console.log("Error Auto saving answers failed ",r,e,t,n),null===(o=s.g)||void 0===o||null===(i=o.bugsnag)||void 0===i||i.notify(Error("\n        Error Auto saving failed \n        numOfAnswerSaveFailures::".concat(r,", \n        userAnswer::").concat(e,"\n        id::").concat(t,"\n        sid::").concat(n,"\n        ")))})}let userVisitedQuestion=e=>{let{data:t,options:s}=e,{nextQuestionIndex:n,currentQuestionId:i,nextQuestionId:o,nextSectionId:u,isSolutionMode:a,shouldExit:d,isViewingSolutionForPractiseQuiz:S,totalInactiveSecondsForCurrentQuestion:_}=s;if(console.log("Quiz","User visited","question : ".concat(i," of section: ").concat(u," ")),!i||!t.userAnswersbyId[i])return{};let E=(0,l.FU)(t.startTimeStamp,null,_),T=r()(t.userAnswersbyId);return T[i]={...T[i],questionStatus:T[i].questionStatus|c.Xl.VISITED,time_spent:E&&!(S||a)?T[i].time_spent+E:T[i].time_spent},o&&(T[o]={...T[o],questionStatus:T[o].questionStatus|c.Xl.VISITED}),a||(T[i]={...T[i]},autosaveAnswer(T[i],i,u)),{...t,userAnswersbyId:T,currentQuestionIndex:n||0,startTimeStamp:new Date,endOfTest:d?c.aZ.EXIT_BACK:c.aZ.NONE,currentTestSectionId:u||t.currentTestSectionId}},testSubmitted=(e,t,s)=>{if(h.testSubmitted().then(()=>{console.log("Testplayer","Autosaver submit","Success")}).catch(e=>{console.log("User in Testplayer Autosaver submit failed",e)}),s.user_quiz.quiz_section_id){let t=JSON.parse(s.user_quiz.submitted_sections);return{questionsById:{},questionIds:[],userAnswersbyId:{},...setSectionInfo(e,t,!0),currentTestSectionId:s.user_quiz.quiz_section_id,screenState:c.ZT.GETTING_QUESTIONS,fetchMessage:c.mz.GETTING_QUESTIONS,fetchStatus:c.UK.IDLE,currentQuestionIndex:0,testInfo:{...e.testInfo,initialSlideValue:0,testEndTime:getEndTime(t.remaining_duration),testDuration:t.remaining_duration,remainingDuration:t.remaining_duration}}}return{...t,endOfTest:c.aZ.SUBMISSION_DONE,currentLessonPlayerQuizState:e.currentLessonPlayerQuizState,testId:e.testId,answerSheetURL:e.answerSheetURL}},exitQuiz=()=>({endOfTest:c.aZ.EXIT_BACK}),setSolutionStates=(e,t)=>{let{quiz:s,question_groups:n,questions:r,quiz_sections:i,url_token:o,user_quiz:u,user_course:a,evaluation:l,product:d}=t,S=c.ri.INVALID,_=null;a&&(S=a.activation_type||c.ri.INVALID,_=a.exam_date||null);let E={},T={},I=getGroupData(n),{sections:h}=setSectionInfo({},{sections:i}),{byId:f}=h,p=JSON.parse(u.answers),A=getQuizConfig(s.quiz_config),O=!!A&&A.isAnswerShuffleEnabled,m=u.id,R=Math.round(new Date(u.start_time).getTime()/1e3);r.forEach(t=>{let n=m+s.id+R+t.id;f[t.quiz_section_id].questionIds||(f[t.quiz_section_id].questionIds=[]),f[t.quiz_section_id].questionIds.push(t.id),T[t.id]=new Question(t,I,O,n),p&&p[t.id]?E[t.id]=new UserAnswer(p[t.id],e.testMode,T[t.id].qnType===c.n7.SUBJECTIVE_QUESTION):E[t.id]=new UserAnswer({},e.testMode)});let w=[],g={...h};if(s.is_random_quiz!==c.wb.RULES_RANDOM_QUIZ){let e=doRandomizeQuestion(u,s.id,T,h,s.is_random_quiz);w.push(...e.allQuestionIds),g={...e.sectionCopy}}else w=r.map(e=>e.id);let D=h.allIds[0],{currentQuestionIndex:C}=e;return e.qid&&T[e.qid]&&(D=T[e.qid].sid,C=h.byId[D].questionIds.indexOf(e.qid)),{...setTestInfo({...e,currentQuestionIndex:C},{quiz:s,user_quiz:u,url_token:o,currentQuestionIndex:C,product:d}),userEnrollmentType:S,userEnrollmentExpiryDate:_,currentTestSectionId:D,currentQuestionIndex:C,userAnswersbyId:E,questionsById:T,questionIds:w,sections:g,evaluatedAnswerSheet:l?l.evaluated_answer_sheet:null}},setSelectedQuestion=(e,t)=>({...{...e.answerExplanationState},selectedQuestionId:t,fetchStatus:c.UK.IDLE}),setExplainationError=(e,t)=>({...{...e.answerExplanationState},error:t,explainationDetails:{slides:{slideDetails:{},slideIds:[]},contentSignedUrl:""},fetchStatus:c.UK.FAILED}),setExplainationContenSignedUrl=(e,t)=>{let s={...e.answerExplanationState},n={...e.questionsById},r={},i=[];if(n&&n[s.selectedQuestionId]){let e=n[s.selectedQuestionId],t=e.answerExplanation;t&&t.length&&t.forEach((e,t)=>{r[t]={fileId:e.src_id||null,fileName:e.src,fileType:e.src_type,slideState:e.state,startFile:e.url||null,numOfFormats:e.no_of_formats,hasFullyTranscoded:e.has_fully_transcoded,contentId:e.content_id,contentPath:e.content_path,contentPathExtn:e.content_path_extn,isOpt:e.isOpt},i.push(t)})}let o={slides:{slideDetails:r,slideIds:i},contentSignedUrl:t.content_signed_url||""};return{...s,explainationDetails:o,fetchStatus:c.UK.SUCCESS}},updateRemainingDuration=(e,t)=>t?{...t,remainingDuration:e}:t,resetUserAnswer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{userAnswersbyId:s,sections:n}=e;if(!s||!n)return e;let{byId:r}=n,i=[];return t.map(e=>{if(r&&r[e]){let t=r[e];i=[...i,...t.questionIds]}}),i.map(e=>{let t=s[e];t&&(s[e]={...t,questionStatus:c.Xl.NOT_VISITED,answer:null,isSolutionMode:!1})}),{userAnswersbyId:s}};function setPlayerData(e,t,s,n,r,i,o,u,a,l,d,_,T){let I={title:"",schoolId:S.customerConfig.SCHOOL_ID,masterSchoolId:S.customerConfig.SCHOOL_ID,resourceSchoolId:a||S.customerConfig.SCHOOL_ID,studentId:r,questionId:t,lessonTitle:"",lr_token:i,queryparams:e?e.split("?")[1]:null,isTrialLesson:!1,isTrialUser:0,mocktestId:l||u||999999,resourceMockTestId:l||u||999999,quizId:u,courseSeoTitle:n,initialSlideIdx:0,initialSlideSeekPos:0,lessonPosition:E.PD.SINGLE_LESSON,isWatermarkEnabled:o.isWatermarkEnabled,isUserDataWaterMarkDisabled:o.isUserDataWaterMarkDisabled,wmarkMessage:o.wmarkMessage,mobile:o.mobile,email:o.email,isFreeCourse:d||!1,isPaidSchool:S.schoolConfig.schoolData.ips,isMonitorEnabled:S.schoolConfig.schoolData.ipme,courseType:_||c.VQ.TEST,currentLessonId:T||0};return I}let checkAnsweredForTwoPartQType=(e,t)=>{let s=!1,n=Object.keys(t);return n.length>1&&(s=!0),n.forEach(e=>{t[e].length>1&&(s=!0)}),s},checkAnsweredForMultiSource=(e,t)=>{let s=!1,n=e.length,r=Object.keys(t);return n===r.length&&(s=!0),s},checkIfAllChoicesAnswered=(e,t,s)=>e===c.n7.TWO_PART_ANALYSIS?checkAnsweredForTwoPartQType(t,s):e!==c.n7.MULTI_SOURCE&&e!==c.n7.MULTIPLE_DROPDOWN&&e!==c.n7.DROP_DOWN_QUESTION||checkAnsweredForMultiSource(t,s),replaceFiBDropdowLiquidVariableWithBlanks=(e,t,s)=>{let n;if(s!==c.n7.MULTIPLE_DROPDOWN&&s!==c.n7.DROP_DOWN_QUESTION)return t;let r=(()=>{let s;let n=[];return e.forEach((e,r)=>{(s=t.match("{".concat(c.vq).concat(e.dropdown_id,"}")))&&n.push({dropdownId:e.dropdown_id,matchedText:s[0]})}),n})();return n=t,r.forEach((e,t)=>{let{dropdownId:s}=e;n=n.replace("{".concat(c.vq).concat(s,"}"),"_______________")}),n}},73706:function(){}}]);