"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9997],{70577:function(e,t,s){s.d(t,{Z:function(){return productAdapter}});var o=s(24246),r=s(27378),n=s(38906),i=s(78445),l=s(81851),a=s(37648),c=s(64357);let{BUNDLE:d}=i.courseType;function productAdapter(e){let CourseDetailsAdapterInner=class CourseDetailsAdapterInner extends r.Component{shouldComponentUpdate(e){return!e.currentCourseType||e.currentCourseType!==i.courseType.COURSE||e.currentCourseType!==i.courseType.TEST_SERIES||!!e.currentLessonId}refetchCourseDetails(){let e=this.props.currentCourseId;this.props.doFetchCourseDetails(e)}refetchBundleDetails(){let e=this.props.currentBundleId;this.props.doFetchCourseDetails(e)}refetchCourseAccessData(){let e=this.props.currentCourseId;this.props.doFetchCourseAccessData(e)}refetchSeoToId(){let{currentBundleSeo:e,currentCourseSeo:t}=this.props,s=[];e&&s.push(e),t&&s.push(t),this.props.doGetIdForSeoTitle(s)}render(){let t=0,s=this.refetchCourseDetails,r={errorCode:0,errorMessage:"Unknown Error"},n={};if(this.props.currentCourseFetchStatus===i.UK.SUCCESS&&(n={goToStore:c.k4}),this.props.seoToIdFetchStatus===i.UK.FAILED)return t=i.UK.FAILED,s=this.refetchSeoToId,r=this.props.seoToIdFetchError,(0,o.jsx)(e,{...this.props,loadStatus:t,retry:s,error:r});if(this.props.currentBundleFetchStatus===i.UK.FAILED)return t=i.UK.FAILED,s=this.refetchBundleDetails,r=this.props.currentBundleError,(0,o.jsx)(e,{...this.props,loadStatus:t,retry:s,error:r});if(this.props.currentCourseFetchStatus===i.UK.FAILED)return t=i.UK.FAILED,r=this.props.currentCourseError,(0,o.jsx)(e,{...this.props,loadStatus:t,retry:s,error:r});if(this.props.currentCourseAccessDataFetchStatus===i.UK.FAILED)return t=i.UK.FAILED,s=this.refetchCourseAccessData,r=this.props.currentCourseError,(0,o.jsx)(e,{...this.props,loadStatus:t,retry:s});let{currentBundleFetchStatus:d,currentCourseFetchStatus:u,seoToIdFetchStatus:h,currentBundleId:p,currentCourseId:v}=this.props;return h===i.UK.IDLE||h===i.UK.IN_PROGRESS||l.customerConfig.pricing_model===a._n.ONE_TIME_PAYMENT&&0!==p&&d===i.UK.IDLE||d===i.UK.IN_PROGRESS||0!==v&&u===i.UK.IDLE||u===i.UK.IN_PROGRESS?(t=i.UK.IN_PROGRESS,(0,o.jsx)(e,{...this.props,loadStatus:t,retry:s})):p&&this.props.currentBundleDetails||v&&this.props.currentCourseDetails?(0,o.jsx)(e,{...this.props,currentProductDetails:this.props.currentProductDetails,retry:s,productType:this.props.currentProductType,userEnrollmentState:this.props.userEnrollmentState,loadStatus:i.UK.SUCCESS,helpers:n}):null}constructor(e){super(e),this.refetchCourseDetails=this.refetchCourseDetails.bind(this),this.refetchBundleDetails=this.refetchBundleDetails.bind(this),this.refetchCourseAccessData=this.refetchCourseAccessData.bind(this),this.refetchSeoToId=this.refetchSeoToId.bind(this),this.state={courseType:0}}};return(0,n.$)("selectTestSeriesStats","doFetchCourseDetails","doFetchCourseAccessData","doGetIdForSeoTitle","doEnrollToCourse","selectCurrentCourseId","selectCurrentCourseDetails","selectCurrentProductDetails","selectCurrentProductType","selectCurrentCourseError","selectCurrentCourseFetchStatus","selectCurrentCourseAccessDataFetchStatus","selectCurrentBundleId","selectCurrentBundleError","selectSeoToIdFetchError","selectCurrentBundleDetails","selectCurrentBundleFetchStatus","selectUserEnrollmentState","selectShowEnrollButton","selectIsCurrentProductFromBundlde","selectSeoToIdFetchStatus","selectCurrentBundleSeo","selectCurrentCourseSeo","selectSharedIsUserLoggedIn","selectCourseCompletionData","selectIsCourseAvailableForTrial","selectIsEnrolling","selectCurrentReviewData","selectCurrentCourseSections","selectCurrentCourseMockTests","selectIsCourseExpired","selectIsCoursePrivate","selectIsSellIndividualEnabled","selectIsCourseFree","selectIsBundleFree","selectCurrentCourseSeoTitle","selectCurrentBundleSeoTitle","selectAllBundleCourseIds","selectCurrentCourseTotalAllocatedTime","selectPricing","selectCurrentCourseType",CourseDetailsAdapterInner)}},24164:function(e,t,s){var o=s(24246),r=s(27378),n=s(73408),i=s(97626),l=s(39555),a=s(72022),c=s(33790),d=s(38906),u=s(98784),h=s.n(u),p=s(73704);let v=p.OS===p.vO.DEVICE_WINDOWS||p.OS===p.vO.DEVICE_MAC,S=(0,i.Z)(v?n.UI:n.wp),C=(0,l.Z)(n.$_);function withNavbarAndFooter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{navbar:!0,footer:!0},s=r.memo(s=>{let n=t.navbar&&(!s.currentAccessingWebViewDeviceType||s.currentAccessingWebViewDeviceType===p.vO.DEVICE_WEB||s.currentAccessingWebViewDeviceType===p.vO.DEVICE_WINDOWS||s.currentAccessingWebViewDeviceType===p.vO.DEVICE_MAC),i=t.footer&&(!s.currentAccessingWebViewDeviceType||s.currentAccessingWebViewDeviceType===p.vO.DEVICE_WEB||s.currentAccessingWebViewDeviceType===p.vO.DEVICE_WINDOWS||s.currentAccessingWebViewDeviceType===p.vO.DEVICE_MAC);return(0,r.useEffect)(()=>{console.log("withNavbarAndFooter didMount")},[]),(0,r.useEffect)(()=>{console.log("withNavbarAndFooter didUpdate")}),(0,o.jsx)(c.Ar,{level:"2",children:(0,o.jsxs)(a.kC,{sx:{flexDirection:"column",alignItems:"stretch",justifyContent:"space-between",minHeight:"100vh",backgroundColor:"inherit"},children:[n&&(0,o.jsx)(a.xu,{children:(0,o.jsx)(S,{})}),(0,o.jsx)(a.kC,{sx:{flex:1,flexDirection:"column",justifyContent:"center",backgroundColor:"inherit"},children:(0,o.jsx)(e,{...s})}),i&&(0,o.jsx)(a.xu,{children:(0,o.jsx)(C,{})})]})})},(e,t)=>h().isEqual(e,t));return(0,d.$)("selectCurrentAccessingWebViewDeviceType",s)}t.Z=withNavbarAndFooter},39555:function(e,t,s){s.d(t,{Z:function(){return FooterFunction}});var o=s(24246),r=s(27378),n=s(2397),i=s(86677),l=s.n(i),a=s(66110);let navigateToLanguage=()=>{l().push({pathname:a.y4.languageList,query:{from:l().asPath}},a.XC.languageList({from:l().asPath}))},navigateToAboutUs=()=>{l().push({pathname:a.y4.institutePage,query:{from:l().asPath}},a.XC.aboutus())};function FooterFunction(e){let FooterAdapter=class FooterAdapter extends r.Component{render(){return(0,o.jsx)(e,{footer:{data:this.constructData(),callbacks:this.callbacks}})}constructor(e){super(e),this.constructData=()=>this.footerUtils.constructFooterData(this.props),this.callbacks={navigateToLanguage:navigateToLanguage,navigateToAboutUs:navigateToAboutUs},this.footerUtils=new n.v}};return FooterAdapter}},9870:function(e,t,s){s.d(t,{Z:function(){return DiscussionAdapter}});var o=s(24246),r=s(27378),n=s(38906),i=s(73704),l=s(81851);let DiscussionUtils=class DiscussionUtils{constructDiscussionData(e){let{discussionFetchError:t,discussionCourseId:s,discussionBundleId:o,discussionLessonId:r,discussionLoadingType:n,currentLessonType:a,navigationCurrentScreen:c,discussionData:d,disscussionLastRequestStatus:u,disscussionLastRequestId:h,discussionFetchStatus:p,currentCourseSectionId:v,currentCourseFetchStatus:S,currentBundleFetchStatus:C,courseUploadToken:g,sharedAuthToken:x,userEnrollmentState:y,isCourseExpired:m,isBundleFree:D,currentBundleId:T,currentCourseId:b,currentCourseTitle:I,isCourseFree:k,currentCourseSections:L,currentCourseLessons:f,sharedIsUserLoggedIn:P,sharedUserId:E,currentLessonId:w,currentCourseSeoTitle:A,currentBundleSeoTitle:j,currentBundleTitle:F,currentLessonTitle:R,currentSectionTitle:B,userSelectedDownloadDir:N,discussionPostId:U,discussionPostTitle:O,postDiscussionUrlToken:_,discussionType:M,currentCommunityDetails:H,bundleUploadToken:z,isDiscussionCircle:W,currentBundleDetails:G,discussionCourseLesson:q}=e,V={courseData:{currentLessonType:a,currentCourseSectionId:v,currentCourseFetchStatus:S,currentBundleFetchStatus:C,courseUploadToken:g,userEnrollmentState:y,isCourseExpired:m,isBundleFree:D,currentBundleId:T,currentCourseId:b,currentCourseTitle:I,isCourseFree:k,currentCourseSections:L,currentCourseLessons:f,currentLessonId:w,currentCourseSeoTitle:A,currentBundleSeoTitle:j,currentBundleTitle:F,currentLessonTitle:R,currentSectionTitle:B,userSelectedDownloadDir:N,bundleUploadToken:z,isDiscussionCircle:W,currentBundleDetails:G},sharedInfo:{sharedAuthToken:x,sharedIsUserLoggedIn:P,sharedUserId:E},discussion:{discussionFetchError:t,discussionCourseId:s,discussionBundleId:o,discussionLessonId:r,discussionLoadingType:n,discussionData:d,discussionLastRequestStatus:u,discussionLastRequestId:h,discussionFetchStatus:p,isAllDiscussionScreen:c===i.i_.DISCUSSION||c===i.i_.BATCH_DISCUSSION_CIRCLE,discussionPostId:U,discussionPostTitle:O,postDiscussionUrlToken:_,discussionType:M,isNewsfeedDiscussionEnabled:!!l.customerConfig.discussion_enabled_for_posts,isLikeEnabled:!!l.customerConfig.is_like_enabled,isCommunityPostDetailsScreen:c===i.i_.COMMUNITY_POST_DETAILS,discussionCourseLesson:q},common:{navigationCurrentScreen:c},communityData:{currentCommunityDetails:H},isDesktopApp:i.OS===i.vO.DEVICE_WINDOWS||i.OS===i.vO.DEVICE_MAC};return V}};var a=s(42040),c=s(53794),d=s(93050),u=s(15819),h=s(86677),p=s.n(h),v=s(66110);let navigateBack=()=>{window.history.length>1&&p().back()},navigateDiscussionDetail=()=>{},navigateToDiscussion=e=>{p().push({pathname:v.y4.allDiscussion,query:e},v.XC.allDiscussion(e))},navigateToLesson=(e,t)=>{p().push({pathname:v.y4.lessonPlayer,query:e},v.XC.lessonPlayer(t))},navigateToContentLibrary=()=>{p().push({pathname:v.y4.coursesLibrary,query:{tabId:"content-library"}},v.XC.coursesLibrary({tabId:"content-library"}))};function DiscussionAdapter(e){let DiscussionAdapterComponent=class DiscussionAdapterComponent extends r.Component{fetchCourseLevelDiscussion(e,t,s,o,r,n,i){let l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],a=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;this.props.doFetchCourseLevelDiscussion(e,t,s,o,this.props.sharedUserId,r,n,i,l,a,c)}fetchLessonListForCourse(e){let{doFetchLessonListForCourse:t}=this.props;t(e)}fetchLessonLevelDiscussion(e,t,s){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;this.props.doFetchLessonLevelDiscussion(e,t,s,o,this.props.sharedUserId,r)}refreshDiscussionDetails(){let{currentDiscussionBoardId:e,doFetchDiscussionBoardData:t,discussionType:s,discussionPostTitle:o,discussionPostId:r,discussionCourseId:n,discussionBundleId:i}=this.props;t(e||0,u.awN.REFRESH,n,i,r,o,s)}postQuestion(e,t){this.props.doPostQuestion(e,t)}editQuestion(e,t){this.props.doEditQuestion(e,t)}deleteQuestion(e,t){this.props.doDeleteQuestion(e,t)}deleteComment(e){this.props.doDeleteComment(e)}postReply(e,t){this.props.doPostReply(e,t)}editReply(e,t){this.props.doEditReply(e,t)}setCurrentAccessingLesson(e,t){this.props.doSetCurrentAccessingLesson(e,t)}getNavigationParam(e){let{route:t}=this.props;if(t)return null==t?void 0:t.params[e]}toggleLikeDiscussion(e){let t=this.props.discussionData.discussionDetails[e];if(t.isLiked){var s;let o=null===(s=t.studentLike)||void 0===s?void 0:s.id;this.props.doRemoveLike(o,e,a.Hz.DISCUSSION_BOARD);return}this.props.doAddLike(e,a.Hz.DISCUSSION_BOARD)}toggleLikeComment(e,t){let s=this.props.discussionData.discussionDetails[t],o=s.comments.commentDetails[e];if(o.isLiked){var r;let s=null===(r=o.studentLike)||void 0===r?void 0:r.id;this.props.doRemoveLike(s,e,a.Hz.COMMENT,t)}else this.props.doAddLike(e,a.Hz.COMMENT,t)}render(){let t=this.DiscussionUtils.constructDiscussionData(this.props),s={refreshDiscussionDetails:this.refreshDiscussionDetails,fetchCourseLevelDiscussion:this.fetchCourseLevelDiscussion,fetchLessonLevelDiscussion:this.fetchLessonLevelDiscussion,postQuestion:this.postQuestion,editQuestion:this.editQuestion,deleteQuestion:this.deleteQuestion,deleteComment:this.deleteComment,postReply:this.postReply,editReply:this.editReply,toggleLikeComment:this.toggleLikeComment,toggleLikeDiscussion:this.toggleLikeDiscussion,showToast:d.CF,StripHTML:c.su,decodeServerData:c.Gh,convertSecToTime:c.Sp,getSlideNumber:c.Gk,AppendSuffixZero:c.LR,isAnsweredByFaculty:this.isAnsweredByFaculty,setCurrentAccessingLesson:this.setCurrentAccessingLesson,navigateBack:navigateBack,navigateDiscussionDetail:navigateDiscussionDetail,getFileNameFromUrl:c.w2,downloadAttachments:d.aG,isAttachmentDownloaded:d.By,cancelDownloads:d.Gr,attachmentDownloadingState:d.LQ,openDocuments:d.KP,getNavigationParams:this.getNavigationParam,convertBytesToSize:c.iz,cancelCurrentUpload:d.Ze,chooseFileAndUpload:d.N7,uploadFile:d.cT,decodeHtmlEntities:c.aV,navigateToDiscussion:navigateToDiscussion,getCurrentPosition:this.props.getCurrentPosition,setPlayerFocusState:this.props.setPlayerFocusState,navigateToLesson:navigateToLesson,doSendBookmarkVisitedEvent:this.props.doSendBookmarkVisitedEvent,fetchLessonListForCourse:this.fetchLessonListForCourse,navigateToContentLibrary:navigateToContentLibrary};return(0,o.jsx)(e,{...this.props,allDiscussionsData:{data:t,callbacks:s}})}constructor(e){super(e),this.isAnsweredByFaculty=(e,t)=>{if(0===t.length)return!1;let s=t.filter(t=>e[t].userInfo.userRole===u.xZ9.SCHOOL_ADMIN||e[t].userInfo.userRole===u.xZ9.TEACHER||e[t].userInfo.userRole===u.xZ9.ROOT_ADMIN);return s.length>0},this.fetchCourseLevelDiscussion=this.fetchCourseLevelDiscussion.bind(this),this.fetchLessonLevelDiscussion=this.fetchLessonLevelDiscussion.bind(this),this.postQuestion=this.postQuestion.bind(this),this.editQuestion=this.editQuestion.bind(this),this.deleteQuestion=this.deleteQuestion.bind(this),this.deleteComment=this.deleteComment.bind(this),this.postReply=this.postReply.bind(this),this.editReply=this.editReply.bind(this),this.isAnsweredByFaculty=this.isAnsweredByFaculty.bind(this),this.setCurrentAccessingLesson=this.setCurrentAccessingLesson.bind(this),this.getNavigationParam=this.getNavigationParam.bind(this),this.toggleLikeDiscussion=this.toggleLikeDiscussion.bind(this),this.toggleLikeComment=this.toggleLikeComment.bind(this),this.refreshDiscussionDetails=this.refreshDiscussionDetails.bind(this),this.fetchLessonListForCourse=this.fetchLessonListForCourse.bind(this),this.DiscussionUtils=new DiscussionUtils}};return(0,n.$)("selectDiscussionFetchError","selectDiscussionCourseId","selectDiscussionBundleId","selectDiscussionLessonId","selectDiscussionLoadingType","selectCurrentLessonType","selectNavigationCurrentScreen","selectDiscussionData","selectDisscussionLastRequestStatus","selectDisscussionLastRequestId","selectDiscussionFetchStatus","selectCurrentCourseSectionId","selectCurrentCourseFetchStatus","selectCurrentBundleFetchStatus","selectCourseUploadToken","selectSharedAuthToken","selectUserEnrollmentState","selectIsCourseExpired","selectIsBundleFree","selectCurrentBundleId","selectCurrentCourseId","selectCurrentCourseTitle","selectIsCourseFree","selectUserSelectedDownloadDir","selectCurrentCourseSections","selectCurrentCourseLessons","selectSharedIsUserLoggedIn","selectSharedUserId","selectCurrentLessonId","selectCurrentCourseSeoTitle","selectCurrentBundleSeoTitle","selectCurrentBundleTitle","selectCurrentLessonTitle","selectCurrentSectionTitle","doFetchCourseLevelDiscussion","doFetchLessonLevelDiscussion","doPostQuestion","doEditQuestion","doEditInit","doDeleteQuestion","doDeleteComment","doPostReply","doEditReply","doAddLike","doRemoveLike","doSetCurrentAccessingLesson","selectDiscussionPostId","selectDiscussionPostTitle","selectPostDiscussionUrlToken","selectDiscussionType","selectCurrentDiscussionBoardId","selectCurrentCommunityDetails","doFetchDiscussionBoardData","doSendBookmarkVisitedEvent","selectBundleUploadToken","selectIsDiscussionCircle","doFetchLessonListForCourse","selectDiscussionCourseLesson",DiscussionAdapterComponent)}},26934:function(e,t,s){s.d(t,{Z:function(){return NoteBooksAdapter}});var o=s(24246),r=s(27378),n=s(38906),i=s(53794),l=s(93050),a=s(86677),c=s.n(a),d=s(66110);let navigateBack=()=>{c().back()},navigateToSolutionPlayer=e=>{c().push({pathname:d.y4.solutionPlayer,query:e},d.XC.solutionPlayer(e))},navigateToStore=()=>{c().push(d.y4.store)},navigateToSignIn=e=>{e&&e({href:{pathname:c().pathname,query:c().query},as:c().asPath}),c().push(d.y4.signin,d.XC.signin())},navigateToLessonPlayer=(e,t)=>{c().push({pathname:d.y4.lessonPlayer,query:e},d.XC.lessonPlayer(t))},navigateToDashboard=e=>{c().push({pathname:d.y4.courseDashboard},d.XC.courseDashboard({productSeo:e}))},navigateToAllBookmarks=e=>{let{currentBundleId:t,currentCourseId:s,currentCourseSeoTitle:o,currentLessonId:r,currentTestSeriesLessonId:n}=e;c().push({pathname:d.y4.allBookmarks,query:{courseId:s,bundleId:t||0}},d.XC.allBookmarks({productSeo:o,courseId:s,lessonId:r||n,bundleId:t||0}))},navigateToHome=()=>{c().push(d.y4.home,d.XC.home())},navigateToContentLibrary=()=>{c().push({pathname:d.y4.coursesLibrary,query:{tabId:"content-library"}},d.XC.coursesLibrary({tabId:"content-library"}))};var u=s(15819),h=s(37648),p=s(81851),v=s(91563),S=s(73704);let NoteBookUtils=class NoteBookUtils{constructNoteBookData(e){let{currentBundleId:t,currentCourseId:s,currentBundleTitle:o,currentCourseSeoTitle:r,currentBundleSeoTitle:n,currentCourseTitle:i,currentLessonTitle:l,currentLessonId:a,currentCourseSectionId:c,currentSectionTitle:d,currentLessonType:u,currentCourseType:C,currentCourseSections:g,currentLessonSlides:x,currentCourseLessons:y,userEnrollmentState:m,currentLessonNoteBookData:D,currentLessonNoteBookFetchStatus:T,currentLessonNoteBookError:b,currentCourseNoteBookError:I,currentBookMarkLessonId:k,noteBookLastRequestStatus:L,noteBookLastRequestId:f,navigationCurrentScreen:P,currentCourseNoteBookFetchStatus:E,currentCourseNoteBookLoadingType:w,sharedIsUserLoggedIn:A,sharedUserId:j,sharedAuthToken:F,isCourseExpired:R,isCourseFree:B,isBundleFree:N,courseUploadToken:U,currentCourseNoteBookData:O,currentTestSeriesLessonId:_}=e,M=p.customerConfig.pricing_model===v._nP.SUBSCRIPTION_TYPE,H={isSubscriptionMode:M,courseData:{currentBundleId:t,currentCourseId:s,currentBundleTitle:o,currentCourseSeoTitle:r,currentBundleSeoTitle:n,currentCourseTitle:i,currentLessonTitle:l,currentLessonId:a,currentCourseSectionId:c,currentSectionTitle:d,currentLessonType:u,currentCourseType:C,currentCourseSections:g,currentLessonSlides:x,currentCourseLessons:y,userEnrollmentState:m,isCourseExpired:R,isCourseFree:B,isBundleFree:N,courseUploadToken:U,currentTestSeriesLessonId:_},sharedInfo:{sharedIsUserLoggedIn:A,sharedUserId:j,sharedAuthToken:F},noteBooks:{currentLessonNoteBookData:D,currentLessonNoteBookFetchStatus:T,currentLessonNoteBookError:b,currentCourseNoteBookError:I,currentBookMarkLessonId:k,noteBookLastRequestStatus:L,noteBookLastRequestId:f,currentCourseNoteBookFetchStatus:E,currentCourseNoteBookLoadingType:w,currentCourseNoteBookData:O},common:{navigationCurrentScreen:P,isAllNotesScreen:P===h.navigatorScreens.NOTES},isDesktopApp:S.OS===S.vO.DEVICE_WINDOWS||S.OS===S.vO.DEVICE_MAC};return H}constructFavouriteData(e){let{productsList:t,favouritesFetchStatus:s,favouriteData:o,notesFetchError:r,productsFetchStatus:n,productsError:i,pricing:l}=e;return{productsList:t,productsFetchStatus:n,productsError:i,favouriteData:o,favouritesFetchStatus:s,notesFetchError:r,pricing:l}}};function NoteBooksAdapter(e){let NoteBooksAdapterComponent=class NoteBooksAdapterComponent extends r.Component{FetchLessonLevelNotes(e,t,s){let{doFetchLessonLevelNotes:o}=this.props;o(e,t,s)}FetchQuizLevelNotes(e,t,s){let{doFetchQuizLevelNotes:o}=this.props;o(e,t,s)}AddNoteBook(e,t){let{doAddNoteBook:s}=this.props;s(e,t)}EditNoteBook(e,t){let{doEditNoteBook:s}=this.props;s(e,t)}DeleteNotes(e,t){let{doDeleteNotes:s}=this.props;s(e,t)}SetCurrentAccessingLesson(e,t){let{doSetCurrentAccessingLesson:s}=this.props;s(e,t)}FetchCourseLevelNotes(e,t,s){let{doFetchCourseLevelNotes:o,currentBundleId:r}=this.props;o(e,r,t,s)}render(){var t;let s={StripHTML:i.su,decodeServerData:i.Gh,convertSecondsToDisplayFormat:i.MQ,getSlideNumber:i.Gk,showToast:l.CF,FetchLessonLevelNotes:this.FetchLessonLevelNotes,FetchCourseLevelNotes:this.FetchCourseLevelNotes,AddNoteBook:this.AddNoteBook,EditNoteBook:this.EditNoteBook,DeleteNotes:this.DeleteNotes,SetCurrentAccessingLesson:this.SetCurrentAccessingLesson,navigateBack:navigateBack,navigateToSolutionPlayer:navigateToSolutionPlayer,getFileNameFromUrl:i.w2,cancelCurrentUpload:l.Ze,chooseFileAndUpload:l.N7,convertBytesToSize:i.iz,navigateToAllBookmarks:navigateToAllBookmarks,navigateToLessonPlayer:navigateToLessonPlayer,navigateToHome:navigateToHome,getCurrentPosition:this.props.getCurrentPosition,FetchQuizLevelNotes:this.FetchQuizLevelNotes,doSendBookmarkVisitedEvent:this.props.doSendBookmarkVisitedEvent,navigateToContentLibrary:navigateToContentLibrary,getIsDesktopApp:this.getIsDesktopApp},r=this.NoteBookUtils.constructNoteBookData(this.props),n=this.NoteBookUtils.constructFavouriteData(this.props),a={goToCourseDashboard:navigateToDashboard,goToStore:navigateToStore,goToSignIn:this.goToSignIn,doLoadMoreFavourites:this.doLoadMoreFavourites,deleteFavouritesCourse:null===(t=this.props)||void 0===t?void 0:t.doDeleteFavouritesCourse},c={getProductTypeTitle:this.getProductTypeTitle};return(0,o.jsx)(e,{...this.props,noteBooks:{data:r,callbacks:s,lystComponent:{}},favourites:{data:n,callbacks:a,helpers:c}})}constructor(e){super(e),this.goToSignIn=()=>{navigateToSignIn(this.props.doSetPostSigninRoute)},this.doLoadMoreFavourites=e=>{let{doFetchFavourites:t,currentCourseType:s}=this.props;t(e,s)},this.getProductTypeTitle=(e,t)=>{switch(e){case u.CourseType.COURSE:return t("common:course");case u.CourseType.TEST:return t("common:mockTest");case u.CourseType.BUNDLE:return t("common:bundle");case u.CourseType.TEST_SERIES:return t("common:series");default:return null}},this.getIsDesktopApp=()=>S.OS===S.vO.DEVICE_WINDOWS||S.OS===S.vO.DEVICE_MAC,this.FetchLessonLevelNotes=this.FetchLessonLevelNotes.bind(this),this.FetchCourseLevelNotes=this.FetchCourseLevelNotes.bind(this),this.FetchQuizLevelNotes=this.FetchQuizLevelNotes.bind(this),this.AddNoteBook=this.AddNoteBook.bind(this),this.EditNoteBook=this.EditNoteBook.bind(this),this.DeleteNotes=this.DeleteNotes.bind(this),this.SetCurrentAccessingLesson=this.SetCurrentAccessingLesson.bind(this),this.NoteBookUtils=new NoteBookUtils}};return(0,n.$)("selectCurrentBundleId","selectProductsList","selectCurrentCourseDetails","selectCurrentCourseId","selectCurrentBundleTitle","selectCurrentCourseSeoTitle","selectCurrentBundleSeoTitle","selectCurrentCourseTitle","selectCurrentLessonTitle","selectCurrentLessonId","selectCurrentCourseSectionId","selectCurrentSectionTitle","selectCurrentLessonType","selectCurrentCourseType","selectCurrentCourseSections","selectCurrentLessonSlides","selectCurrentCourseLessons","selectUserEnrollmentState","selectCurrentLessonNoteBookData","selectCurrentLessonNoteBookFetchStatus","selectCurrentLessonNoteBookError","selectCurrentCourseNoteBookError","selectCurrentBookMarkLessonId","selectNoteBookLastRequestStatus","selectNoteBookLastRequestId","selectNavigationCurrentScreen","selectCurrentCourseNoteBookFetchStatus","selectCurrentCourseNoteBookLoadingType","selectCurrentCourseNoteBookData","selectSharedIsUserLoggedIn","selectSharedUserId","selectSharedAuthToken","selectIsCourseExpired","selectIsCourseFree","selectIsBundleFree","selectCourseUploadToken","doFetchLessonLevelNotes","doFetchCourseLevelNotes","doFetchQuizLevelNotes","doAddNoteBook","doEditNoteBook","doDeleteNotes","doSetCurrentAccessingLesson","selectCurrentTestSeriesLessonId","selectFavouritesFetchStatus","selectFavouriteData","doDeleteFavouritesCourse","doFetchFavourites","doSetPostSigninRoute","selectNotesFetchError","selectProductsFetchStatus","selectProductsError","selectPricing","doSendBookmarkVisitedEvent",NoteBooksAdapterComponent)}},64357:function(e,t,s){s.d(t,{At:function(){return navigateToSignIn},DO:function(){return navigateToSystemConfigurationCheck},Eg:function(){return navigateToLessonDownloadList},Fh:function(){return navigateToLiveWebinarPage},Iu:function(){return getNavigationParams},SE:function(){return getCheckoutNavigationPath},Si:function(){return navigateToFastCheckout},Sr:function(){return navigateToCodeEditorPage},aO:function(){return navigateToPlayer},hL:function(){return navigateToSubscription},jw:function(){return navigateToSignUp},k4:function(){return navigateToStore},lw:function(){return navigateToTestPlayer},n:function(){return navigateBack},qd:function(){return goToTestReport},sT:function(){return navigateToLessonPlayer},t_:function(){return navigateToCourseDashboard},vB:function(){return getCurrentNavigationPath},yQ:function(){return navigateToSuperLivePage}});var o=s(86677),r=s.n(o),n=s(66110),i=s(15819),l=s(73704);let navigateBack=()=>{r().back()},getNavigationParams=e=>{},navigateToTestPlayer=(e,t,s)=>{r().push({pathname:n.y4.testPlayer,query:{id:e,lessonId:s}},n.XC.testPlayer({id:e,lessonId:s}))},goToTestReport=(e,t,s,o)=>{r().push({pathname:n.y4.testResult,query:{id:e,retakeCount:t,lessonId:o}},n.XC.testResult({id:e,retakeCount:t,lessonId:o}))},navigateToCourseDashboard=e=>{r().replace(n.y4.courseDashboard,n.XC.courseDashboard({productSeo:e}))},navigateToLessonDownloadList=()=>{},navigateToFastCheckout=(e,t,s,o)=>{let i={priceId:s,courseId:t,paymentSessionTs:o||new Date().getTime()};e&&(i.bundleId=e),r().push({pathname:n.y4.fastCheckout,query:i},n.XC.pay({courseId:e||t,priceId:s,paymentSessionTs:o||new Date().getTime()}))},navigateToSignUp=function(e,t,s){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i={signInToPay:e||t,priceId:s,isTorF:o};e||t||delete i.signInToPay,s||delete i.priceId,r().push({pathname:n.y4.signup,query:i})},getCheckoutNavigationPath=(e,t,s)=>({href:{pathname:n.y4.checkout,query:{courseId:e||t,priceId:s}},as:n.XC.pay({courseId:e||t,priceId:s})}),getCurrentNavigationPath=()=>({href:{pathname:r().pathname,query:r().query},as:r().asPath}),navigateToStore=()=>r().push({pathname:n.y4.store}),navigateToSubscription=e=>{r().push({pathname:n.y4.subscriptions,query:{courseId:e}})},navigateToLessonPlayer=(e,t,s,o,l,a)=>{r().replace({pathname:n.y4.lessonPlayer,query:{bundleId:e,courseId:t,courseType:s===i.CourseType.TEST_SERIES?i.CourseType.TEST_SERIES:i.CourseType.COURSE,sectionId:o,lessonId:l,search:(null==a?void 0:a.search)||""}},n.XC.lessonPlayer(a),{shallow:!0})},navigateToSignIn=()=>{r().push({pathname:n.y4.signin})},navigateToPlayer=(e,t)=>{let s={pathname:n.y4.lessonPlayer,query:e},o=n.XC.lessonPlayer(t);r().replace(s,o,{shallow:!0})},navigateToSystemConfigurationCheck=()=>null,navigateToLiveWebinarPage=()=>null,navigateToSuperLivePage=()=>null,navigateToCodeEditorPage=e=>{let{codeId:t,contentId:s,contentType:o,page:i,doClearCache:a}=e;if(l.OS===l.vO.DEVICE_WINDOWS||l.OS===l.vO.DEVICE_MAC){r().push({pathname:n.y4.leetLab,query:{codeId:t,contentId:s,contentType:o,page:i}},n.XC.leetLab({codeId:t,contentId:s,contentType:o,page:i}));return}let c=window.open(n.XC.leetLab({codeId:t,contentId:s,contentType:o,page:i}),"_blank"),d=setInterval(()=>{c&&c.closed&&(clearInterval(d),a&&a())},500)}},84876:function(e,t,s){s.d(t,{Ag:function(){return getChatList},D9:function(){return loadPdfWorkerForLessonPlayer},LN:function(){return getChatListHistory},bG:function(){return sendMessage},g7:function(){return loadResourcesForLessonPlayer},rP:function(){return setUserAuth}});var o=s(66024);let getChatListHistory=()=>null,getChatList=()=>null,sendMessage=()=>null,setUserAuth=()=>null,loadResourcesForLessonPlayer=e=>(0,o.K)(e),loadPdfWorkerForLessonPlayer=()=>(0,o.x)()},13486:function(e,t,s){s.d(t,{Ad:function(){return cancelLessonDownloadingInDesktopApp},Aj:function(){return selectDownloadFolder},Et:function(){return deleteDownloadedLessonInDesktopApp},IW:function(){return downloadLessonInDesktopApp},LL:function(){return getLessonDownloadStatusForDesktopApp},LN:function(){return getCurrentDownloadDirectory},gp:function(){return buildDownloadedDataForPlayer},r$:function(){return getProductDownloadStats},z4:function(){return getLessonDownloadDataForDesktopApp}});var o,r,n,i=s(53794),l=s(78445),a=s(97425);let c=null===(n=window.chrome)||void 0===n?void 0:null===(r=n.webview)||void 0===r?void 0:null===(o=r.hostObjects)||void 0===o?void 0:o.sample,d=(0,i.pl)()||(0,i.Vg)();async function downloadLessonInDesktopApp(e,t){var s,o,r;if(!d)return;let{courseId:n}=e,{schoolId:i,studentId:l,isTrialUser:u,currentBundleId:h,currentProductType:p,studentCourseExpiryDate:v}=t,S=Math.floor(new Date(v).getTime()/864e5),downloadFile=async(e,t,s,o)=>{let r=(0,a.WU)(n,e,t,o.fileName),d=[i,l,h,n,e,t,p,o.onlineUrl,o.downloadPath,o.contentPath,o.contentId,o.fileType,o.fileName,r,s,u,S];try{await (null==c?void 0:c.downloadFile(...d))}catch(e){console.error("Method failed. HRESULT:",e)}};for(let t of null!==(s=e.sections)&&void 0!==s?s:[])for(let e of null!==(o=t.lessons)&&void 0!==o?o:[])for(let s of null!==(r=e.slides)&&void 0!==r?r:[])await downloadFile(t.sectionId,e.lessonId,e.lessonVersion,s)}let getLessonDownloadStatusForDesktopApp=async(e,t,s,o)=>{if(d)try{return await (null==c?void 0:c.getStatusOfLessonDownload(e,t,s,o))}catch(e){console.error("Method failed. HRESULT:",e)}},getLessonDownloadDataForDesktopApp=async(e,t,s,o)=>{if(d)try{return await (null==c?void 0:c.getLessonDownloadData(e,t,s,o))}catch(e){console.error("Method failed. HRESULT:",e)}},cancelLessonDownloadingInDesktopApp=async(e,t,s)=>{if(d)try{return await (null==c?void 0:c.cancelLessonDownload(e,t,s))}catch(e){console.error("Method failed. HRESULT:",e)}},deleteDownloadedLessonInDesktopApp=async(e,t,s)=>{if(d)try{return await (null==c?void 0:c.deleteLessonDownload(e,t,s))}catch(e){console.error("Method failed. HRESULT:",e)}},getCurrentDownloadDirectory=async()=>{if(d)try{return await (null==c?void 0:c.getCurDownloadDirectory())}catch(e){console.error("Method failed. HRESULT:",e)}},selectDownloadFolder=async()=>{if(d)try{return await (null==c?void 0:c.selectDownloadFolder())}catch(e){console.error("Method failed. HRESULT:",e)}},getProductDownloadStats=async()=>{if(d)try{return await (null==c?void 0:c.getProductDownloadStats())}catch(e){console.error("Method failed. HRESULT:",e)}},buildDownloadedDataForPlayer=(e,t)=>{let{currentCourseId:s,currentCourseSectionId:o,currentLessonId:r,currentLessonDetails:n}=t||{};return{courses:{[s]:{sections:{[o]:{lessons:{[r]:{version:null==n?void 0:n.lessonVersion,downloadState:l.oV.SUCCESS,downloadPercentage:100,slides:constructSlideData(e)}}}}}}}},constructSlideData=e=>{let t={};return e.forEach(e=>{t[e.uniq_file_id]={downloadPath:e.download_path,downloadState:e.download_status,fileName:e.file_name,fileType:e.file_type,uniqFileId:e.uniq_file_id}}),t}},20250:function(e,t,s){s.d(t,{Z:function(){return CourseFeatureAdapter}});var o=s(24246),r=s(27378),n=s(38906),i=s(66110),l=s(86677),a=s.n(l);let navigateToFaq=(e,t)=>{},navigateToCertificates=(e,t)=>{},navigateToDiscussion=(e,t,s,o)=>{let r={courseId:e,bundleId:s,bundleSeo:o,courseSeo:t};a().push({pathname:i.y4.allDiscussion,query:r},i.XC.allDiscussion(r))},navigateToNotes=(e,t,s)=>{a().push({pathname:i.y4.allBookmarks,query:{courseId:e}},i.XC.allBookmarks({productSeo:t,courseId:e}))},navigateToAttachments=e=>{},navigateToCourseReview=(e,t,s,o)=>{a().push({pathname:i.y4.reviews},i.XC.reviews({productSeo:o,courseId:e}))},navigateToAddReview=(e,t,s)=>{a().push({pathname:i.y4.addReview},i.XC.addReview({productSeo:s,courseId:e}))},navigateBack=()=>{a().push(i.y4.store)};var c=s(15819),d=s(78445);let AuthorDataUtils=class AuthorDataUtils{constructAuthorData(e){var t,s,o,r;let n={authorDataFetchStatus:null==e?void 0:null===(t=e.currentAuthorData)||void 0===t?void 0:t.fetchStatus,authorData:null==e?void 0:e.currentAuthorData};return(null===(s=e.currentAuthorData)||void 0===s?void 0:s.fetchStatus)===d.UK.IN_PROGRESS&&(n.authorDataFetchStatus=c.iFP.IN_PROGRESS),(null===(o=e.currentAuthorData)||void 0===o?void 0:o.fetchStatus)===d.UK.SUCCESS&&(n.authorDataFetchStatus=c.iFP.SUCCESS),(null===(r=e.currentAuthorData)||void 0===r?void 0:r.fetchStatus)===d.UK.FAILED&&(n.authorDataFetchStatus=c.iFP.FAILED),n}};let FaqDataUtils=class FaqDataUtils{constructFaqData(e){var t,s,o,r;let n={faqDataFetchStatus:null==e?void 0:null===(t=e.currentFaqData)||void 0===t?void 0:t.fetchStatus,currentFaqData:null==e?void 0:e.currentFaqData};return(null===(s=e.currentFaqData)||void 0===s?void 0:s.fetchStatus)===d.UK.IN_PROGRESS&&(n.faqDataFetchStatus=c.iFP.IN_PROGRESS),(null===(o=e.currentFaqData)||void 0===o?void 0:o.fetchStatus)===d.UK.SUCCESS&&(n.faqDataFetchStatus=c.iFP.SUCCESS),(null===(r=e.currentFaqData)||void 0===r?void 0:r.fetchStatus)===d.UK.FAILED&&(n.faqDataFetchStatus=c.iFP.FAILED),n}};let ReviewDataUtils=class ReviewDataUtils{constructReviewData(e){var t,s,o,r;let n={reviewDataFetchStatus:null==e?void 0:null===(t=e.currentReviewData)||void 0===t?void 0:t.fetchStatus,courseReviewData:null==e?void 0:e.currentReviewData};return(null===(s=e.currentReviewData)||void 0===s?void 0:s.fetchStatus)===d.UK.IN_PROGRESS&&(n.reviewDataFetchStatus=c.iFP.IN_PROGRESS),(null===(o=e.currentReviewData)||void 0===o?void 0:o.fetchStatus)===d.UK.SUCCESS&&(n.reviewDataFetchStatus=c.iFP.SUCCESS),(null===(r=e.currentReviewData)||void 0===r?void 0:r.fetchStatus)===d.UK.FAILED&&(n.reviewDataFetchStatus=c.iFP.FAILED),n}};var u=s(41559);function CourseFeatureAdapter(e){let CourseFeatureAdapterComponent=class CourseFeatureAdapterComponent extends r.Component{render(){let t=this.authorDataUtils.constructAuthorData(this.props),s=this.reviewDataUtils.constructReviewData(this.props),r=this.faqDataUtils.constructFaqData(this.props),n={onHandleFaq:this.onHandleFaq,onHandleCertificate:this.onHandleCertificate,onHandleDiscussion:this.onHandleDiscussion,onHandleNote:this.onHandleNote,onHandleAttachment:this.onHandleAttachment,goToCourseReview:this.goToCourseReview,onHandleAddReview:this.onHandleAddReview,onEditReview:this.onEditReview,onHandleDeleteReview:this.onHandleDeleteReview,navigateBack:navigateBack,onHandleFavourite:this.onHandleFavourite,getFavouriteId:this.getFavouriteId};return(0,o.jsx)(e,{courseFeatureData:{...t,...r,...s},courseFeatureCallbacks:n,...this.props})}constructor(e){super(e),this.goToCourseReview=()=>{var e,t;let s=(0,u.Jf)(null===(t=this.props)||void 0===t?void 0:null===(e=t.currentCourseDetails)||void 0===e?void 0:e.enrollmentState),{currentCourseId:o}=this.props;navigateToCourseReview(o,!1,s)},this.onHandleFaq=e=>{let{courseId:t,courseTitle:s}=e;navigateToFaq(t,s)},this.onHandleCertificate=e=>{let{courseId:t,courseTitle:s}=e;navigateToCertificates(t,s)},this.onHandleDiscussion=e=>{let{courseDetails:t,bundleDetails:s}=e;navigateToDiscussion(null==t?void 0:t.courseId,null==t?void 0:t.courseSeoTitle,null==s?void 0:s.courseId,null==s?void 0:s.courseSeoTitle)},this.onHandleNote=e=>{navigateToNotes(null==e?void 0:e.courseId,null==e?void 0:e.courseSeoTitle)},this.onHandleAttachment=e=>navigateToAttachments(null==e?void 0:e.courseId,null==e?void 0:e.courseSeoTitle),this.onHandleAddReview=e=>{let{currentCourseId:t}=this.props;return navigateToAddReview(t,e),null},this.onEditReview=(e,t,s)=>navigateToAddReview(e,t,s),this.onHandleDeleteReview=async(e,t,s,o,r)=>{let n={comment:unescape(encodeURIComponent(s)),course_id:r,rating:o.toString(),userName:e,reviewId:t};if(t){var i,l,a;null===(i=this.props)||void 0===i||i.doDeleteReview(n),null===(a=this.props)||void 0===a||a.doFetchReviews(r,null,d.WI,e,null===(l=this.props)||void 0===l?void 0:l.sharedUserId)}},this.getFavouriteId=e=>{var t,s;return null===(s=this.props)||void 0===s?void 0:null===(t=s.favouriteData)||void 0===t?void 0:t.favouriteIdList[e]},this.onHandleFavourite=(e,t)=>{t?this.removeFavourites(t,e):this.addFavourites(e)},this.addFavourites=e=>{var t;null===(t=this.props)||void 0===t||t.doAddFavoritesCourse(e)},this.removeFavourites=(e,t)=>{var s;null===(s=this.props)||void 0===s||s.doDeleteFavouritesCourse(e,t)},this.faqDataUtils=new FaqDataUtils,this.reviewDataUtils=new ReviewDataUtils,this.authorDataUtils=new AuthorDataUtils}};return(0,n.$)("selectCurrentCourseDetails","selectCurrentCourseId","selectCurrentAuthorData","selectCurrentReviewData","selectCurrentFaqData","selectSharedUserId","selectFavouriteData","doAddReviews","doUpdateReviews","doDeleteReview","doFetchReviews","doAddFavoritesCourse","doDeleteFavouritesCourse",CourseFeatureAdapterComponent)}},38675:function(e,t,s){s.d(t,{Z:function(){return CertificateAdapter}});var o=s(24246),r=s(27378),n=s(38906),i=s(86677),l=s.n(i),a=s(66110);let navigateToTestPlayer=e=>{l().replace({pathname:a.y4.testPlayer,query:{id:e.quiz_id}},a.XC.testPlayer({id:e.quiz_id}),{shallow:!0})},navigateBack=()=>{},navigateToSubscription=()=>{l().push(a.y4.subscriptions)},navigateToFastCheckout=e=>{l().push(a.y4.fastCheckout,a.XC.pay({courseId:e,priceId:0,paymentSessionTs:new Date().getTime()}))},navigateToCertificateDownloadPage=(e,t)=>(null==e?void 0:e.certificateUrl)?null==e?void 0:e.certificateUrl:(null==e?void 0:e.certificateV2Data)?"".concat(t).concat(a.y4.certificateDownload,"?course_id=").concat(null==e?void 0:e.courseId):void 0;var c=s(81851),d=s(78445);let CertificateUtils=class CertificateUtils{constructor(){this.constructData=e=>{var t,s,o;let r=e.userEnrollmentState===d.ri.PURCHASED,n={title:null==e?void 0:null===(s=e.route)||void 0===s?void 0:null===(t=s.params)||void 0===t?void 0:t.title,courseId:null==e?void 0:e.currentCourseId,certificateAccessData:{isCoursePurchased:r,userSelectedDownloadDir:null==e?void 0:e.userSelectedDownloadDir,sharedIsUserLoggedIn:null==e?void 0:e.sharedIsUserLoggedIn,userEnrollmentState:null==e?void 0:e.userEnrollmentState},customerConfig:c.customerConfig,courseCertificate:null==e?void 0:e.currentCourseCertificate,certificateFetchStatus:null==e?void 0:null===(o=e.currentCourseCertificate)||void 0===o?void 0:o.fetchStatus,navigationParams:null==e?void 0:e.navigationParams,allCourseCertificate:null==e?void 0:e.allCourseCertificate,sharedAuthToken:null==e?void 0:e.sharedAuthToken};return n}}};var u=s(93050),h=s(53794),p=s(42865),v=s.n(p),S=s(98478),C=s(69640);let g={"A4-landscape":{width:1123,height:794},"A4-portrait":{width:794,height:1123}},x={width:70,height:70,keyName:"verify_qr_code"},generateQrCodeSvg=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.width,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.height;try{let o=await C.toString(e,{type:"svg",margin:1.25});return o=o.replace("<svg",'<svg width="'.concat(t,'" height="').concat(s,'"'))}catch(e){return console.error("Error generating QR code:",e),null}},replaceVariablesFromHtml=async(e,t)=>{if(!t)return e;if(e.includes(x.keyName)){let s=t.verify_url,o=await generateQrCodeSvg(s);o&&(e=e.replaceAll("<%=@".concat(x.keyName,"%>"),o))}for(let s in t)e=e.replaceAll("<%=@".concat(s,"%>"),t[s]);return e},dataURLtoBlob=e=>{let[t,s]=e.split(","),o=t.match(/:(.*?);/)[1],r=atob(s),n=new ArrayBuffer(r.length),i=new Uint8Array(n);for(let e=0;e<r.length;e++)i[e]=r.charCodeAt(e);return new Blob([n],{type:o})},generatePdfService=async(e,t,s)=>{let o=await replaceVariablesFromHtml(e,s);try{let e=document.createElement("div");e.innerHTML=o;let{width:s,height:r}=g[t];e.style.width="".concat(s,"px"),e.style.height="".concat(r,"px"),e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);let n=await v()(e,{scale:2,scrollX:0,scrollY:-window.scrollY,windowWidth:s,windowHeight:r,useCORS:!0,allowTaint:!1});document.body.removeChild(e);let i=new S.ZP(t,"px",[s,r],!0),l=n.toDataURL("image/png");i.addImage(l,"PNG",0,0,s,r);let a=i.output("blob"),c=Date.now(),d=new File([a],"Certificate_".concat(t,"_").concat(c,".pdf"),{type:"application/pdf",lastModified:Date.now()}),u=dataURLtoBlob(l),h=new File([u],"Certificate_".concat(t,"_").concat(c,".png"),{type:"image/png",lastModified:Date.now()});return{pdfFile:d,imageFile:h}}catch(e){return console.log("Error generating pdf",e),null}};function CertificateAdapter(e){let Certificate=class Certificate extends r.Component{render(){var t,s,r;let n={goBack:navigateBack,goToTestPlayer:this.goToTestPlayer,openQuizPlayer:h.Px,clearCourseData:null===(t=this.props)||void 0===t?void 0:t.doClearCourseData,fetchCertificateForCourse:null===(s=this.props)||void 0===s?void 0:s.doFetchCertificateForCourse,uploadFile:u.cT,generatePdf:this.generatePdf,sendCertificateUrlToBackend:null===(r=this.props)||void 0===r?void 0:r.doSendCertificateUrlToBackend,navigateToCertificateDownloadPage:navigateToCertificateDownloadPage,certificateCallbacks:{onLoadGetCertificateMessage:this.onLoadGetCertificateMessage,onDownloadActionButtonText:this.onDownloadActionButtonText,onCertificateDownloadClicked:this.onCertificateDownloadClicked,onLoadGetIsDownloadActionIsInProgress:this.onLoadGetIsDownloadActionIsInProgress,onMountCertificateCard:this.onMountCertificateCard,onHandleBuy:this.onHandleBuy}};return(0,o.jsx)(e,{...this.props,data:this.certificateUtils.constructData(this.props),callbacks:n})}constructor(e){super(e),this.onMountCertificateCard=()=>{let{currentCourseCertificate:e,currentCourseId:t}=this.props,{certificateUrl:s}=e,o=(0,h.w2)(s);(0,u.By)(u.e$.STORAGE_TYPE_CERTIFICATES,o,t).then(e=>{e&&(this.setState({downloadState:u.LQ.DOWNLOADED,certificateFilePath:e}),console.log("certificate is already downloaded"))}).catch(e=>{this.setState({downloadState:u.LQ.NOT_DOWNLOADED}),console.log("checkAndUpdateFilePath: ",e)})},this.onLoadGetCertificateMessage=e=>{let t={heading:c.oc.t("Certificate"),message:c.oc.t("this_course_has_certificate")};return 0===e.certificateTests.length?t={heading:c.oc.t("No_tests_added"),message:c.oc.t("No_tests")}:e.isCompleted?e.isElegible?e.certificateUrl&&(t={heading:c.oc.t("EXCELLENCE_CERTIFICATE"),message:c.oc.t("You_have_earned_a_certificate_in_this_course_congratulations_keep_it_up")}):t={heading:c.oc.t("Pass_all_the_tests"),message:c.oc.t("All_test_must_be_passed_to_download_the_certificate")}:t={heading:c.oc.t("Complete_all_the_tests"),message:c.oc.t("All_test_must_be_complete_to_download_the_certificate")},t},this.progressCallback=e=>{this.setState({downloadState:u.LQ.IN_PROGRESS,downloadProgressPercentage:"".concat(Math.floor(100*e),"%")})},this.successCallback=e=>{this.setState({downloadState:u.LQ.DOWNLOADED,downloadId:0,certificateFilePath:e})},this.failureCallback=()=>{this.setState({downloadState:u.LQ.FAILED})},this.onCertificateDownloadClicked=(e,t,s)=>{this.state.downloadState===u.LQ.NOT_DOWNLOADED||this.state.downloadState===u.LQ.FAILED?((0,u.aG)(e.certificateUrl,t,u.e$.STORAGE_TYPE_CERTIFICATES,s,this.progressCallback,this.successCallback,this.failureCallback).then(e=>{this.setState({downloadId:e})}),this.setState({downloadState:u.LQ.IN_QUEUE})):this.state.downloadState===u.LQ.DOWNLOADED&&(0,u.KP)(this.state.certificateFilePath)},this.onDownloadActionButtonText=()=>this.state.downloadState===u.LQ.IN_PROGRESS?"".concat(c.oc.t("Downloading")," ").concat(this.state.downloadProgressPercentage):this.state.downloadState===u.LQ.DOWNLOADED?c.oc.t("View_certificate"):this.state.downloadState===u.LQ.FAILED?c.oc.t("Download_failed"):this.state.downloadState===u.LQ.IN_QUEUE?c.oc.t("Download_in_queue"):this.state.downloadState===u.LQ.NOT_DOWNLOADED?c.oc.t("download"):c.oc.t("Loading"),this.onLoadGetIsDownloadActionIsInProgress=()=>this.state.downloadState===u.LQ.UNKNOWN||this.state.downloadState===u.LQ.IN_QUEUE||this.state.downloadState===u.LQ.IN_PROGRESS,this.goToTestPlayer=e=>{navigateToTestPlayer(e)},this.onHandleBuy=(e,t)=>{t?navigateToSubscription():navigateToFastCheckout(e)},this.generatePdf=async(e,t,s)=>generatePdfService(e,t,s),this.certificateUtils=new CertificateUtils,this.state={downloadState:u.LQ.UNKNOWN,downloadProgressPercentage:0,downloadId:0,certificateFilePath:null}}};return(0,n.$)("selectCurrentCourseCertificate","selectCurrentCertificateFetchStatus","selectCurrentCourseId","selectUserSelectedDownloadDir","selectUserEnrollmentState","selectSharedIsUserLoggedIn","selectNavigationParams","selectAllCourseCertificate","selectSharedAuthToken","doClearCourseData","doFetchCertificateForCourse","doSendCertificateUrlToBackend",Certificate)}},78128:function(e,t,s){s.d(t,{Z:function(){return SearchAdapter}});var o=s(24246);s(27378);var r=s(38906),n=s(15819),i=s(66110),l=s(44297),a=s(81851);let SearchUtils=class SearchUtils{constructor(){this.constructData=e=>{let{globalSearchResults:t,globalSearchFetchStatus:s,globalSearchError:o,globalSearchKeyword:r,navigationData:n,bundleIdsForCourseSearch:i}=e,{hitsData:l,summary:c}=t,d={hitsData:l,summary:c,navigationData:n,bundleIdsForCourseSearch:i,isGlobalSearchEnabled:null===a.customerConfig||void 0===a.customerConfig?void 0:a.customerConfig.is_search_enabled,search:r||"",globalSearchFetchStatus:s,error:o,allCoursesScreenData:{data:null==e?void 0:e.data,callbacks:null==e?void 0:e.callbacks,helpers:null==e?void 0:e.helpers}};return d}}};function SearchAdapter(e){function Search(t){let s=new SearchUtils,r={onLoadMore:(e,s,o,r,i)=>{let l=o===n.aib.BUNDLE||o===n.aib.LESSONS?null==t?void 0:t.currentBundleId:0;t.doFetchGlobalSearchResult(t.sharedIsUserLoggedIn,t.userSegmentId,s,o||0,e,l,r,l?i:null==t?void 0:t.allProductIds)},navigateToCourse:(e,s,o,r,i,a)=>{var c,d,u,h,p,v,S,C,g,x,y,m;let D=a?null==t?void 0:null===(p=t.currentBundleDetails)||void 0===p?void 0:null===(h=p.bundleCourses)||void 0===h?void 0:null===(u=h.courses)||void 0===u?void 0:null===(d=u.coursesDetails)||void 0===d?void 0:null===(c=d[e])||void 0===c?void 0:c.courseSeoTitle:null==t?void 0:null===(v=t.productsList[e])||void 0===v?void 0:v.courseSeoTitle,T=a?null==t?void 0:null===(y=t.currentBundleDetails)||void 0===y?void 0:null===(x=y.bundleCourses)||void 0===x?void 0:null===(g=x.courses)||void 0===g?void 0:null===(C=g.coursesDetails)||void 0===C?void 0:null===(S=C[e])||void 0===S?void 0:S.courseType:null==t?void 0:null===(m=t.productsList[e])||void 0===m?void 0:m.courseType,b={backName:"",navigationId:new Date().getTime(),courseId:0,bundleId:a&&(null==t?void 0:t.currentBundleId)||0,courseSeo:D,bundleSeo:a&&(null==t?void 0:t.currentBundleSeoTitle)||"",lessonId:0,sectionId:0,testSeries:!1};o&&parseInt(o,10)===n.aib.LESSONS&&(b.lessonId=s,b.sectionId=i,b.courseId=e,b.testSeries=T===n.CourseType.TEST_SERIES,(0,l.sT)(b))},goToGlobalSearch:(e,s)=>{let{navigationCurrentScreen:o,doSendNavChangeEvent:r}=t;r((0,l.Jz)(),o,new Date().getTime(),{search:e,searchType:s}),(0,l.qE)(e,null==t?void 0:t.navigationCurrentScreen,s)},onSearchRedirectPageOnMount:e=>{null==t||t.doGetBundleIdsForCourse(e)},goToLessonPlayer:l.sT};return(0,o.jsx)(e,{...t,searchData:s.constructData(t),searchCallbacks:r,searchHelpers:{getNavigationLink:(e,s,o,r,l,a)=>{var c,d,u,h,p,v,S,C,g,x,y,m;let D=a?null==t?void 0:null===(p=t.currentBundleDetails)||void 0===p?void 0:null===(h=p.bundleCourses)||void 0===h?void 0:null===(u=h.courses)||void 0===u?void 0:null===(d=u.coursesDetails)||void 0===d?void 0:null===(c=d[e])||void 0===c?void 0:c.courseSeoTitle:null==t?void 0:null===(v=t.productsList[e])||void 0===v?void 0:v.courseSeoTitle,T=a?null==t?void 0:null===(y=t.currentBundleDetails)||void 0===y?void 0:null===(x=y.bundleCourses)||void 0===x?void 0:null===(g=x.courses)||void 0===g?void 0:null===(C=g.coursesDetails)||void 0===C?void 0:null===(S=C[e])||void 0===S?void 0:S.courseType:null==t?void 0:null===(m=t.productsList[e])||void 0===m?void 0:m.courseType,b={backName:"",navigationId:new Date().getTime(),courseId:0,bundleId:a&&(null==t?void 0:t.currentBundleId)||0,courseSeo:D,bundleSeo:a&&(null==t?void 0:t.currentBundleSeoTitle)||"",lessonId:0,sectionId:0,testSeries:!1};o&&parseInt(o,10)===n.aib.LESSONS&&(b.lessonId=s,b.sectionId=l,b.courseId=e,b.testSeries=T===n.CourseType.TEST_SERIES);let I={lessonId:null==b?void 0:b.lessonId,sectionId:null==b?void 0:b.sectionId,productSeo:"",subProductSeo:""};(null==b?void 0:b.bundleSeo)?(I.productSeo=null==b?void 0:b.bundleSeo,I.subProductSeo=null==b?void 0:b.courseSeo):I.productSeo=null==b?void 0:b.courseSeo;let k=i.XC.lessonPlayer(I);return k}}})}return(0,r.$)("selectGlobalSearchResults","selectGlobalSearchFetchStatus","selectGlobalSearchState","selectGlobalSearchError","doChangeGlobalSearchTerm","selectGlobalSearchKeyword","doFetchGlobalSearchResult","selectSharedIsUserLoggedIn","selectUserSegmentId","selectCurrentBundleId","selectNavigationData","selectAllProductIds","selectNavigationCurrentScreen","doSendNavChangeEvent","selectBundleIdsForCourseSearch","doGetBundleIdsForCourse","selectProductsList","selectCurrentBundleSeoTitle","selectCurrentBundleDetails",Search)}},44297:function(e,t,s){s.d(t,{Jz:function(){return getCurrentPath},qE:function(){return navigateToGlobalSearch},sT:function(){return navigateToLessonPlayer}});var o=s(86677),r=s.n(o),n=s(66110),i=s(37648);let navigateToLessonPlayer=(e,t)=>{let s={lessonId:null==e?void 0:e.lessonId,sectionId:null==e?void 0:e.sectionId,productSeo:"",subProductSeo:""};(null==e?void 0:e.bundleSeo)?(s.productSeo=null==e?void 0:e.bundleSeo,s.subProductSeo=null==e?void 0:e.courseSeo):s.productSeo=null==e?void 0:e.courseSeo,r()[t?"replace":"push"]({pathname:n.y4.lessonPlayer,query:s},n.XC.lessonPlayer(s))},navigateToGlobalSearch=(e,t,s)=>{let o=t===i.navigatorScreens.GLOBAL_SEARCH;r()[o?"replace":"push"]({pathname:n.y4.globalSearch,query:{search:e,searchType:s}},n.XC.globalSearch({search:e,searchType:s}),{shallow:!0})},getCurrentPath=()=>n.ZP[r().pathname]},69997:function(e,t,s){s.d(t,{Z:function(){return eQ}});var o=s(24246),r=s(27378),n=s(2113),i=s(78445),l=s(70577),a=s(61137),c=s(22209),d=s(33790),u=s(9078),h=s(42651),p=s(119),v=s(87152),S=s(72022),C=s(86677),g=s.n(C),x=s(43328),y=s(81660),m=s(28944),D=s(15819),T=s(13077),b=s(9870),I=s(85174),k=s(26934),L=s(73179),f=s(38675),P=s(73277),Certificate_Certificate=e=>{var t,s;let{certificateFetchStatus:n,certificateAccessData:i,courseCertificate:l,courseId:a,customerConfig:c}=e.data,{goToTestPlayer:h,openQuizPlayer:p,clearCourseData:v,navigateToCertificateDownloadPage:C,certificateCallbacks:g}=null==e?void 0:e.callbacks,{sharedIsUserLoggedIn:x,userEnrollmentState:m}=i,{theme:T}=(0,y.B7)(),{t:b}=(0,u.$)(["common","product"]),[I,k]=r.useState(!1),L=((null==l?void 0:l.certificateUrl)||(null==l?void 0:l.certificateV2Data))&&(null==l?void 0:l.isElegible),handleTakeQuiz=(e,t)=>{e&&h({quiz_id:e})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(P.Z,{isModalOpen:I,setModal:k,userEnrollmentState:m,sharedIsUserLoggedIn:x,courseId:a,allowWriteAccess:m===D.T_M.PURCHASED,customerConfig:c,onHandleBuy:g.onHandleBuy}),n===D.iFP.SUCCESS&&l?(0,o.jsxs)(S.xu,{mx:[0,3,3],mt:3,children:[(0,o.jsxs)(S.xu,{mb:4,children:[(0,o.jsx)(d.xv,{textTransform:"capitalize",category:"h3",children:b("product:earnCertificate")}),(0,o.jsx)(d.xv,{category:"p1",children:b("product:certificateSubHeading")})]}),(0,o.jsx)(S.xu,{children:(0,o.jsxs)(S.kC,{py:2,sx:{alignItems:"center",justifyContent:["center","flex-start"],flexWrap:["wrap","nowrap"]},children:[(0,o.jsx)(S.xu,{sx:{backgroundImage:"url('/learn/learny-assets/Certificate2.svg')",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"bottom",borderRadius:7,display:"flex",justifyContent:"center",backgroundColor:"background-basic-color-3",width:T.styles.certificateCardWidth,height:T.styles.certificateCardHeight},children:(0,o.jsx)(S.xu,{sx:{position:"relative",top:"10%"},children:(null==c?void 0:c.SCHOOL_LOGO)?(0,o.jsx)(d.Ee,{src:null==c?void 0:c.SCHOOL_LOGO,alt:null==c?void 0:c.NAME,height:(null==T?void 0:T.sizes[7])||0,width:80,objectFit:"contain"}):(0,o.jsx)(o.Fragment,{})})}),(0,o.jsxs)(S.xu,{mt:[2,0],ml:[0,4],children:[(0,o.jsx)(d.xv,{category:"p1",children:(null==l?void 0:l.courseCompletionCriteria)?b("result:completionCriteria",{criteria:null==l?void 0:l.courseCompletionCriteria}):b("product:certificateSubHeading1")}),(0,o.jsx)(S.xu,{m:["auto",0],py:3,sx:{cursor:L?"pointer":"not-allowed",textDecoration:"none","& a":{color:L?"color-basic-1100":"color-basic-500"},maxWidth:"max-content"},children:(0,o.jsx)(d.xv,{category:"p2",sx:{color:L?"color-basic-1100":"color-basic-500"},children:(null==l?void 0:l.certificateUrl)||(null==l?void 0:l.certificateV2Data)?(0,o.jsx)(d.rU,{href:null==C?void 0:C(l,c.WEB_URL),openInNewPage:!0,children:b("product:downloadCertificate")}):b("product:downloadCertificate")})})]})]})}),(null==l?void 0:null===(t=l.certificateTests)||void 0===t?void 0:t.length)?(0,o.jsxs)(S.xu,{style:{overflowX:"scroll"},children:[(0,o.jsx)(S.xu,{my:4,mt:6,children:(0,o.jsx)(d.xv,{category:"h6",textTransform:"capitalize",children:"".concat(b("product:certificateTest")," ").concat((null==l?void 0:null===(s=l.certificateTests)||void 0===s?void 0:s.length)?"(".concat(null==l?void 0:l.certificateTests.length,")"):"")})}),(0,o.jsxs)(S.xu,{mt:2,as:"table",sx:{width:"100%",borderSpacing:0,"& th,td":{px:[2,3],py:[3,5]}},children:[(0,o.jsx)(S.xu,{mb:4,as:"thead",bg:"background-basic-color-3",children:(0,o.jsxs)(S.xu,{as:"tr",children:[(0,o.jsx)(S.xu,{as:"th",children:(0,o.jsx)(d.xv,{category:"label",children:"#"})}),(0,o.jsx)(S.xu,{as:"th",sx:{minWidth:[13,18,20]},children:(0,o.jsx)(d.xv,{category:"label",textTransform:"uppercase",alignment:"left",children:b("product:quizTitle")})}),(0,o.jsx)(S.xu,{as:"th",children:(0,o.jsx)(d.xv,{category:"label",alignment:"center",textTransform:"uppercase",children:b("product:qualifyingMarks")})}),(0,o.jsx)(S.xu,{as:"th",children:(0,o.jsx)(d.xv,{category:"label",alignment:"center",textTransform:"uppercase",children:b("product:obtainedMarks")})}),(0,o.jsx)(S.xu,{as:"th",children:(0,o.jsx)(d.xv,{category:"label",alignment:"center",textTransform:"uppercase",children:b("product:results")})})]})}),(0,o.jsx)(S.xu,{mt:2}),(0,o.jsx)(S.xu,{as:"tbody",mt:2,sx:{"& tr td:first-of-type":{borderLeftWidth:1,borderLeftColor:"border-basic-color-3",borderLeftStyle:"solid"},"& tr td:last-of-type":{borderRightWidth:1,borderRightColor:"border-basic-color-3",borderRightStyle:"solid"},"& tr:first-of-type td":{borderTopWidth:1,borderTopColor:"border-basic-color-3",borderTopStyle:"solid"}},children:null==l?void 0:l.certificateTests.map((e,t)=>(0,o.jsx)(r.Fragment,{children:(0,o.jsxs)(S.xu,{as:"tr",sx:{"& td":{borderBottomWidth:1,borderBottomColor:"border-basic-color-3",borderBottomStyle:"solid",textAlign:"center"}},children:[(0,o.jsx)(S.xu,{as:"td",children:(0,o.jsx)(d.xv,{category:"p1",children:t+1})}),(0,o.jsx)(S.xu,{as:"td",onClick:()=>{if(x&&x){if(m!==D.T_M.PURCHASED&&m!==D.T_M.INVALID){k(!0);return}e.my_marks||handleTakeQuiz(e.quiz_id,e.course_id)}},sx:{cursor:"pointer"},children:(0,o.jsx)(d.xv,{category:"p1",alignment:"left",children:e.quiz_title})}),(0,o.jsx)(S.xu,{as:"td",children:(0,o.jsx)(d.xv,{category:"p1",alignment:"center",children:e.pass_marks})}),(0,o.jsx)(S.xu,{as:"td",children:(0,o.jsx)(d.xv,{category:"p1",alignment:"center",sx:{color:e.my_marks?"color-basic-1100":"color-basic-500"},children:e.my_marks?e.my_marks:"NA"})}),(0,o.jsx)(S.xu,{as:"td",children:(0,o.jsx)(d.xv,{textTransform:"capitalize",category:"p1",alignment:"center",sx:{color:e.my_marks?"color-basic-1100":"color-basic-500"},children:e.my_marks?(0,o.jsx)(o.Fragment,{children:e.my_marks>=e.pass_marks?b("product:pass"):b("product:fail")}):"NA"})})]})},"".concat(e.quiz_id)))})]})]}):null]}):null]})};let CertificatePage=class CertificatePage extends r.Component{render(){return(0,o.jsx)(Certificate_Certificate,{...this.props})}constructor(e){super(e)}};var E=s(57409),w=s(41342),A=s(37694),j=s(16995),F=s(84479),R=s(61320),B=s.n(R),N=s(55920);let formattedTime=e=>B()(e).fromNow();var RecentlyAdded_RecentlyAdded=e=>{let{lessons:t=[],onLessonClick:s,recentlyAddedLessonsDataFetchStatus:r,recentlyAddedLessonsDataError:n,doFetchRecentlyAddedLessons:i,courseId:l,currentLessonDetails:a}=e,{t:c}=(0,u.$)("product"),{isDesktop:h,isTablet:p}=(0,N.BF)(),v=null==a?void 0:a.id;return r===D.UKQ.FAILED&&n.errorMessage?(0,o.jsx)(A.qz,{illustrationSource:j.K.internalServerError,title:c("retry"),subtitle:n.errorMessage,onRetry:()=>i(l)}):(0,o.jsxs)(S.xu,{sx:{overflow:"hidden"},children:[(0,o.jsxs)(S.kC,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:5,overflowY:"auto",pr:2,ml:6},mb:2,children:[(0,o.jsx)(d.xv,{category:"h4",children:c("newLesson")}),(0,o.jsx)(d.xv,{category:"c1",sx:{backgroundColor:"background-basic-color-3",px:3,py:1,borderRadius:16,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:t.length<10?"0".concat(t.length):t.length})]}),(0,o.jsx)(d.xv,{category:"s1",sx:{color:"text-basic-color-3",ml:6},mb:4,children:c("viewAllNewLessons")}),t.length?(0,o.jsx)(S.xu,{sx:{mt:6},children:t.map((e,t)=>(0,o.jsx)(S.xu,{onClick:()=>s(e.id,e.sectionId,{},void 0),sx:{height:15,p:3,pl:6,backgroundColor:v===e.id?"color-basic-transparent-300":"background-basic-color-2",cursor:"pointer","&:hover":{backgroundColor:v===e.id?"color-basic-transparent-200":"color-basic-transparent-100"}},children:(0,o.jsxs)(S.kC,{sx:{alignItems:"center",gap:2,height:"100%"},children:[(0,o.jsx)(S.xu,{mr:3,children:(0,o.jsx)(d.tv,{icon:(0,F.w)(Number(e.lessonType)),size:24,customColor:v===e.id?"color-primary-500":"text-basic-color"})}),(0,o.jsxs)(S.kC,{sx:{alignItems:"flex-start",flexDirection:"column",justifyContent:"center",gap:1,height:"100%"},children:[(0,o.jsx)(d.xv,{noOfLines:1,category:"c1",truncateToLength:h||p?100:50,children:null==e?void 0:e.sectionTitle}),(0,o.jsx)(d.xv,{noOfLines:1,category:"p1",truncateToLength:h||p?100:50,children:e.title}),(0,o.jsxs)(S.kC,{sx:{alignItems:"center"},children:[(0,o.jsx)(d.xv,{category:"c1",sx:{color:"text-basic-color-3",fontWeight:500,textTransform:"capitalize"},children:(0,F.x)(Number(e.lessonType),c)}),(0,o.jsx)(d.xv,{category:"c1",sx:{color:"text-basic-color-3",mx:2},children:""}),(0,o.jsx)(d.xv,{category:"c1",sx:{color:"text-basic-color-3"},children:formattedTime(e.createdAt)})]})]})]})},t))}):(0,o.jsx)(A.T9,{title:c("noRecentLessons"),subtitle:c("noNewLessonsAdded"),illustrationSource:j.K.emptyFeeds})]})},U=s(74211);let Notes=e=>{let{getCurrentPosition:t,setPlayerFocusState:s}=e,r=(0,k.Z)(L.Z);return(0,o.jsx)(r,{getCurrentPosition:t,setPlayerFocusState:s})},DiscussionTab=e=>{let{getCurrentPosition:t,setPlayerFocusState:s}=e,r=(0,E.Z)((0,b.Z)(I.Z),w.R.FROM_SUPPORT);return(0,o.jsx)(r,{getCurrentPosition:t,setPlayerFocusState:s,isFromDiscussionTab:!0})},CerticificateTab=()=>{let e=(0,f.Z)(CertificatePage);return(0,o.jsx)(e,{})};var O=r.memo(e=>{var t,s,n,i,l,a,c,h,p;let{productType:v,getCurrentPosition:C=()=>null,setPlayerFocusState:g,isBookmarkEnabled:x,testSeriesCompletion:b,courseProgress:I,testSeriesAvgScore:k,enableBookmarkTab:L,currentProductDetails:f,syllabusListData:P,syllabusListCallbacks:E,courseData:w,callbacks:A,isMobileDevice:j,courseFeatureData:F,courseFeatureHelpers:R,courseFeatureCallbacks:B,enrollmentButtonData:N,isSubscription:O,isTaxEnabled:_,playerCallbacks:M,sharedIsUserLoggedIn:H,userEnrollmentState:z,searchQuery:W,navData:G,toggleSearch:q,totalCompletedLessonExcludedHidden:V,enrollmentButtonCallbacks:Q,enableChapterTab:K,isOnline:Z,isDesktopApp:X}=e,{t:$}=(0,u.$)(["common","product"]),{theme:Y}=(0,y.B7)(),{gotoViewAnalytics:J,switchToBookmarkTab:ee,goToCourseReview:et,goToCourseAnalytics:es,switchToChapterTab:eo}=A,er=f.isCertificateEnabled,en=f.courseId,ei=f.isDiscussionEnabled,el=null==f?void 0:null===(s=f.lessons)||void 0===s?void 0:null===(t=s.lessonIds)||void 0===t?void 0:t.length,ea=null==f?void 0:null===(n=f.lessons)||void 0===n?void 0:n.totalHiddenLessonsIds;null==f||null===(l=f.mockTests)||void 0===l||null===(i=l.mockTestIds)||void 0===i||i.length;let ec=null==w?void 0:w.courseCompletionData,ed=null==w?void 0:w.currentBundleDetails,eu=!!ei&&(null===(h=null==ed?void 0:ed.isDiscussionEnabled)||void 0===h||h),eh=!!x&&(null===(p=null==ed?void 0:ed.isNotesEnabled)||void 0===p||p),ep=null==w?void 0:w.recentlyAddedLessonsData,{totalCompletedLessonExcludesHiddenLesson:ev,totalLessonExludesHiddenLesson:eS}=V(ec,en,el,ea),initialTab=()=>z===D.T_M.PURCHASED?j?"syllabus":eu?"discussions":"about":window.innerWidth<=D.AVK.webView?"syllabus":"about",[eC,eg]=r.useState(initialTab()),ex=new URLSearchParams(window.location.search),ey=ex.get("search");return(0,r.useEffect)(()=>{"notes"!==eC&&L&&(eg("notes"),ee(!1))},[eC,L]),(0,r.useEffect)(()=>{"chapters"!==eC&&K&&(eg("chapters"),eo(!1))},[eC,K]),(0,r.useEffect)(()=>{j||"syllabus"!==eC||eg(initialTab())},[j]),(0,r.useEffect)(()=>{ey&&j&&eg("syllabus")},[ey]),(0,r.useEffect)(()=>{eg(eC)},[eC]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(S.xu,{pt:1,sx:{position:"sticky",top:0,borderBottom:"solid",borderWidth:1,borderColor:"border-basic-color-4",zIndex:1,overflowX:"auto",display:"-webkit-box",backgroundColor:"background-basic-color-2","::-webkit-scrollbar":{display:"none"}},children:[(0,o.jsx)(d.fK,{link:"about",text:$("about"),activeTab:eC,setActiveTab:eg}),(0,o.jsx)(d.fK,{link:"recentlyAdded",text:$("product:recentlyAdded"),activeTab:eC,setActiveTab:eg}),(0,o.jsx)(S.xu,{sx:{display:j?"block":"none"},children:(0,o.jsx)(d.fK,{link:"syllabus",text:$("product:syllabus"),activeTab:eC,setActiveTab:eg})}),eu?(0,o.jsx)(d.fK,{link:"discussions",text:$("discussions"),activeTab:eC,setActiveTab:eg}):null,eh?(0,o.jsx)(d.fK,{link:"notes",text:$("product:bookmark"),activeTab:eC,setActiveTab:eg}):null,er&&(0,o.jsx)(d.fK,{link:"certificates",text:$("product:certificates"),activeTab:eC,setActiveTab:eg}),(null==w?void 0:null===(c=w.currentLessonDetails)||void 0===c?void 0:null===(a=c.lessonChapters)||void 0===a?void 0:a.length)?(0,o.jsx)(d.fK,{link:"chapters",text:$("product:chapters"),activeTab:eC,setActiveTab:eg}):(0,o.jsx)(o.Fragment,{})]}),"about"===eC&&(0,o.jsx)(S.xu,{px:3,py:4,mr:[0,6,6],ml:3,sx:{overflow:"scroll",height:"100%",width:"100%",display:["auto","auto","auto"]},children:(0,o.jsx)(T.O1,{authorData:null==F?void 0:F.authorData,courseDetails:null==w?void 0:w.currentCourseDetails,isCoursePurchased:(null==w?void 0:w.userEnrollmentState)===D.T_M.PURCHASED,bundleDetails:null==w?void 0:w.currentBundleDetails,courseFetchStatus:null==w?void 0:w.currentCourseFetchStatus,courseReviewData:null==F?void 0:F.courseReviewData,currentFaqData:null==F?void 0:F.currentFaqData,currentCoursePricing:null==w?void 0:w.currentCoursePricing,goToCourseReview:et,onHandleDeleteReview:null==B?void 0:B.onHandleDeleteReview,reviewDataFetchStatus:null==F?void 0:F.reviewDataFetchStatus,secondsToHHMMSS:null==R?void 0:R.secondsToHHMMSS,goToEditReview:null==B?void 0:B.onEditReview,isTaxEnabled:_,schoolPricingModel:null==N?void 0:N.schoolPricingModel,playerCallbacks:M,enrollmentButtonData:N,userEnrollmentState:z,isSubscription:O,sharedIsUserLoggedIn:H,courseData:w,enrollmentButtonCallbacks:Q})}),"recentlyAdded"===eC&&(0,o.jsx)(S.xu,{py:4,mr:[0,6,6],sx:{overflow:"scroll",height:"100%",width:"100%",display:["auto","auto","auto"]},children:X&&!Z?(0,o.jsx)(U.Z,{title:$("noInternetConnection"),description:$("pleaseConnectToTheInternetAndAccessRecentlyAdded"),textColor:"background-alternative-color-1"}):(0,o.jsx)(RecentlyAdded_RecentlyAdded,{lessons:ep,onLessonClick:e.syllabusListCallbacks.onLessonClick,recentlyAddedLessonsDataFetchStatus:null==w?void 0:w.recentlyAddedLessonsDataFetchStatus,recentlyAddedLessonsDataError:null==w?void 0:w.recentlyAddedLessonsDataError,doFetchRecentlyAddedLessons:null==A?void 0:A.doFetchRecentlyAddedLessons,courseId:en,currentLessonDetails:null==w?void 0:w.currentLessonDetails})}),"discussions"===eC&&(0,o.jsx)(S.xu,{px:3,py:4,sx:{overflow:"scroll",height:"100%",width:"100%",display:["auto","auto","auto"]},children:!Z&&X?(0,o.jsx)(U.Z,{title:$("noInternetConnection"),description:$("pleaseConnectToTheInternetAndAccessDiscussions"),textColor:"background-alternative-color-1"}):(0,o.jsx)(DiscussionTab,{getCurrentPosition:C,setPlayerFocusState:g})}),"notes"===eC&&(0,o.jsx)(S.xu,{px:3,py:4,sx:{overflow:"scroll",height:"100%",width:"100%",display:["auto","auto","auto"]},children:X&&!Z?(0,o.jsx)(U.Z,{title:$("noInternetConnection"),description:$("pleaseConnectToTheInternetAndAccessBookmarks"),textColor:"background-alternative-color-1"}):(0,o.jsx)(Notes,{getCurrentPosition:C,setPlayerFocusState:g})}),"syllabus"===eC&&(0,o.jsxs)(S.xu,{sx:{overflow:"scroll",width:"100%",display:["auto","auto","auto"]},children:[(0,o.jsxs)(S.xu,{sx:{width:"100%"},p:4,children:[v===m.Dl.TEST_SERIES&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(S.kC,{mb:6,style:{alignItems:"center",justifyContent:"space-between"},children:b?(0,o.jsxs)(o.Fragment,{children:[k&&"NaN"!==k?(0,o.jsxs)(S.xu,{sx:{alignSelf:"flex-end"},children:[(0,o.jsx)(d.xv,{category:"c1",children:$("product:yourAverageScore")}),(0,o.jsx)(d.xv,{category:"h4",children:k})]}):null,(0,o.jsx)(d.zx,{disabled:b<=0,variant:"primary",size:"small",children:$("product:viewAnalytics").toUpperCase(),onClick:()=>{b>0&&J&&J()}})]}):null})}),v===m.Dl.COURSE&&(0,o.jsxs)(S.kC,{mb:6,style:{alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsx)(d.xv,{category:"label",textTransform:"uppercase",children:$("product:courseAnalytics")}),(0,o.jsx)(d.zx,{disabled:z!==D.T_M.PURCHASED,variant:"primary",size:"small",children:$("product:viewAnalytics").toUpperCase(),onClick:()=>{es&&es()}})]}),(0,o.jsxs)(S.kC,{style:{alignItems:"center"},children:[(0,o.jsx)(S.xu,{sx:{width:"100%"},mr:2,children:(0,o.jsx)(d.ko,{indicatorColor:"secondary",progress:f.courseType===m.Dl.COURSE?I:b})}),(0,o.jsx)(d.xv,{category:"c2",children:"".concat(v===m.Dl.COURSE?I:b,"%")})]}),(0,o.jsx)(d.xv,{category:"c2",children:ec&&Array.isArray(ec[en])&&(0,o.jsxs)(o.Fragment,{children:[v===m.Dl.COURSE&&(0,o.jsxs)(S.kC,{children:[(0,o.jsx)(d.xv,{category:"c1",children:ev}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c1",children:$("product:outOf",{count:eS})}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c1",children:$("product:lessons")}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c1",textTransform:"capitalize",children:$("completed")})]}),v===m.Dl.TEST_SERIES&&(0,o.jsxs)(S.kC,{children:[(0,o.jsx)(d.xv,{category:"c1",children:ev}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c1",children:$("product:outOf",{count:eS})}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsxs)(d.xv,{category:"c1",children:[" ",$("tests")]}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c1",textTransform:"capitalize",children:$("completed")})]})]})})]}),(0,o.jsx)(T.AG,{...P,...E,...e.callbacks,toggleSearch:q,isSearchShown:!0,fixHeight:!1,searchQuery:W,navData:e.navData,isMobileDevice:j})]}),"certificates"===eC&&(0,o.jsx)(S.xu,{px:3,py:4,sx:{overflow:"scroll",height:"100%",width:"100%",display:["auto","auto","auto"]},children:(0,o.jsx)(CerticificateTab,{})}),"chapters"===eC&&(0,o.jsx)(S.xu,{px:3,py:4,sx:{overflow:"scroll",height:"100%",width:"100%",display:["auto"]},children:(0,o.jsx)(T.Io,{courseData:w,setCurrentAccessingLesson:null==M?void 0:M.setCurrentAccessingLesson})})]})}),_=s(67458),M=s(75721),PlayerHeader_PlayerHeader=e=>{var t;let{title:s,courseId:n,sharedIsUserLoggedIn:i,enrollmentState:l,isReviewsEnabled:a,currentReviewData:c,setPlayerFocusState:h,currentBundleSeoTitle:p,currentCourseSeoTitle:v,goBack:C=()=>!1,goToCourseDashboard:g=()=>!1,onHandleAddReview:x=()=>!1,onHandleFavourites:m=()=>!1,favouriteId:T,isFavouritesEnabled:b,showCurriculumData:I,goToSalesboard:k,isMobileDevice:L,isOnline:f,goToStore:P=()=>!1}=e,E=new URLSearchParams(window.location.search),{t:w}=(0,u.$)(["common","product"]),{theme:F}=(0,y.B7)(),[R,B]=r.useState(!1),[N,U]=r.useState(5),O=!!T,_=(0,M.V)(["tiny","small"]),onClickBack=()=>{E.get("redirectionSource")===D.qCj?P():C()},H=[];if(i&&b){let e=w(O?"product:addedToFavourites":"product:addToFavourites"),t=O?j.q.bookmarkFilled:j.q.bookmark;H.push({title:e,leadingIcon:t,onClick:()=>m(n,T)})}let z=(null==c?void 0:null===(t=c.allReviews)||void 0===t?void 0:t.length)>0?null==c?void 0:c.allReviews[0]:null;if(c&&a&&i&&l===D.T_M.PURCHASED&&(c.isCurrentUserReviewed&&(null==z?void 0:z.approvedStatus)===0||!c.isCurrentUserReviewed)&&h){let e=w(c.isCurrentUserReviewed&&(null==z?void 0:z.approvedStatus)===0?"product:updateReview":"product:addReview"),t=j.q.star;H.push({title:e,leadingIcon:t,onClick:()=>{h(!R),x(n,null,v)}})}if(I){let e=w("product:viewCurriculum"),t=j.q.bulletList;H.push({title:e,leadingIcon:t,onClick:()=>null==k?void 0:k()})}return(0,o.jsxs)(S.kC,{py:2,px:3,sx:{borderBottomStyle:"solid",borderBottomColor:"border-basic-color-4",borderBottomWidth:1,maxHeight:F.sizes[7],justifyContent:"space-between",alignItems:"center",height:F.sizes[7]},children:[(0,o.jsxs)(S.kC,{style:{alignItems:"center"},children:[(0,o.jsx)(S.xu,{children:(0,o.jsx)(S.xu,{pr:[2],style:{minWidth:"min-content",cursor:"pointer"},children:(0,o.jsx)(d.Bz,{onClick:onClickBack,children:(0,o.jsx)(d.tv,{icon:j.q.left,fontSize:["h6","h5"]})})})}),(0,o.jsx)(S.xu,{style:{cursor:"pointer"},title:s,onClick:onClickBack,children:(0,o.jsx)(d.xv,{noOfLines:1,category:["c1","s1"],children:s})})]}),f&&(0,o.jsxs)(S.kC,{style:{alignItems:"center"},children:[L||(null==H?void 0:H.length)>1?(0,o.jsx)(A.qy,{menuTitle:(0,o.jsx)(S.kC,{sx:{alignItems:"center"},children:(0,o.jsx)(d.tv,{icon:j.q.ellipsis})}),children:H.map(e=>(0,o.jsx)(d.sN,{text:null==e?void 0:e.title,textCategory:"p2",onClick:null==e?void 0:e.onClick,leadingIcon:null==e?void 0:e.leadingIcon,leadingIconProps:{icon:null==e?void 0:e.leadingIcon,size:void 0,fontSize:"s1"}}))}):null,(null==H?void 0:H.length)===1?(0,o.jsxs)(o.Fragment,{children:[i&&b&&!L&&(0,o.jsx)(S.xu,{sx:{cursor:"pointer",pr:2},children:(0,o.jsx)(d.zx,{type:"ghost",size:_,variant:"basic",children:O?w("product:addedToFavourites").toLocaleUpperCase():w("product:addToFavourites").toLocaleUpperCase(),onClick:()=>{m(n,T)},style:{backgroundColor:"transparent",borderWidth:0,padding:0,margin:0},sx:{transition:"all 0.2s ease-in-out","&:hover":{opacity:.6,borderWidth:1}},leadingIcon:j.q.star,leadingIconProps:{icon:O?j.q.bookmarkFilled:j.q.bookmark,size:void 0,fontSize:"s1"}})}),c&&a&&i&&l===D.T_M.PURCHASED?(0,o.jsx)(o.Fragment,{children:!c.isCurrentUserReviewed&&h?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(S.xu,{sx:{cursor:"pointer"},children:(0,o.jsx)(d.zx,{type:"outline",size:_,variant:"secondary",children:w("product:addReview").toUpperCase(),onClick:()=>{h(!R),x(n,null,v)},leadingIcon:j.q.star,leadingIconProps:{icon:j.q.star,size:void 0,fontSize:"s1"}})})}):null}):null,I?(0,o.jsx)(S.xu,{sx:{cursor:"pointer"},children:(0,o.jsx)(d.zx,{type:"outline",size:_,variant:"secondary",children:w("product:viewCurriculum").toUpperCase(),onClick:()=>null==k?void 0:k(),leadingIcon:j.q.bulletList,leadingIconProps:{icon:j.q.bulletList,size:void 0,fontSize:"s1"}})}):null]}):null]})]})},H=s(27693),z=s.n(H),ContentDripping_ContentDripping=e=>{var t;let{title:s,dripData:r}=e,{t:n}=(0,u.$)("product"),{theme:i}=(0,y.B7)();return(0,o.jsxs)(S.kC,{p:3,sx:{borderRadius:"certificate",height:"100%",alignItems:"center",justifyContent:"space-between",flexDirection:"column",backgroundColor:"color-basic-1000"},children:[(0,o.jsx)(S.xu,{sx:{textAlign:"left",width:"100%","& div":{my:[1,2]}},children:(0,o.jsx)(d.xv,{category:["p1","h5"],sx:{color:"color-basic-100"},style:{textAlign:"left"},children:s})}),r&&!r.isReleased?(0,o.jsxs)(S.xu,{sx:{width:["98%","70%"]},children:[(0,o.jsxs)(S.kC,{sx:{gap:2,alignItems:"center",justifyContent:"center",flexWrap:"wrap"},children:[(0,o.jsx)(d.tv,{icon:j.q.schedule,color:"secondary",customColor:(null===(t=i.rawColors)||void 0===t?void 0:t["color-basic-100"])||"#fffff",fontSize:["s1","h5"]}),(0,o.jsx)(d.xv,{category:["s1","h5"],sx:{color:"color-basic-100"},style:{textAlign:"center"},children:n("product:lessonReleseOn")}),(0,o.jsx)(d.xv,{category:["s1","h5"],sx:{color:"color-basic-100"},style:{textAlign:"center"},children:r.releaseDate})]}),(0,o.jsx)(S.xu,{mt:4}),(0,o.jsx)(S.xu,{children:(0,o.jsx)(d.xv,{category:["c1","s1"],sx:{color:"color-basic-100"},style:{textAlign:"center"},children:n("product:lessonOpenIn")})}),(0,o.jsx)(S.xu,{mt:2}),(0,o.jsx)(S.kC,{sx:{width:"100%",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(S.xu,{sx:{width:"50%"},children:(0,o.jsx)(d.IT,{customColor:"color-basic-100",time:null==r?void 0:r.lessonReleaseDateInMiliSeconds,status:"control"})})}),(0,o.jsx)(S.xu,{mt:2})]}):null,(0,o.jsx)(S.xu,{})]})},TakeTestButton_TakeTestButton=e=>{let{currentCourseMockTests:t,mockTestId:s,mockTest:r,userEnrollmentState:n,clearCourseData:i,currentCourseId:l,isCourseExpired:a,isTrialLesson:c,inTestSeriesPlayer:h,disableInMocktest:p,isCourseFree:v,currentLessonId:C,openQuizPlayer:g,goToTest:x,openTestInNewWindow:y,isSlideQuiz:m,inLessonPlayer:T,buttonSize:b="medium",openTestInSameWindow:I,setPlayerSemiFullScreenState:k,startTestPlayer:L,isSecureQuizModeEnabled:f}=e,{t:P}=(0,u.$)(["common","product"]),handleTakeTest=()=>{if(n===D.T_M.ENROLLED||n===D.T_M.PURCHASED){if(r.mockTestType===D.EEy.PRACTICE_QUIZ&&T&&!m&&I){k(!0),L(D.zyP.TAKE_MOD,s,D.eoh.TAKING_QUIZ);return}f?g(s||0,i,l,C):x(s,null,C)}},E=!0;r&&r.maxRetakesAllowed&&(E=r.currentRetakeCount<r.maxRetakesAllowed),r.currentRetakeCount===r.maxRetakesAllowed&&r.latestSubmittedStatus!==D.t6K.SUBMITTED&&(E=!0);let w=P("product:takeTest");r.latestSubmittedStatus===D.t6K.IN_PROGRESS&&(w=P("product:continue")),(r.latestSubmittedStatus===D.t6K.SUBMITTED||r.latestSubmittedStatus===D.t6K.SUBMITTED_AFTER_TIMEUP)&&E&&(w=P("product:retakeTest"));let A=!1;return(h&&n===D.T_M.ENROLLED&&!c&&!v||p)&&(A=!0),(0,o.jsx)(S.kC,{sx:{placeContent:"center"},children:n===D.T_M.ENROLLED||n===D.T_M.PURCHASED?(0,o.jsx)(o.Fragment,{children:t.mockTestIds.includes(s)?(0,o.jsx)(S.xu,{sx:{overflow:"hidden",minWidth:"min-content"},children:(0,o.jsx)(o.Fragment,{children:(r.mockTestStatus===D.L2B.PUBLISHED||r.mockTestStatus===D.L2B.SCHEDULED&&r.scheduleStartDate&&r.scheduleEndDate&&new Date(r.scheduleStartDate)<new Date&&new Date<new Date(r.scheduleEndDate))&&E&&(0,o.jsx)(d.zx,{onClick:()=>handleTakeTest(),children:w.toUpperCase(),disabled:a||A,variant:"primary",size:b})})}):(0,o.jsx)(d.xv,{category:"c1",children:P("unavailable")})}):(0,o.jsx)(d.zx,{onClick:()=>!1,children:P("product:takeTest").toUpperCase(),size:b,disabled:!0})})},W=s(97593),G=s(35033),CurrentRating_CurrentRating=e=>{let{rating:t,total:s}=e;return(0,o.jsx)(o.Fragment,{children:s?(0,o.jsxs)(S.kC,{pt:1,pb:2,style:{alignItems:"flex-start"},children:[(0,o.jsx)(d.TE,{rating:t}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c2",children:(0,o.jsx)("strong",{children:t})}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsxs)(d.xv,{category:"c2",children:["(",s,")"]})]}):null})},ProductIntro_ProductIntro=e=>{let{title:t,shortDesc:s,type:r,isCurrentProductFromBundlde:n,hideOverline:i,rating:l,isReviewsEnabled:a,isCourseExpired:c,hideBreadcrumbs:h,total:p,goToStore:v,customColor:C=""}=e,{t:g}=(0,u.$)(["common","product"]);return(0,o.jsxs)(o.Fragment,{children:[!h&&(0,o.jsx)(S.xu,{py:2,sx:{display:["none","block","block"]},children:(0,o.jsx)(d.xv,{category:"p2",textTransform:"capitalize",sx:{color:C||"text-basic-color"},children:(0,o.jsxs)(S.kC,{style:{flexDirection:"row"},children:[(0,o.jsx)(S.xu,{onClick:()=>v(),sx:{cursor:"pointer"},children:(0,o.jsx)(d.xv,{category:"c1",textTransform:"capitalize",sx:{color:C||"text-basic-color"},children:"".concat(g("product:store")," /")})}),(0,o.jsx)(S.xu,{ml:1}),r===D.CourseType.COURSE?(0,o.jsx)(d.xv,{category:"c1",sx:{color:C||"text-basic-color"},children:"".concat(g("course")," /")}):null,r===D.CourseType.TEST?(0,o.jsx)(d.xv,{category:"c1",sx:{color:C||"text-basic-color"},children:"".concat(g("mockTest")," /")}):null,r===D.CourseType.TEST_SERIES?(0,o.jsx)(d.xv,{category:"c1",sx:{color:C||"text-basic-color"},children:"".concat(g("testSeries")," /")}):null,r===D.CourseType.BUNDLE?(0,o.jsx)(d.xv,{category:"c1",sx:{color:C||"text-basic-color"},children:"".concat(g("bundle")," /")}):null,(0,o.jsx)(S.xu,{ml:1,children:(0,o.jsx)(d.xv,{category:"c1",sx:{color:C||"text-basic-color"},children:t})})]})})}),(0,o.jsx)(S.xu,{pl:1,pt:[8,10],sx:{display:["none","block","block"]},children:(0,o.jsx)(S.kC,{style:{flexDirection:"row"},children:i?null:(0,o.jsxs)(o.Fragment,{children:[n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.xv,{category:"p1",sx:{color:C||"text-basic-color"},children:g("bundle")}),(0,o.jsx)(S.xu,{pl:1,pr:1,children:(0,o.jsx)(d.xv,{category:"p1",sx:{color:C||"text-basic-color"},children:">"})})]}):null,(0,o.jsxs)(d.xv,{category:"p1",sx:{color:C||"text-basic-color"},children:[r===D.CourseType.COURSE?(0,o.jsx)(o.Fragment,{children:g("course")}):null,r===D.CourseType.TEST?(0,o.jsx)(o.Fragment,{children:g("mockTest")}):null,r===D.CourseType.TEST_SERIES?(0,o.jsx)(o.Fragment,{children:g("testSeries")}):null,r===D.CourseType.BUNDLE?(0,o.jsx)(o.Fragment,{children:g("bundle")}):null]})]})})}),(0,o.jsx)(d.xv,{category:["h6","h4"],sx:{color:C||"text-basic-color"},children:t}),l&&a?(0,o.jsx)(CurrentRating_CurrentRating,{total:p||0,rating:l.toString()}):null,(0,o.jsx)(d.xv,{category:["c1","p2"],sx:{color:C||"text-basic-color",marginTop:2},noOfLines:2,children:s}),c?(0,o.jsx)(S.xu,{mt:1,children:(0,o.jsx)(d.xv,{category:["c1","s1"],sx:{color:C||"text-basic-color"},children:g("expired")})}):null]})},q=s(22823),SubscribeOverlay_SubscribeOverlay=e=>{let{lessonTitle:t,courseDetails:s,sharedIsUserLoggedIn:r,goToStore:n,goToSubscription:i,isCourseFree:l,showEnrollButton:a,isCourseAvailableForTrial:c,disableEnrollButton:h,handleEnroll:p,isEnrolling:v,buttonSize:C,isTrialLesson:g}=e,{t:x}=(0,u.$)("subscription"),{theme:m}=(0,y.B7)(),D=x(l?"product:enrollForFree":"product:startAFreeTrial");return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(S.kC,{sx:{height:"100%",alignItems:"center",backgroundColor:"color-basic-1000"},p:[1,3],pl:[1,6],children:(0,o.jsxs)(S.xu,{sx:{transform:["scale(0.8)","none"]},children:[(0,o.jsx)(S.xu,{sx:{"& h1, div":{color:"disabled"},display:["none","initial"]},children:(0,o.jsx)(ProductIntro_ProductIntro,{title:t,shortDesc:s.courseShortDescription,type:s.courseType,hideOverline:!0,hideBreadcrumbs:!0,goToStore:n,customColor:m.rawColors["color-basic-100"]})}),(0,o.jsx)(S.xu,{sx:{"& h1, div":{color:"disabled"},display:["initial","none"]},children:(0,o.jsx)(ProductIntro_ProductIntro,{title:t,shortDesc:"",type:s.courseType,hideOverline:!0,hideBreadcrumbs:!0,goToStore:n,customColor:m.rawColors["color-basic-100"]})}),(0,o.jsx)(S.xu,{my:[2,2,4]}),(0,o.jsxs)(S.kC,{children:[(0,o.jsx)(S.xu,{mr:3,children:!r||r&&s.subscriptionAccessData&&s.subscriptionAccessData.subscriptionId?(0,o.jsx)(d.zx,{onClick:()=>i(null==s?void 0:s.courseId),variant:"primary",children:x("goPremium").toUpperCase()}):null}),(a||c)&&g?(0,o.jsx)(S.xu,{children:(0,o.jsx)(d.zx,{onClick:()=>p(),disabled:h,variant:"primary",type:"filled",size:C,children:(v?x("product:enrolling"):D).toUpperCase()})}):null]})]})})})},PurchaseOverlay_PurchaseOverlay=e=>{let t,{currentCoursePricing:s,currentProductDetails:n,sharedIsUserLoggedIn:i,showEnrollButton:l,isEnrolling:a,currentBundleId:c,isCurrentProductFromBundlde:h,currentCourseId:p,isCourseAvailableForTrial:v,isCourseExpired:C,isCoursePrivate:g,isSellIndividualEnabled:x,isCourseFree:m,isBundleFree:T,onHandleSetVariablePrice:b,isSubscription:I,goToStore:k,goToSubscription:L,isTaxEnabled:f,currencyCode:P,lessonTitle:E,onHandleTestSeriesBuy:w,onHandleTestSeriesEnroll:A,instalmentDueExpired:j,onHandleSubscriptionEnroll:F,onVisitorSignIn:R,isTrialLesson:B,currentBundleDetails:N}=e,{t:U}=(0,u.$)(["common","product"]),O=(0,M.V)(["small","medium"]),_=(0,M.V)(["tiny","small"]),[H,V]=r.useState(!1),{theme:Q}=(0,y.B7)(),K=U(m?"product:enrollForFree":"product:startAFreeTrial");h&&(K=U("product:enrollBundle")),m&&n.allowRenewPlan&&(K=U("product:renewProduct"));let Z=U(h?"buyBundle":"buyNow");(null==N?void 0:N.courseType)===D.CourseType.BATCH&&(Z=U("product:buyBatch"),K=U("product:enrollBatch")),n.allowRenewPlan&&(Z=U("product:renewProduct"));let X=m||T;s&&s.actualPrice&&(X=!1);let $=s&&s.selctedVariablePrice?s.selctedVariablePrice.priceId:0;$&&s.selctedVariablePrice.pricingType===D.CPl.FREE&&(X=!0);let handleBuy=()=>{w(c,n.courseId,$)},handleEnroll=()=>{a||A($)};t=!n.allowRenewPlan&&(a||C||g||!x);let Y=n.serverDeviceType&&(n.serverDeviceType===D.Mgg.ANDROID||n.serverDeviceType===D.Mgg.IOS||n.serverDeviceType===D.Mgg.ANDROID+D.Mgg.IOS);if(I)return(0,o.jsx)(SubscribeOverlay_SubscribeOverlay,{sharedIsUserLoggedIn:i,lessonTitle:E,courseDetails:n,goToStore:k,goToSubscription:L,isCourseFree:m,showEnrollButton:l,isCourseAvailableForTrial:v,handleEnroll:()=>{if(!a){var e;F(null==n?void 0:null===(e=n.subscriptionAccessData)||void 0===e?void 0:e.subscriptionId)}},disableEnrollButton:t,buttonSize:O,isEnrolling:a,isTrialLesson:B});if(j){let e=U("payment:payNow"),t=U("payment:pay");return n.allowRenewPlan&&(e=U("product:renewNow"),t=U("product:renew")),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(S.kC,{p:[1,3],pl:[1,6],sx:{backgroundColor:"color-basic-1000",height:"100%",alignItems:"center"},children:(0,o.jsxs)(S.xu,{sx:{transform:["scale(0.8)","none"]},children:[(0,o.jsxs)(S.xu,{sx:{"& h1, div":{color:"disabled"},display:["none","initial"]},mr:3,children:[(0,o.jsx)(d.xv,{category:"h3",sx:{color:Q.rawColors["color-basic-100"]},textTransform:"capitalize",children:U("payment:instalmentExpiredTitle",{payNowDescription:t})}),(0,o.jsx)(d.xv,{category:"p1",sx:{color:Q.rawColors["color-basic-100"],mt:2},children:U("payment:instalmentExpiredDescription",{payNowDescription:t})})]}),(0,o.jsxs)(S.xu,{sx:{"& h1, div":{color:"disabled"},display:["initial","none"]},mr:3,children:[(0,o.jsx)(d.xv,{category:"h3",sx:{color:Q.rawColors["color-basic-100"]},children:U("payment:instalmentExpiredTitle")}),(0,o.jsx)(d.xv,{category:"p1",sx:{color:Q.rawColors["color-basic-100"],mt:2},children:U("payment:instalmentExpiredDescription")})]}),(0,o.jsxs)(S.kC,{mr:3,sx:{gap:3},children:[(0,o.jsx)(d.zx,{onClick:()=>handleBuy(),variant:"primary",children:e,size:"medium",sx:{textTransform:"uppercase"}}),(0,o.jsx)(d.zx,{onClick:()=>k(),variant:"primary",type:"outline",sx:{color:Q.rawColors["color-basic-100"]},children:U("payment:goToStore").toUpperCase(),size:"medium"})]})]})})})}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(S.kC,{p:[1,3],pl:[1,6],sx:{backgroundColor:"color-basic-1000",height:"100%",alignItems:"center"},children:(0,o.jsxs)(S.xu,{sx:{transform:["scale(0.8)","none"]},children:[(0,o.jsx)(S.xu,{sx:{"& h1, div":{color:"disabled"},display:["none","initial"]},children:(0,o.jsx)(ProductIntro_ProductIntro,{title:E,shortDesc:n.courseShortDescription,type:n.courseType,isCourseExpired:C,hideOverline:!0,goToStore:k,customColor:Q.rawColors["color-basic-100"]})}),(0,o.jsx)(S.xu,{sx:{"& h1, div":{color:"disabled"},display:["initial","none"]},children:(0,o.jsx)(ProductIntro_ProductIntro,{title:E,shortDesc:"",type:n.courseType,isCourseExpired:C,hideOverline:!0,goToStore:k,customColor:Q.rawColors["color-basic-100"]})}),Y&&(0,o.jsx)(S.xu,{children:(0,o.jsx)(d.xv,{category:"p2",sx:{color:"color-basic-100"},children:U("product:accessOnlyMobile")})}),(0,o.jsx)(S.xu,{my:[2,2,4]}),s&&s.selctedVariablePrice?(0,o.jsxs)(S.kC,{sx:{flexWrap:"wrap","& h2, div:nth-of-type(2)>div":{color:"disabled",alignItems:"center"}},children:[(0,o.jsx)(G.Z,{price:s.selctedVariablePrice.actualPrice,discountPrice:s.selctedVariablePrice.discountPrice,discountPercentage:s.selctedVariablePrice.discountPercentage,isTaxEnabled:f,currencyCode:P,status:"control",customColor:Q.rawColors["color-basic-100"],customHintColor:Q.rawColors["color-basic-500"],priceItem:s.selctedVariablePrice}),s.variablePrices.length?(0,o.jsxs)(S.kC,{ml:[1,4],style:{alignItems:"center"},children:[(0,o.jsx)(d.xv,{category:"p2",sx:{color:"color-basic-100"},children:s.selctedVariablePrice.validity?(0,o.jsxs)(S.kC,{children:[(0,o.jsx)("strong",{children:s.selctedVariablePrice.validity}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"p2",sx:{color:"color-basic-100"},children:"".concat(U("day",{count:s.selctedVariablePrice.validity})," ").concat(U("validity"))})]}):(0,o.jsxs)(S.kC,{children:[(0,o.jsx)(d.xv,{category:"p2",sx:{color:"color-basic-100"},children:U("common:till")}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)("strong",{children:z()(s.selctedVariablePrice.courseEndDate).format("MMM D, YYYY")})]})}),(0,o.jsx)(S.xu,{ml:[1,2]}),(0,o.jsx)(S.xu,{sx:{"& button":{py:0}},children:(0,o.jsx)(d.zx,{variant:"secondary",type:"outline",size:_,onClick:()=>V(!H),children:U("change").toUpperCase()})})]}):null]}):null,(0,o.jsx)(S.xu,{my:[2,2,4]}),(n.courseStatus===D.iPX.PUBLISHED||n.courseStatus===D.iPX.SCHEDULED)&&(0,o.jsxs)(S.kC,{children:[!X&&(0,o.jsx)(S.xu,{mr:3,children:(0,o.jsx)(d.zx,{onClick:()=>handleBuy(),variant:"primary",disabled:t,size:O,sx:{textTransform:"uppercase"},children:Z})}),l||v?(0,o.jsx)(S.xu,{children:(0,o.jsx)(d.zx,{onClick:()=>handleEnroll(),disabled:t,variant:"primary",type:"filled",size:O,children:(a?U("product:enrolling"):K).toUpperCase()})}):null]}),!i&&(0,o.jsx)(S.xu,{my:[2,2,4],children:(0,o.jsxs)(S.kC,{sx:{alignItems:"center",gap:3},children:[(0,o.jsx)(d.xv,{category:"p1",sx:{color:"color-basic-100"},children:U("purchasedSignin")}),(0,o.jsx)(d.rU,{textProps:{category:"p2",style:{display:"inline"},textCustomColor:"#9797FD"},type:"internal",onClick:()=>R(),underline:!0,children:U("signIn").toLocaleUpperCase()})]})})]})}),H&&(0,o.jsx)(W.u_,{ariaHideApp:!1,isOpen:H,onRequestClose:()=>V(!H),children:(0,o.jsx)(q.Z,{isValidityModalOpen:H,setIsValidityModalOpen:V,doSetVariablePrice:b,currentCoursePricing:s,courseId:h?c:n.courseId,isTaxEnabled:f,currencyCode:P})})]})},V=s(85140),Q=s(13881),K=s(68187),TestSeriesPlayer_TestSeriesPlayer=e=>{let{inLessonPlayer:t,isSlideQuiz:s,isTaxEnabled:r,sharedIsUserLoggedIn:n,enrollmentButtonData:l,isSubscription:a,openTestInNewWindow:c,openQuizPlayer:h,slideDetails:p,setPlayerSemiFullScreenState:v,openTestInSameWindow:C,checkMoreOptions:g,callbacks:x,slideType:y,playerCallbacks:m,courseData:T,playerLessonData:b,esignData:I}=e,{onHandleTestSeriesBuy:k,onHandleTestSeriesEnroll:L,onHandleSetVariablePrice:f,goToStore:P,goToSubscription:E,goToTest:w,setQuizIdInResultBundle:A,changeQuizStateInLessonPlayer:F,startTestPlayer:R,goToTestResults:N,clearCourseData:U,calculateinstalmentReminder:O,onHandleSubscriptionEnroll:_,onVisitorSignIn:H,doFetchEsignStatus:W}=m,{isCourseFree:G,currentLessonId:q,currentBundleId:Z,currentCoursePricing:X,currentCourseDetails:$,currentLessonPlayerQuizState:Y,isCourseExpired:J,userEnrollmentState:ee,currentCourseId:et,currentBundleDetails:es,currency:eo}=T,er=$.mockTests,{lessons:en,mockTests:ei}=$,el=en?null==en?void 0:en.lessonDetails[q]:{},ea=ei?ei.mockTestDetails[null==el?void 0:el.mockTestId]:{},ec=null==el?void 0:el.mockTestId,ed=null==el?void 0:el.lessonTitle;null==el||el.dripData;let eu=null==el?void 0:el.isTrialLesson,eh=null==ea?void 0:ea.quizConfig,ep=null==eh?void 0:eh.isSecureQuizModeEnabled,{t:ev}=(0,u.$)(["common","product"]),eS=p&&(null==p?void 0:p.slideState)<D.pAP.READY,eC=(0,M.V)(["c1","h4"]),eg=(0,M.V)(["tiny","small"]),ex=(null==ea?void 0:ea.latestSubmittedStatus)===D.t6K.SUBMITTED||(null==ea?void 0:ea.latestSubmittedStatus)===D.t6K.SUBMITTED_AFTER_TIMEUP||(null==ea?void 0:ea.latestSubmittedStatus)===D.t6K.IN_PROGRESS,ey=(null==ea?void 0:ea.firstSubmittedStatus)===D.t6K.IN_PROGRESS||(null==ea?void 0:ea.firstSubmittedStatus)===D.t6K.SUBMITTED||(null==ea?void 0:ea.firstSubmittedStatus)===D.t6K.SUBMITTED_AFTER_TIMEUP,em=(null==ea?void 0:ea.maxRetakesAllowed)?ev("product:latestAttemptMaxDesc",{retake:null==ea?void 0:ea.currentRetakeCount,maxretake:null==ea?void 0:ea.maxRetakesAllowed}):ev("product:latestAttemptDesc",{retake:null==ea?void 0:ea.currentRetakeCount}),openResult=e=>{if(ea.mockTestType===D.EEy.PRACTICE_QUIZ&&t&&!s&&C){v(!1),A(ec,e),F(D.eoh.VIEW_RESULT);return}N(ec,e,null,q)},handleTakeTest=e=>{if(ee===D.T_M.ENROLLED||ee===D.T_M.PURCHASED){if(ea.mockTestType===D.EEy.PRACTICE_QUIZ&&t&&!s&&C){v(!0),R(i.zy.TAKE_MOD,ec,D.eoh.TAKING_QUIZ);return}e?h(ec||0,U,et):w(ec,null,q)}},eD=!0;ea&&ea.resultScheduleTime&&(eD=!(new Date(ea.resultScheduleTime)>new Date));let eT=(null==O?void 0:O(null==$?void 0:$.nextInstalmentPaymentDate))<=0;if(J||!(ee===D.T_M.PURCHASED||ee===D.T_M.ENROLLED&&(eu||G)))return(0,o.jsx)(PurchaseOverlay_PurchaseOverlay,{lessonTitle:ed,currentCoursePricing:X,currentProductDetails:$,sharedIsUserLoggedIn:n,showEnrollButton:l.showEnrollButton,isEnrolling:l.isEnrolling,currentBundleId:Z,currentCourseId:$.courseId,isCourseAvailableForTrial:l.isCourseAvailableForTrial,isCourseExpired:l.isCourseExpired,isCoursePrivate:l.isCoursePrivate,isSellIndividualEnabled:l.isSellIndividualEnabled,isCourseFree:G,isBundleFree:G,currentProductType:$.courseType,currencyCode:eo,isCurrentProductFromBundlde:!!(et&&Z),isTaxEnabled:!!r,isSubscription:a,onHandleTestSeriesBuy:k,onHandleTestSeriesEnroll:L,onHandleSetVariablePrice:f,goToStore:P,goToSubscription:E,instalmentDueExpired:eT,onHandleSubscriptionEnroll:_,onVisitorSignIn:H,isTrialLesson:eu,currentBundleDetails:es});if(eS)return(0,o.jsx)(S.kC,{py:[1,6],px:[1,4],sx:{overflow:["scroll","hidden"],justifyContent:"space-between",height:"100%",flexDirection:"column",backgroundColor:"color-basic-1000"},children:(0,o.jsx)(S.kC,{sx:{justifyContent:"center",height:"100%",alignItems:"center"},children:(0,o.jsx)(d.xv,{category:"p1",alignment:"center",sx:{color:"color-basic-100"},children:ev("product:testComingSoon")})})});if((null==el?void 0:el.dripData)&&!(null==el?void 0:el.dripData.isReleased)||(null==el?void 0:el.unlocksAt)&&!(null==el?void 0:el.unlocksAt.isReleased)){var eb;let e;return e=null==el||!el.unlocksAt||(null==el?void 0:null===(eb=el.unlocksAt)||void 0===eb?void 0:eb.isReleased)?null==el?void 0:el.dripData:null==el?void 0:el.unlocksAt,(0,o.jsx)(ContentDripping_ContentDripping,{dripData:e,title:el.lessonTitle})}if(Y===D.eoh.VIEW_RESULT)return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(S.kC,{p:3,style:{height:"100%",alignItems:"center",flexDirection:"column"},children:[(0,o.jsx)(d.xv,{category:"h4",sx:{color:"color-basic-100"},children:ed}),(0,o.jsx)(S.kC,{p:3,style:{height:"100%",alignItems:"center",flexDirection:"column",width:"100%",justifyContent:"center"},children:(0,o.jsx)(V.cM,{})})]})});let eI=(0,o.jsx)(TakeTestButton_TakeTestButton,{isSlideQuiz:!!s,mockTestId:ec,userEnrollmentState:ee,clearCourseData:U,currentCourseId:et,currentCourseMockTests:er,mockTest:ea,inLessonPlayer:t,isCourseExpired:J,isTrialLesson:eu,inTestSeriesPlayer:!0,isCourseFree:G,currentLessonId:q,openTestInNewWindow:c,goToTest:w,openQuizPlayer:h,buttonSize:eg,openTestInSameWindow:C,setPlayerSemiFullScreenState:v,startTestPlayer:R,isSecureQuizModeEnabled:ep}),ek=ex&&(null==ea?void 0:ea.currentRetakeCount)>1&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(S.xu,{py:[1,3],px:[1,4],sx:{flexGrow:1,maxWidth:"50%"},children:(0,o.jsxs)(S.xu,{p:[1,4],sx:{backgroundColor:"color-basic-900",borderRadius:10},children:[(0,o.jsx)(S.kC,{style:{justifyContent:"center"},mb:[0,3],children:(0,o.jsxs)(S.xu,{mb:4,px:[3,9],children:[(0,o.jsxs)(S.kC,{children:[(0,o.jsx)(d.xv,{category:"s1",noOfLines:1,sx:{color:"color-basic-100"},children:em}),(0,o.jsx)(S.xu,{sx:{display:["initial","none"]},onClick:()=>ea.latestSubmittedStatus===D.t6K.IN_PROGRESS?handleTakeTest():openResult(D.XmP.LATEST),children:(0,o.jsx)(d.tv,{icon:j.q.arrowRight,color:"control"})})]}),(0,o.jsx)(S.kC,{sx:{justifyContent:"center"},children:ea.secondAttemptIsUnderEvaluation?(0,o.jsx)(d.xv,{category:eC,textTransform:"capitalize",sx:{color:"color-basic-100"},alignment:"center",children:ev("product:underEvaluation")}):(0,o.jsx)(d.xv,{sx:{color:"color-basic-100"},category:eC,style:{marginTop:8},alignment:"center",children:ea.latestSubmittedStatus===D.t6K.IN_PROGRESS?ev("product:inProgress"):"".concat(ea.latestAttemptScore," ").concat(ev("product:of",{count:ea.totalMarks}))})})]})}),(0,o.jsx)(S.xu,{sx:{display:["none","initial"]},children:(0,o.jsxs)(S.kC,{sx:{justifyContent:"center"},children:[ea.latestSubmittedStatus!==D.t6K.IN_PROGRESS&&(0,o.jsx)(d.zx,{onClick:()=>openResult(D.XmP.LATEST),variant:"primary",type:"outline",size:eg,children:ev("product:viewResult").toUpperCase(),sx:{marginRight:2}}),ea&&(0,o.jsxs)(S.xu,{sx:{marginLeft:2},children:[eI,(0,o.jsx)(S.xu,{})]})]})})]})})}),eL=ey&&(0,o.jsx)(S.xu,{py:[1,3],px:[1,4],sx:{flexGrow:1,maxWidth:"50%"},children:(0,o.jsxs)(S.xu,{p:[1,4],sx:{backgroundColor:"color-basic-900",borderRadius:10},children:[(0,o.jsxs)(S.kC,{style:{justifyContent:"center"},mb:[0,3],children:[(0,o.jsxs)(S.xu,{mb:4,px:[3,9],children:[(0,o.jsx)(d.xv,{category:"s1",noOfLines:1,sx:{color:"color-basic-100"},alignment:"center",style:{marginBottom:8},children:ev("product:firstAttempt")}),ea.firstAttemptIsUnderEvaluation?(0,o.jsx)(d.xv,{category:eC,textTransform:"capitalize",sx:{color:"color-basic-100"},alignment:"center",children:ev("product:underEvaluation")}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(d.xv,{sx:{color:"color-basic-100"},category:eC,alignment:"center",children:ea.firstSubmittedStatus===D.t6K.IN_PROGRESS?ev("product:inProgress"):"".concat(ea.firstAttemptScore," ").concat(ev("product:of",{count:ea.totalMarks}))})})]}),(0,o.jsx)(S.xu,{sx:{display:["initial","none"]},onClick:()=>ea.firstSubmittedStatus===D.t6K.IN_PROGRESS?handleTakeTest():openResult(D.XmP.FIRST),children:(0,o.jsx)(d.tv,{icon:j.q.arrowRight,color:"control"})})]}),(0,o.jsx)(S.xu,{sx:{display:["none","initial"]},children:(0,o.jsxs)(S.kC,{style:{justifyContent:"center"},children:[ea.firstSubmittedStatus!==D.t6K.IN_PROGRESS&&(0,o.jsx)(d.zx,{onClick:()=>openResult(D.XmP.FIRST),variant:"primary",type:"outline",size:eg,children:ev("product:viewResult").toUpperCase()}),ea&&!(ex&&ea.currentRetakeCount>1)&&(0,o.jsxs)(S.xu,{sx:{marginLeft:2},children:[eI,(0,o.jsx)(S.xu,{})]})]})})]})}),ef=(0,o.jsxs)(S.xu,{children:[ea&&(ea.mockTestStatus===D.L2B.PUBLISHED||ea.scheduleEndDate&&new Date>new Date((null==ea?void 0:ea.scheduleStartDate)||"")&&new Date<new Date(ea.scheduleEndDate))&&(0,o.jsxs)(S.kC,{sx:{alignItems:"center","& div":{display:["none","initial"]}},children:[(0,o.jsx)(d.xv,{style:{alignSelf:"center"},category:"h5",status:"primary",children:"\xa0\xa0"}),(0,o.jsx)(d.xv,{category:"c1",sx:{color:"color-basic-100"},textTransform:"uppercase",children:ev("live")})]}),(0,o.jsx)(S.xu,{children:(0,o.jsx)(d.xv,{category:["s1","h4"],sx:{color:"color-basic-100"},noOfLines:1,children:ed})}),ea&&(0,o.jsxs)(S.kC,{sx:{alignItems:"center"},children:[ea.totalMarks?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(d.xv,{category:"c2",sx:{color:"color-basic-100"},textTransform:"uppercase",children:[ea.totalMarks,ev(" marks",{count:ea.totalMarks})]}),(!!ea.totalQuestions||!!ea.mockTestDuration||!!ea.difficultyLevel)&&(0,o.jsx)(d.xv,{style:{alignSelf:"center"},category:"c2",sx:{color:"color-basic-100"},children:"\xa0\xa0"})]}):null,ea.totalQuestions?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(d.xv,{category:"c2",sx:{color:"color-basic-100"},textTransform:"uppercase",children:[ea.totalQuestions,ev(" questions",{count:ea.totalQuestions})]}),(!!ea.mockTestDuration||!!ea.difficultyLevel)&&(0,o.jsx)(d.xv,{style:{alignSelf:"center"},category:"c2",sx:{color:"color-basic-100"},children:"\xa0\xa0"})]}):null,ea.mockTestDuration?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(d.xv,{category:"c2",sx:{color:"color-basic-100"},textTransform:"uppercase",children:[ea.mockTestDuration>60?"".concat(B()().startOf("day").add(ea.mockTestDuration,"minutes").format("HH:mm")," H "):"".concat(ea.mockTestDuration," M "),ev("duration")]}),!!ea.difficultyLevel&&(0,o.jsx)(d.xv,{style:{alignSelf:"center"},category:"c2",sx:{color:"color-basic-100"},children:"\xa0\xa0"})]}):null,ea.difficultyLevel?(0,o.jsxs)(d.xv,{category:"c2",sx:{color:"color-basic-100"},textTransform:"uppercase",children:[ea.difficultyLevel===D.D1e.EASY?ev("product:testDifficultyLevel.easy"):null," ",ea.difficultyLevel===D.D1e.HARD?ev("product:testDifficultyLevel.hard"):null," ",ea.difficultyLevel===D.D1e.MEDIUM?ev("product:testDifficultyLevel.medium"):null," ",ev("product:difficulty")]}):null]}),(0,o.jsx)(S.xu,{mb:[2,0,0]})]}),eP=ea&&(ea.latestSubmittedStatus===D.t6K.SUBMITTED||ea.latestSubmittedStatus===D.t6K.SUBMITTED_AFTER_TIMEUP)&&ea.resultScheduleTime&&!eD,eE=eP&&(0,o.jsxs)(d.xv,{category:"p1",alignment:"center",sx:{color:"color-basic-100"},children:[ev("product:scheduledResult")," ",B()(ea.resultScheduleTime).format("lll")]}),ew=(null==ea?void 0:ea.mockTestStatus)===D.L2B.COMINGSOON,eA=ew&&(0,o.jsx)(S.kC,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(d.xv,{category:["c1","s1"],alignment:"center",sx:{color:"color-basic-100"},children:ev("product:testComingSoon")})}),ej=(null==ea?void 0:ea.mockTestStatus)===D.L2B.SCHEDULED,eF=B()(null==ea?void 0:ea.scheduleStartDate).isAfter(),eR=B()(null==ea?void 0:ea.scheduleEndDate).isBefore(),eB=ej&&(0,o.jsx)(S.kC,{sx:{flex:eF||eR?1:0,alignItems:"center",justifyContent:"center",display:eP?"none":"flex"},children:eF?(0,o.jsxs)(S.xu,{sx:{alignSelf:"center",width:["98%","50%"]},children:[(0,o.jsx)(d.xv,{category:"p2",style:{textAlign:"center",marginBottom:8},sx:{color:"color-basic-100"},children:ev(1>parseInt(z()(ea.scheduleStartDate).format("DD"))?"product:testWillBeReleasedIn":"product:testWillBeReleasedOn")}),(0,o.jsx)(d.IT,{onTimerOver:()=>{U&&U(et)},customColor:"color-basic-100",time:ea.scheduleStartDate||""})]}):(0,o.jsx)(o.Fragment,{children:eR&&(0,o.jsx)(S.xu,{sx:{textAlign:"center"},children:(0,o.jsx)(d.xv,{category:"p2",sx:{color:"color-basic-100"},children:ev("expired")})})})}),eN=(null==$?void 0:$.esignStatus)===D.ubN.ESIGN_REQUIRED&&(null==$?void 0:$.userEsignStatus)!==D.ubN.ESIGN_SUCCESS;return(0,o.jsxs)(o.Fragment,{children:[!ea&&(0,o.jsx)(S.kC,{sx:{justifyContent:"center",height:"100%",flexDirection:"column",backgroundColor:"color-basic-1000"},children:(0,o.jsx)(d.xv,{category:"p1",alignment:"center",sx:{color:"color-basic-100"},children:ev("product:testNotAvailable")})}),ea&&(0,o.jsxs)(S.kC,{py:[1,6],px:[1,4],sx:{overflow:["scroll","hidden"],height:"100%",flexDirection:"column",justifyContent:"space-between",backgroundColor:"color-basic-1000"},children:[(0,o.jsxs)(S.kC,{style:{justifyContent:"space-between"},children:[ef,t&&b&&x&&y&&(0,o.jsx)(Q.Z,{params:b,callbacks:x,slideType:y})]}),ea&&eD&&(0,o.jsxs)(S.kC,{mt:[2,0,0],pt:6,sx:{justifyContent:"center",alignItems:"center",flex:1,"&:empty":{display:"none"}},children:[ek,eL]}),ea&&(0,o.jsx)(o.Fragment,{children:eN?(0,o.jsx)(K.Z,{currentProductDetails:$,isCourseExpired:l.isCourseExpired,goToStore:P,lessonTitle:ed||"",userCourseId:(null==$?void 0:$.userCourseId)||null,userEsignStatus:null==$?void 0:$.userEsignStatus,doFetchEsignStatus:W,esignRedirectionUrl:null==I?void 0:I.esignRedirectionUrl,esignSuccessData:null==I?void 0:I.esignSuccessData,paymentState:null==I?void 0:I.paymentState,fetchStatus:D.iFP.SUCCESS}):(0,o.jsx)(S.kC,{sx:{flex:ew||ej&&(eF||eR)?0:1,alignItems:"center",justifyContent:"center",display:(ex||ey)&&(null==ea?void 0:ea.firstSubmittedStatus)!==D.t6K.IN_PROGRESS?["flex","none"]:"flex",my:ex||ey?4:0,"&:empty":{display:"none"}},children:eI})}),eE,eB,eA]})]})},Z=s(49139),X=s(23295),$=s(6935),Y=s(21874),SectionQuizPlayer_SectionQuizPlayer=e=>{let{slideDetails:t,playerData:s,setPLayerSemiFullScreenState:r,isSlideQuiz:n,enrollmentButtonData:i,helper:l,callbacks:a,playerLessonData:c}=e,{courseData:d,openTestInNewWindow:u,openTestInSameWindow:h}=s,{currentLessonPlayerQuizState:p}=d;return p===D.eoh.TAKING_QUIZ||p===D.eoh.VIEW_SOLUTION?(r(!0),(0,o.jsx)(S.xu,{sx:{width:"100%",height:"100%"},pb:n?11:2,children:(0,o.jsx)(Y.Z,{isFromLessonPlayer:!0})})):(0,o.jsx)(S.xu,{sx:{width:"100%",height:"100%"},pb:n?11:2,children:(0,o.jsx)(TestSeriesPlayer_TestSeriesPlayer,{slideDetails:t,inLessonPlayer:!0,isSlideQuiz:n,callbacks:e.callbacks,slideType:e.slideType,sharedIsUserLoggedIn:!1,enrollmentButtonData:i,isSubscription:!1,courseData:d,openQuizPlayer:null==l?void 0:l.openQuizPlayer,checkMoreOptions:null==l?void 0:l.checkMoreOptions,playerCallbacks:a,setPlayerSemiFullScreenState:r,openTestInNewWindow:u,openTestInSameWindow:h,playerLessonData:c})})},PlayOnlyMobile_PlayOnlyMobile=()=>{let{t:e}=(0,u.$)("product");return(0,o.jsx)(S.kC,{sx:{height:"100%",width:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"color-basic-1000"},p:[1,3],children:(0,o.jsx)(d.xv,{category:["c1","s1"],alignment:"center",sx:{color:"color-basic-100"},children:e("accessOnlyMobile")})})},J=s(37628),ee=s(38906),et=s(47746),es=s(87344),eo=s(93050),er=s(66110);function playerAdapter(e){let Player=class Player extends r.Component{componentDidUpdate(e){let{currentCourseId:t,lastAccessedLessons:s,currentCourseSectionId:o,currentLessonId:r,currentBundleId:n,navigationCurrentScreen:l,isSemiFullScreen:a}=this.props;if(o&&r&&t&&l===eo.i_.COURSE_DETAILS){let e=0,l=0;this.props.currentCourseCompletionStats&&this.props.completedLessonData&&([e]=this.props.currentCourseCompletionStats,this.props.completedLessonData[e]&&(l=this.props.completedLessonData[e].sectionId));let a={bundleId:n,courseId:t,courseType:i.courseType.COURSE,sectionId:l||o,lessonId:e||r},c={productSeo:this.props.currentBundleSeoTitle||this.props.currentCourseSeoTitle,subProductSeo:this.props.currentBundleSeoTitle?this.props.currentCourseSeoTitle:null,sectionId:l||o,lessonId:e||r};s[t]||this.props.doSetCurrentAccessingLesson({sectionId:l||o,lessonId:e||r,courseId:t},r),this.navigateToPlayer(a,c)}e.currentLessonId!==r&&a&&this.props.setPLayerSemiFullScreenState(!1)}diagnose(e){}onCourseTimeAnalytics(e){this.props.doReportCourseAnalytics(e)}onGoToNextLesson(e){let{currentCourseSections:t,currentCourseSectionId:s}=this.props;if(!t){console.log("onGoToNextLesson : invalid currentCourseSections");return}let{sectionIds:o}=t,r=o.indexOf(s),n=t.sectionDetails[s].lessonIds,l=n.indexOf(e);l===n.length-1&&r!==o.length-1?(r+=1,l=0):l+=1;let a=o[r],c=t.sectionDetails[a].lessonIds[l],{currentCourseId:d,currentBundleId:u}=this.props,h={courseId:d,sectionId:a,lessonId:c,autoScrollLessonTs:new Date().getTime()};c&&a&&this.props.doSetCurrentAccessingLesson(h,c);let p={bundleId:u,courseId:d,courseType:i.courseType.COURSE,sectionId:a,lessonId:c},v={productSeo:this.props.currentBundleSeoTitle||this.props.currentCourseSeoTitle,subProductSeo:this.props.currentBundleSeoTitle?this.props.currentCourseSeoTitle:null,sectionId:a,lessonId:c};this.navigateToPlayer(p,v)}getCurrentPosition(){return this.props.forwardedRef.current&&this.props.forwardedRef.current.getCurrentPosition?this.props.forwardedRef.current.getCurrentPosition():{currentQuestionIndex:0,currentVideoTime:0,key:void 0}}navigateToPlayer(e,t){let s={pathname:er.y4.lessonPlayer,query:e},o=er.XC.lessonPlayer(t);g().replace(s,o,{shallow:!0})}markLessonComplete(e,t,s){e?this.props.doMarkLessonAsComplete(t,s):this.props.doMarkLessonAsIncomplete(t,s)}onGoToPrevLesson(e){let{currentCourseSections:t,currentCourseSectionId:s}=this.props;if(!t){console.log("onGoToPrevLesson : invalid currentCourseSections");return}let{sectionIds:o}=t,r=o.indexOf(s),n=t.sectionDetails[s].lessonIds,l=n.indexOf(e);0===l&&0!==r?(r-=1,l=t.sectionDetails[o[r]].lessonIds.length-1):l-=1;let a=o[r],c=t.sectionDetails[a].lessonIds[l],{currentCourseId:d,currentBundleId:u}=this.props,h={courseId:d,sectionId:a,lessonId:c,autoScrollLessonTs:new Date().getTime()};a&&c&&this.props.doSetCurrentAccessingLesson(h,c);let p={bundleId:u,courseId:d,courseType:i.courseType.COURSE,sectionId:a,lessonId:c},v={productSeo:this.props.currentBundleSeoTitle||this.props.currentCourseSeoTitle,subProductSeo:this.props.currentBundleSeoTitle?this.props.currentCourseSeoTitle:null,sectionId:a,lessonId:c};this.navigateToPlayer(p,v)}playerBookMarkCallBack(e,t,s,o){s?this.addBookmark(o):!0===e?this.deleteBookmark(t):this.addBookmark()}addBookmark(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.props.userEnrollmentState!==i.ri.PURCHASED)return!1;let{currentSlide:t,currentVideoTime:s,key:o}=this.getCurrentPosition();console.log("this.getCurrentPosition():",this.getCurrentPosition()),e.forEach(e=>{if(e.timeStamp===s)return!1});let r={lesson_id:this.props.currentLessonId,section_id:this.props.currentCourseSectionId,course_id:this.props.currentCourseId,note_type:es.dE.BOOKMARK,content_type:this.props.currentLessonDetails.lessonType,product_type:es.$R.LESSON,link:"".concat(t,":").concat(s,":").concat(o),tag:this.props.currentLessonDetails.lessonTitle,notes:null,quiz_id:0,question_id:0,quiz_section_id:0,slide_number:t};return this.props.doAddNoteBook(r),!0}deleteBookmark(e){return!!e&&(this.props.doDeleteNotes(e),!0)}sendStartedPlaying(){}render(){var t,s,r,n,l,a,c;if(!this.props.currentLessonDetails||!this.props.lastAccessedLessons[this.props.currentCourseId])return null;let d=this.props.currentLessonDetails.resourceLessonId||this.props.currentLessonId,u=(0,et.bm)(this.props.currentLessonDetails,this.props.currentCourseId,d,this.props.currentCourseContentSignedUrl,this.props.currentProductDetails.liveContentSignedUrl,null,this.props.userEnrollmentState!==i.ri.PURCHASED),h={...this.props.playerDataOfCurrentLesson,isMarkedAsCompleted:this.props.currentCourseCompletionStats&&this.props.currentCourseCompletionStats.includes(this.props.currentLessonId),lessonPosition:this.props.currentLessonPosition,lr_token:this.props.sharedAuthToken,studentId:this.props.sharedUserId,userName:this.props.sharedUserName,isWatermarkEnabled:this.props.sharedIsWatermarkEnabled,isUserDataWaterMarkDisabled:this.props.sharedIsUserDataWaterMarkDisabled,wmarkMessage:this.props.sharedWaterMarkMsg,mobile:this.props.sharedUserMobileNum,email:this.props.sharedUserEmail,initialSlideIdx:this.props.initialSlideIndexForPayer||0,initialSlideSeekPos:this.props.initialSlideSeekPosForPayer||0,liveLessonData:this.props.currentLessonDetails?this.props.currentLessonDetails.liveLessonDetails:null,isNotesEnabled:null===(s=this.props)||void 0===s?void 0:null===(t=s.currentProductDetails)||void 0===t?void 0:t.isNotesEnabled,courseType:null===(n=this.props)||void 0===n?void 0:null===(r=n.currentProductDetails)||void 0===r?void 0:r.courseType,enrollmentState:null===(a=this.props)||void 0===a?void 0:null===(l=a.currentProductDetails)||void 0===l?void 0:l.enrollmentState},p=(0,et.K$)(this.props.currentLessonSlides,this.props.currentLessonBookMarks,!1),v={diagnose:this.diagnose.bind(this),markAsComplete:this.markLessonComplete.bind(this),sendStartedPlaying:this.sendStartedPlaying.bind(this),onGoToNextLesson:this.onGoToNextLesson.bind(this),onGoToPrevLesson:this.onGoToPrevLesson.bind(this),onCourseTimeAnalytics:(null===(c=this.props.currentCoursePlayTimeRestrictionDetails)||void 0===c?void 0:c.remainingAllocatedTime)?this.onCourseTimeAnalytics.bind(this):null,playerBookMarkCallBack:this.playerBookMarkCallBack,setPLayerSemiFullScreenState:this.props.setPLayerSemiFullScreenState,toogleLivePlayerMode:this.props.toogleLivePlayerMode,toogleLiveChatDisplay:this.props.toogleLiveChatDisplay,setLiveLessonAttendance:this.props.doSetLiveLessonAttendance};return 0===u.length&&u.push({slideState:0,fileType:1,uri:"aaa.com",bookmarkFileName:""}),(0,o.jsx)(e,{isEmbedPlayer:this.props.isEmbedPlayer,currentProductDetails:this.props.currentProductDetails,playerRef:this.props.forwardedRef,hasAccessToPlay:this.props.hasAccessToPlay,lessonData:h,slideData:u,lessonBookmarksData:p,currentBookMarkIdTs:this.props.currentBookMarkIdTs,courseId:this.props.currentBundleId||this.props.currentCourseId,currentLessonDetails:this.props.currentLessonDetails,callbacks:v,dimensions:{},currentCoursePricing:this.props.currentCoursePricing,currentCourseId:this.props.currentCourseId,setPLayerSemiFullScreenState:this.props.setPLayerSemiFullScreenState,isPlayerOutOfFocus:this.props.isPlayerOutOfFocus,quizDataAndCTA:{doStartTestPLayer:this.props.doStartTestPLayer,doRequestSubmitFromPLayer:this.props.doRequestSubmitFromPLayer,doChangeQuizStateInLessonPLayer:this.props.doChangeQuizStateInLessonPLayer,currentLessonPlayerQuizState:this.props.currentLessonPlayerQuizState,doSetQuizIdInResultBundle:this.props.doSetQuizIdInResultBundle,doClearCourseData:this.props.doClearCourseData},userEnrollmentState:this.props.userEnrollmentState,liveServerData:this.props.liveServerData,switchToBookmarkTab:this.props.switchToBookmarkTab,showLiveChat:this.props.showLiveChat,currentCoursePlayTimeRestrictionDetails:this.props.currentCoursePlayTimeRestrictionDetails,shouldCurrentLessonShowPlayTime:this.props.shouldCurrentLessonShowPlayTime})}constructor(e){super(e),this.getCurrentPosition=this.getCurrentPosition.bind(this),this.playerBookMarkCallBack=this.playerBookMarkCallBack.bind(this),this.addBookmark=this.addBookmark.bind(this),this.deleteBookmark=this.deleteBookmark.bind(this)}};return(0,ee.$)("doMarkLessonAsComplete","doMarkLessonAsIncomplete","doAddNoteBook","doDeleteNotes","doSetCurrentAccessingLesson","selectCurrentCourseSections","selectCurrentLessonDetails","selectUserEnrollmentState","selectHasAccessToPlay","selectHasNoLessons","selectCurrentLessonPosition","selectCurrentCourseSectionId","selectCurrentLessonId","selectCurrentCourseId","selectCurrentBundleId","selectCurrentCourseContentSignedUrl","selectPlayerDataOfCurrentLesson","selectCurrentCourseCompletionStats","selectCurrentLessonPosition","selectSharedWaterMarkMsg","selectSharedIsWatermarkEnabled","selectSharedIsUserDataWaterMarkDisabled","selectSharedAuthToken","selectSharedUserName","selectSharedUserEmail","selectSharedUserMobileNum","selectSharedUserId","selectCurrentLessonSlides","selectInitialSlideIndexForPayer","selectInitialSlideSeekPosForPayer","selectLastAccessedLessons","selectCurrentBundleSeoTitle","selectCurrentCourseSeoTitle","selectNavigationCurrentScreen","selectCurrentCoursePricing","doClearCourseData","doStartTestPLayer","doRequestSubmitFromPLayer","doChangeQuizStateInLessonPLayer","selectCurrentLessonPlayerQuizState","doSetQuizIdInResultBundle","selectCurrentLessonBookMarks","selectLastBookmarkModifiedTime","selectCurrentBookMarkIdTs","selectCurrentProductDetails","selectCurrentCourseCompletionStats","selectCompletedLessonData","doSetLiveLessonAttendance","doReportCourseAnalytics","selectCurrentCoursePlayTimeRestrictionDetails","selectShouldCurrentLessonShowPlayTime",Player)}var SequentialLock_SequentialLock=e=>{let{title:t,goToPrevLesson:s,currentLessonDetails:r}=e,{t:n}=(0,u.$)("product");return(0,o.jsxs)(S.kC,{p:3,sx:{borderRadius:"certificate",height:"100%",alignItems:"center",justifyContent:"space-between",flexDirection:"column",backgroundColor:"color-basic-1000"},children:[(0,o.jsx)(S.xu,{sx:{textAlign:"left",width:"100%","& div":{my:[1,2]}},children:(0,o.jsx)(d.xv,{category:["p1","h5"],sx:{color:"color-basic-100"},style:{textAlign:"left"},children:t})}),(0,o.jsxs)(S.xu,{sx:{width:["98%","70%"],height:"auto"},children:[(0,o.jsx)(S.kC,{sx:{justifyContent:"center"},children:(0,o.jsx)(d.Ee,{src:j.K.lessonLocked,width:180,height:180})}),(0,o.jsxs)(S.kC,{sx:{gap:2,alignItems:"center",justifyContent:"center",flexWrap:"wrap",flexDirection:"column"},children:[(0,o.jsx)(d.xv,{category:["s1","h4"],sx:{color:"color-basic-100"},style:{textAlign:"center"},children:n("lessonLocked")}),(0,o.jsx)(d.xv,{category:["s1","p1"],sx:{color:"color-basic-100",mb:2},style:{textAlign:"center"},children:n("checkPreviousLessonMessage")}),(0,o.jsx)(d.zx,{onClick:()=>s(r.id),children:n("goToPrevLesson").toUpperCase()})]})]}),(0,o.jsx)(S.xu,{})]})},TakeCodeChallengeButton_TakeCodeChallengeButton=e=>{var t;let{currentCodeChallenges:s,codeChallenge:r,userEnrollmentState:n,buttonSize:i="medium",handleTakeChallenge:l,codeChallengeId:a,isTrialLesson:c,isCourseFree:h,isCourseExpired:p}=e,{t:v}=(0,u.$)(["common","product"]),C=!0;(null==r?void 0:r.maxRetakesAllowed)&&(C=(null==r?void 0:r.currentAttempt)<(null==r?void 0:r.maxRetakesAllowed)),(null==r?void 0:r.currentAttempt)===(null==r?void 0:r.maxRetakesAllowed)&&(null==r?void 0:r.latestAttemptStatus)!==D.slN.SUBMITTED&&(C=!0);let g=v("product:takeChallenge");((null==r?void 0:r.latestAttemptStatus)===D.slN.STARTED||(null==r?void 0:r.firstAttemptStatus)===D.slN.STARTED)&&(g=v("product:continue")),(null==r?void 0:r.latestAttemptStatus)===D.slN.SUBMITTED&&C&&(g=v("product:retakeChallenge"));let x=!1;return n!==D.T_M.ENROLLED||c||h||(x=!0),(0,o.jsx)(S.kC,{sx:{placeContent:"center"},children:n===D.T_M.ENROLLED||n===D.T_M.PURCHASED||n===D.T_M.FREE_PURCHASE?(0,o.jsx)(o.Fragment,{children:(null==s?void 0:null===(t=s.codeChallengeIds)||void 0===t?void 0:t.includes(Number(a)))?(0,o.jsx)(S.xu,{sx:{overflow:"hidden",minWidth:"min-content"},children:(0,o.jsx)(o.Fragment,{children:(null==r?void 0:r.status)===D.hVP.PUBLISHED&&C&&(0,o.jsx)(d.zx,{onClick:l,children:g.toUpperCase(),disabled:p||x,variant:"primary",size:i})})}):(0,o.jsx)(d.xv,{category:"c1",textTransform:"capitalize",children:v("unavailable")})}):(0,o.jsx)(d.zx,{onClick:()=>null,children:v("product:takeChallenge").toUpperCase(),size:i,disabled:!0})})},CodeLesson_CodeLesson=e=>{let{playerData:t,callbacks:s,playerLessonData:r}=e,{courseData:n}=t,{t:i}=(0,u.$)(["common","product"]),{isCourseFree:l,currentLessonId:a,currentCourseDetails:c,isCourseExpired:h,userEnrollmentState:p}=n,{lessons:v,codeChallenges:C}=c,g=v?null==v?void 0:v.lessonDetails[a]:{},x=C?C.codeChallengeDetails[null==g?void 0:g.codeId]:{},y=null==g?void 0:g.lessonTitle,m=null==g?void 0:g.isTrialLesson,T=g.codeId,b=(null==x?void 0:x.status)===D.hVP.UNPUBLISHED,I=(0,M.V)(["c1","h4"]),k=(0,M.V)(["tiny","small"]),L=(null==x?void 0:x.latestAttemptStatus)===D.slN.STARTED||(null==x?void 0:x.latestAttemptStatus)===D.slN.SUBMITTED,f=(null==x?void 0:x.firstAttemptStatus)===D.slN.STARTED||(null==x?void 0:x.firstAttemptStatus)===D.slN.SUBMITTED,P=(null==x?void 0:x.maxRetakesAllowed)?i("product:latestAttemptMaxDesc",{retake:null==x?void 0:x.currentAttempt,maxretake:null==x?void 0:x.maxRetakesAllowed}):i("product:latestAttemptDesc",{retake:null==x?void 0:x.currentAttempt}),handleViewResult=()=>{x&&s.navigateToCodeEditor(T,null==x?void 0:x.contentId,null==x?void 0:x.contentType,D.oN2.VIEW_RESULT)};if(b)return(0,o.jsx)(S.kC,{py:[1,6],px:[1,4],sx:{overflow:["scroll","hidden"],justifyContent:"space-between",height:"100%",flexDirection:"column",backgroundColor:"color-basic-1000"},children:(0,o.jsx)(S.kC,{sx:{justifyContent:"center",height:"100%",alignItems:"center"},children:(0,o.jsx)(d.xv,{category:"p1",alignment:"center",sx:{color:"color-basic-100"},children:i("product:codeChallengeComingSoon")})})});let E=(0,o.jsx)(TakeCodeChallengeButton_TakeCodeChallengeButton,{currentCodeChallenges:C,codeChallenge:x,userEnrollmentState:p,handleTakeChallenge:()=>{x&&s.navigateToCodeEditor(T,null==x?void 0:x.contentId,null==x?void 0:x.contentType,"")},codeChallengeId:T,isTrialLesson:m,isCourseFree:l,isCourseExpired:h,buttonSize:k}),w=L&&(null==x?void 0:x.currentAttempt)>1&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(S.xu,{py:[1,3],px:[1,4],sx:{flexGrow:1,maxWidth:"50%"},children:(0,o.jsxs)(S.xu,{p:[1,4],sx:{backgroundColor:"color-basic-900",borderRadius:10},children:[(0,o.jsx)(S.kC,{style:{justifyContent:"center"},mb:[0,3],children:(0,o.jsxs)(S.xu,{mb:4,px:[3,9],children:[(0,o.jsxs)(S.kC,{children:[(0,o.jsx)(d.xv,{category:"s1",noOfLines:1,sx:{color:"color-basic-100"},children:P}),(0,o.jsx)(S.xu,{sx:{display:["initial","none"]},onClick:()=>{},children:(0,o.jsx)(d.tv,{icon:j.q.arrowRight,color:"control"})})]}),(0,o.jsx)(S.kC,{sx:{justifyContent:"center"},children:(0,o.jsx)(d.xv,{sx:{color:"color-basic-100"},category:I,style:{marginTop:8},alignment:"center",children:(null==x?void 0:x.latestAttemptStatus)===D.slN.STARTED?i("product:inProgress"):"".concat(null==x?void 0:x.latestAttemptScore," ").concat(i("product:of",{count:null==x?void 0:x.totalMarks}))})})]})}),(0,o.jsx)(S.xu,{sx:{display:["none","initial"]},children:(0,o.jsxs)(S.kC,{sx:{justifyContent:"center"},children:[(null==x?void 0:x.latestAttemptStatus)!==D.slN.STARTED&&(0,o.jsx)(d.zx,{onClick:handleViewResult,variant:"primary",type:"outline",size:k,children:i("product:viewResult").toUpperCase(),sx:{marginRight:2}}),x&&(0,o.jsxs)(S.xu,{sx:{marginLeft:2},children:[E,(0,o.jsx)(S.xu,{})]})]})})]})})}),A=x&&!L&&(null==x?void 0:x.firstAttemptStatus)!==D.slN.SUBMITTED,F=(null==x?void 0:x.maxRetakesAllowed)===null||(null==x?void 0:x.maxRetakesAllowed)>1,R=!L&&(null==x?void 0:x.latestAttemptStatus)!==D.slN.STARTED,B=f&&(0,o.jsx)(S.xu,{py:[1,3],px:[1,4],sx:{flexGrow:1,maxWidth:"50%"},children:(0,o.jsxs)(S.xu,{p:[1,4],sx:{backgroundColor:"color-basic-900",borderRadius:10},children:[(0,o.jsxs)(S.kC,{style:{justifyContent:"center"},mb:[0,3],children:[(0,o.jsxs)(S.xu,{mb:4,px:[3,9],children:[(0,o.jsx)(d.xv,{category:"s1",noOfLines:1,sx:{color:"color-basic-100"},alignment:"center",style:{marginBottom:8},children:i("product:firstAttempt")}),(0,o.jsx)(d.xv,{sx:{color:"color-basic-100"},category:I,alignment:"center",children:(null==x?void 0:x.firstAttemptStatus)===D.slN.STARTED?i("product:inProgress"):"".concat(null==x?void 0:x.firstAttemptScore," ").concat(i("product:of",{count:null==x?void 0:x.totalMarks}))})]}),(0,o.jsx)(S.xu,{sx:{display:["initial","none"]},onClick:()=>{},children:(0,o.jsx)(d.tv,{icon:j.q.arrowRight,color:"control"})})]}),(0,o.jsx)(S.xu,{sx:{display:["none","initial"]},children:(0,o.jsxs)(S.kC,{style:{justifyContent:"center"},children:[(null==x?void 0:x.firstAttemptStatus)!==D.slN.STARTED&&(0,o.jsx)(d.zx,{onClick:handleViewResult,variant:"primary",type:"outline",size:k,children:i("product:viewResult").toUpperCase()}),(A||F&&R)&&(0,o.jsxs)(S.xu,{sx:{marginLeft:2},children:[E,(0,o.jsx)(S.xu,{})]})]})})]})}),N=(0,o.jsxs)(S.xu,{children:[(0,o.jsx)(S.xu,{children:(0,o.jsx)(d.xv,{category:["s1","h4"],sx:{color:"color-basic-100"},noOfLines:1,children:y})}),x&&(0,o.jsxs)(S.kC,{sx:{alignItems:"center"},children:[(null==x?void 0:x.totalMarks)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(d.xv,{category:"c2",sx:{color:"color-basic-100",textTransform:"uppercase"},children:[x.totalMarks,i(" marks",{count:x.totalMarks})]}),(!!(null==x?void 0:x.totalQuestions)||!!(null==x?void 0:x.codeDuration)||!!(null==x?void 0:x.language)||!!(null==x?void 0:x.difficultyLevel))&&(0,o.jsx)(d.xv,{style:{alignSelf:"center"},category:"c2",sx:{color:"color-basic-100"},children:"\xa0\xa0"})]}):null,(null==x?void 0:x.codeDuration)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(d.xv,{category:"c2",sx:{color:"color-basic-100",textTransform:"uppercase"},children:[x.codeDuration>60?"".concat(Math.round(x.codeDuration/60)," M "):"".concat(x.codeDuration," S "),i("duration")]}),!!(null==x?void 0:x.language)&&(0,o.jsx)(d.xv,{style:{alignSelf:"center"},category:"c2",sx:{color:"color-basic-100"},children:"\xa0\xa0"})]}):null,(null==x?void 0:x.language)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.xv,{category:"c2",sx:{color:"color-basic-100",textTransform:"uppercase"},children:x.language}),!!(null==x?void 0:x.difficultyLevel)&&(0,o.jsx)(d.xv,{style:{alignSelf:"center"},category:"c2",sx:{color:"color-basic-100"},children:"\xa0\xa0"})]}):null,(null==x?void 0:x.difficultyLevel)?(0,o.jsxs)(d.xv,{category:"c2",sx:{color:"color-basic-100"},children:[x.difficultyLevel===D.D1e.EASY?i("product:testDifficultyLevel.easy"):null," ",x.difficultyLevel===D.D1e.HARD?i("product:testDifficultyLevel.hard"):null," ",x.difficultyLevel===D.D1e.MEDIUM?i("product:testDifficultyLevel.medium"):null," ",i("product:difficulty")]}):null]})]});return(0,o.jsxs)(o.Fragment,{children:[!x&&(0,o.jsx)(S.kC,{sx:{justifyContent:"center",height:"100%",flexDirection:"column",backgroundColor:"color-basic-1000"},children:(0,o.jsx)(d.xv,{category:"p1",alignment:"center",sx:{color:"color-basic-100"},children:i("product:codeChallengeNotAvailable")})}),x&&(0,o.jsxs)(S.kC,{py:[1,6],px:[1,4],sx:{overflow:["scroll","hidden"],height:"100%",flexDirection:"column",justifyContent:"space-between",backgroundColor:"color-basic-1000"},children:[(0,o.jsxs)(S.kC,{style:{justifyContent:"space-between"},children:[N,r&&s&&(0,o.jsx)(Q.Z,{params:r,callbacks:s})]}),x&&f&&(0,o.jsxs)(S.kC,{mt:[2,0,0],pt:6,sx:{justifyContent:"center",alignItems:"center",flex:1,"&:empty":{display:"none"}},children:[w,B]}),x&&!f&&(0,o.jsx)(S.kC,{sx:{flex:1,alignItems:"center",justifyContent:"center",display:"flex",my:0,"&:empty":{display:"none"}},children:E})]})]})},en=s(37925),DesktopAppOverlay_DesktopAppOverlay=e=>{let{lessonTitle:t,isLessonDownloadable:n,isLessonNotAvailableOffline:i,isLessonLicenseExpired:l,isOnline:a,isLessonDownloaded:c,lr_token:h,loadPlayerResources:p,loadPdfworkerForPlayer:v,isCourseEncrypted:C,isMandatoryDownloadAndPlayEnabled:g,isOptionalDownloadOrPlayEnabled:x,isMacApp:y}=e,{t:m}=(0,u.$)(["common","product"]),[D,T]=(0,r.useState)(null),[b,I]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let loadPdfWorker=async()=>{I(!0);try{await v()}catch(e){T({name:m("failedToloadPdf"),message:m("pleaseCheckInternetConnection")}),s.g.LstLogger.error("lplayer: DesktopAppOverlay","loadPdfWorker()","PDF Failed to load")}finally{I(!1)}};loadPdfWorker()},[]),(0,r.useEffect)(()=>{let loadPlayer=async()=>{if(!window.LstPlayer){I(!0);try{await p(h)}catch(e){T({name:m("failedToLoadPlayer"),message:m("pleaseCheckInternetConnection")}),s.g.LstLogger.error("lplayer: DesktopAppOverlay","loadPlayer()","Player load error")}finally{I(!1)}}};loadPlayer()},[h]),b)?(0,o.jsxs)(S.kC,{p:3,sx:{borderRadius:"certificate",height:"100%",alignItems:"center",justifyContent:"space-between",flexDirection:"column",backgroundColor:"color-basic-1000"},children:[(0,o.jsx)(S.xu,{sx:{textAlign:"left",width:"100%","& div":{my:[1,2]}},children:(0,o.jsx)(d.xv,{category:["p1","h5"],sx:{color:"color-basic-100"},style:{textAlign:"left"},children:t})}),(0,o.jsx)(d.aN,{sxProps:{backgroundColor:"color-basic-1000"},spinnerColor:"color-basic-100"})]}):D&&a?(0,o.jsxs)(S.kC,{p:3,sx:{borderRadius:"certificate",height:"100%",alignItems:"center",justifyContent:"space-between",flexDirection:"column",backgroundColor:"color-basic-1000"},children:[(0,o.jsx)(S.xu,{sx:{textAlign:"left",width:"100%","& div":{my:[1,2]}},children:(0,o.jsx)(d.xv,{category:["p1","h5"],sx:{color:"color-basic-100"},style:{textAlign:"left"},children:t})}),(0,o.jsx)(en.Cs,{illustration:j.K.errorBadRequest,title:D.name,description:D.message})]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(S.kC,{p:3,sx:{borderRadius:"certificate",height:"100%",alignItems:"center",justifyContent:"space-between",flexDirection:"column",backgroundColor:"color-basic-1000"},children:[(0,o.jsx)(S.xu,{sx:{textAlign:"left",width:"100%","& div":{my:[1,2]}},children:(0,o.jsx)(d.xv,{category:["p1","h5"],sx:{color:"color-basic-100"},style:{textAlign:"left"},children:t})}),c&&!a&&y?(0,o.jsx)(en.Cs,{title:m("pleaseConnectToInternet"),description:m("connectToInternetToAccessDownloadedCourse")}):(!i||a)&&(c||!n||a)&&(C||a)&&(!y||a)?C?n&&g&&!x?(0,o.jsx)(en.Cs,{illustration:j.K.download,title:m("downloadTheLesson"),description:m("downloadTheLessonFromSyllabusToWatchOffline")}):l&&(g||x)?(0,o.jsx)(en.Cs,{illustration:j.K.batchExpiry,title:m("licenseExpired"),description:m("pleaseRenewTheLicenseByConnectingToTheInternet")}):null:(0,o.jsx)(en.Cs,{illustration:j.K.playAlert,title:m("notSecureContent"),description:m("pleaseUseBrowserToAccessCourse")}):(0,o.jsx)(en.Cs,{title:m("noInternetConnection"),description:m("pleaseConnectToTheInternetAndAccessTheLesson")}),(0,o.jsx)(S.xu,{})]})})};let ei=playerAdapter(e=>(0,o.jsx)(X.Z,{children:t=>{let{width:s,height:r}=t;return(0,o.jsx)(J.Z,{isAnswerExplaination:e.isEmbedPlayer,ref:e.playerRef,lessonData:e.lessonData,slideData:e.slideData,lessonBookmarkData:null==e?void 0:e.lessonBookmarksData,currentBookMarkIdTs:e.currentBookMarkIdTs,callbacks:e.callbacks,dimensions:{width:s,height:r},isPlayerOutOfFocus:e.isPlayerOutOfFocus,userEnrollmentState:e.userEnrollmentState,liveServerData:e.liveServerData,switchToBookmarkTab:e.switchToBookmarkTab,showLiveChat:e.showLiveChat,currentCoursePlayTimeRestrictionDetails:e.currentCoursePlayTimeRestrictionDetails,shouldCurrentLessonShowPlayTime:e.shouldCurrentLessonShowPlayTime})}})),LstSilderWithOldAdapter=e=>(0,o.jsx)(ei,{...e});var LessonPlayer_LessonPlayer=e=>{var t,s,n,l,a,c,h,p,v,C,g,x,y;let{t:m}=(0,u.$)("common"),{currentProductDetails:T,playerData:b,enrollmentButtonData:I,isTaxEnabled:k,isSubscription:L,sharedIsUserLoggedIn:f,playerCallbacks:P,playerHelpers:E,isPodcastPlayer:w,isOnline:A,isDesktopApp:j,isMacApp:F}=e,{courseData:R,playTimeRestrictionDetails:B,notesAndBookmarkDetails:N,sharedInfo:U,playerUiState:O,isMandatoryDownloadAndPlayEnabled:_,isOptionalDownloadOrPlayEnabled:M,esignRedirectionUrl:H,esignSuccessData:z,paymentState:W}=b,{currentLessonDetails:G,hasAccessToPlay:q,currentLessonId:V,isCourseFree:Q,currentBundleId:Z,currentCoursePricing:Y,currentCourseDetails:ee,currentCourseId:et,currency:es,currentCourseSectionId:eo,slidesResumeData:er,currentBundleDetails:en,currentAccesingLessons:ei}=R,{onHandleTestSeriesBuy:el,onHandleTestSeriesEnroll:ea,onHandleSetVariablePrice:ec,doFetchEsignStatus:ed,goToStore:eu,goToSubscription:eh,onLessonPlayerMount:ep,calculateinstalmentReminder:ev,onHandleSubscriptionEnroll:eS,onVisitorSignIn:eC,loadPlayerResources:eg,loadPdfworkerForPlayer:ex}=P;(0,r.useEffect)(()=>{if(I.autoEnrollmentFetchStatus===$.iFP.FAILED){var e;(0,d.FN)({message:(null==I?void 0:null===(e=I.autoEnrollmentError)||void 0===e?void 0:e.errorMessage)||m("enrollmentFailed")})}},[I.autoEnrollmentError,I.autoEnrollmentFetchStatus]);let ey=null==G?void 0:G.lessonTitle,em=null==ee?void 0:ee.isCourseEncrypted,eD=P.constructBookMarkDataForPlayer(R.currentLessonSlides,N.currentLessonBookMarks,!1);eD.isNotesEnabled=!!R.currentCourseDetails&&R.currentCourseDetails.isNotesEnabled;let eT=(null==G?void 0:G.resourceLessonId)||(null==R?void 0:R.currentLessonId)||0,eb=(null===(t=Object.keys(null==O?void 0:O.constructedDownloadedData))||void 0===t?void 0:t.length)?null==O?void 0:O.constructedDownloadedData:R.downloadData,eI=P.constructSlideDataForLessonPlay(R.currentLessonDetails,R.currentCourseId,eT,R.currentCourseContentSignedUrl,R.currentCourseDetails.liveContentSignedUrl,eb,R.userEnrollmentState!==$.T_M.PURCHASED).map((e,t)=>{var s;return{...e,link:null==er?void 0:null===(s=er[t])||void 0===s?void 0:s.link}}),ek={...R.playerDataOfCurrentLesson,isMarkedAsCompleted:R.currentCourseCompletionStats&&R.currentCourseCompletionStats.includes(R.currentLessonId),lessonType:null==R?void 0:null===(s=R.currentLessonDetails)||void 0===s?void 0:s.lessonType,lessonPosition:R.currentLessonPosition,lr_token:U.sharedAuthToken,studentId:U.sharedUserId,userName:U.sharedUserName,isWatermarkEnabled:U.sharedIsWatermarkEnabled,wmarkMessage:U.sharedWaterMarkMsg,mobile:U.sharedUserMobileNum,email:U.sharedUserEmail,initialSlideIdx:R.initialSlideIndexForPayer||0,initialSlideSeekPos:R.initialSlideSeekPosForPayer||0,liveLessonData:R.currentLessonDetails?R.currentLessonDetails.liveLessonDetails:null,isNotesEnabled:!e.isEmbedPlayer&&R.currentCourseDetails.isNotesEnabled,isUserDataWaterMarkEnabled:U.sharedWaterMarkStatus&&U.sharedIsWatermarkEnabled&&(U.sharedWaterMarkStatus===D.FGi.ONLY_USER_DATA||U.sharedWaterMarkStatus===D.FGi.ALL),lessonThumbnailSrc:null===(n=R.currentLessonDetails)||void 0===n?void 0:n.lessonThumbnailSrc,authorData:null==b?void 0:b.currentAuthorData,lessonDescription:null==e?void 0:null===(c=e.playerData)||void 0===c?void 0:null===(a=c.courseData)||void 0===a?void 0:null===(l=a.currentLessonDetails)||void 0===l?void 0:l.lessonShortDescription,likeId:null===(h=R.currentLessonDetails)||void 0===h?void 0:h.likeId,sectionId:eo,sharedIsUserIsActive:U.sharedIsUserIsActive,courseType:null===(p=R.currentCourseDetails)||void 0===p?void 0:p.courseType,enrollmentState:null===(v=R.currentCourseDetails)||void 0===v?void 0:v.enrollmentState,currentLessonDetails:R.currentLessonDetails,currentCourseDetails:R.currentCourseDetails,attachmentData:b.attachmentData,isAutoPlay:R.isAutoPlayEnabledForLesson,lessonChapters:null===(C=R.currentLessonDetails)||void 0===C?void 0:C.lessonChapters,isCurrentLessonHasDownloadableSlides:null==G?void 0:G.hasDownloadableSlides},eL=(null==ev?void 0:ev(null==ee?void 0:ee.nextInstalmentPaymentDate))<=0;eI.length<=0&&(eI=[{slideState:0,fileType:1,uri:"aaa.com",bookmarkFileName:""}]),0===eI.length&&eI.push({slideState:0,fileType:1,uri:"aaa.com",bookmarkFileName:""});let[ef,eP]=r.useState(P.constructBookMarkDataForPlayer(R.currentLessonSlides,N.currentLessonBookMarks,!1)),eE=T.serverDeviceType&&(T.serverDeviceType===D.Mgg.ANDROID||T.serverDeviceType===D.Mgg.IOS||T.serverDeviceType===D.Mgg.ANDROID+D.Mgg.IOS);if(eE)return(0,o.jsx)(PlayOnlyMobile_PlayOnlyMobile,{});if(!eL&&(q||(null==e?void 0:e.isEmbedPlayer)&&(null==e?void 0:e.isVisitorFlow)&&(null==G?void 0:G.isTrialLesson))){let t=null==O?void 0:O.currentAccessingLessonDownloadStatus,s=t===i.oV.SUCCESS,r=ek.isCurrentLessonHasDownloadableSlides&&t!==i.oV.SUCCESS&&t!==i.oV.LICENSE_EXPIRED,n=(null==G?void 0:G.lessonType)===D.Aai.ASSIGNMENT||(null==G?void 0:G.lessonType)===D.Aai.CODE||(null==G?void 0:G.lessonType)===D.Aai.TEST||(null==G?void 0:G.lessonType)===D.Aai.SCORM_TINCAN||(null==G?void 0:G.lessonType)===D.Aai.LIVE||(null==G?void 0:G.lessonType)===D.Aai.LYST_LIVE||(null==G?void 0:G.lessonType)===D.Aai.ARTICLE,l=t===i.oV.LICENSE_EXPIRED&&ek.isCurrentLessonHasDownloadableSlides;if(j&&(r&&_&&!M||n&&!A||l||!A&&r&&!s||!em&&!A||!em||s&&!A&&F))return(0,o.jsx)(DesktopAppOverlay_DesktopAppOverlay,{lessonTitle:ey||"",isLessonDownloadable:r||!1,isLessonNotAvailableOffline:n,isLessonLicenseExpired:l||!1,isOnline:A,isLessonDownloaded:s,isCourseEncrypted:em,lr_token:U.sharedAuthToken,loadPlayerResources:eg,loadPdfworkerForPlayer:ex,isMandatoryDownloadAndPlayEnabled:_,isOptionalDownloadOrPlayEnabled:M,isMacApp:F});let a=null===(g=ei[ee.courseId])||void 0===g?void 0:g.isLessonLocked;if(a||(null==T?void 0:T.isSequentialPathEnabled)&&(null==G?void 0:G.isLessonLocked))return(0,o.jsx)(SequentialLock_SequentialLock,{title:null==G?void 0:G.lessonTitle,currentLessonDetails:G,goToPrevLesson:null==e?void 0:null===(x=e.playerCallbacks)||void 0===x?void 0:x.onGoToPrevLesson});let c=(null==ee?void 0:ee.esignStatus)===D.ubN.ESIGN_REQUIRED&&(null==ee?void 0:ee.userEsignStatus)!==D.ubN.ESIGN_SUCCESS;if((null==G?void 0:G.dripData)&&!(null==G?void 0:G.dripData.isReleased)||(null==G?void 0:G.unlocksAt)&&!(null==G?void 0:G.unlocksAt.isReleased)){let e;return e=null==G||!G.unlocksAt||(null==G?void 0:null===(y=G.unlocksAt)||void 0===y?void 0:y.isReleased)?null==G?void 0:G.dripData:null==G?void 0:G.unlocksAt,(0,o.jsx)(ContentDripping_ContentDripping,{dripData:e,title:G.lessonTitle})}if(eI[0]&&eI[0].fileType===D.zcD.TEST_TYPE)return(0,o.jsx)(SectionQuizPlayer_SectionQuizPlayer,{setPLayerSemiFullScreenState:e.setPLayerSemiFullScreenState,slideDetails:eI[0],callbacks:P,playerLessonData:ek,slideType:D._Qy.SECTION_QUIZ,helper:E,playerData:b,enrollmentButtonData:I,isSubscription:L,sharedIsUserLoggedIn:f});if(null==G?void 0:G.codeId)return(0,o.jsx)(CodeLesson_CodeLesson,{setPLayerSemiFullScreenState:e.setPLayerSemiFullScreenState,slideDetails:eI[0],callbacks:P,playerLessonData:ek,helper:E,playerData:b,enrollmentButtonData:I,isSubscription:L,sharedIsUserLoggedIn:f});let d=eI[0]&&eI[0].fileType===D.zcD.LEARNYST_LIVE_UNENCRYPTED;return d?(0,o.jsx)(S.xu,{id:"lst-lesson-player",sx:{height:"100%",width:"100%",backgroundColor:"color-basic-1000"},children:(0,o.jsx)(LstSilderWithOldAdapter,{lessonBookmarksStateData:ef,...e})}):c?(0,o.jsx)(K.Z,{currentProductDetails:ee,isCourseExpired:I.isCourseExpired,goToStore:eu,lessonTitle:ey||"",userCourseId:(null==ee?void 0:ee.userCourseId)||null,userEsignStatus:null==ee?void 0:ee.userEsignStatus,doFetchEsignStatus:ed,esignRedirectionUrl:H,esignSuccessData:z,paymentState:W,fetchStatus:$.iFP.SUCCESS}):(0,o.jsx)(S.xu,{id:"lst-lesson-player",sx:{height:"100%",width:"100%",backgroundColor:"color-basic-1000"},children:(0,o.jsx)(X.Z,{children:t=>{let{width:s,height:r}=t;return(0,o.jsx)(J.Z,{isAnswerExplaination:e.isEmbedPlayer,isEmbedPlayer:e.isEmbedPlayer,isPodcastPlayer:w,ref:e.forwardedRef.lstSliderComp,lessonData:ek,slideData:eI,lessonBookmarkData:eD,currentBookMarkIdTs:N.currentBookMarkIdTs,callbacks:{...P,toogleLivePlayerMode:e.toogleLivePlayerMode,toogleLiveChatDisplay:null==e?void 0:e.toogleLiveChatDisplay,likeLesson:()=>e.playerCallbacks.addLike(e.playerData.courseData.currentLessonId),unlikeLesson:()=>{var t;return e.playerCallbacks.removeLike(null===(t=e.playerData.courseData.currentLessonDetails)||void 0===t?void 0:t.likeId,e.playerData.courseData.currentLessonId)}},dimensions:{width:s,height:r},isPlayerOutOfFocus:e.isPlayerOutOfFocus,userEnrollmentState:e.userEnrollmentState,liveServerData:e.liveServerData,switchToBookmarkTab:e.switchToBookmarkTab,showLiveChat:e.showLiveChat,currentCoursePlayTimeRestrictionDetails:B.currentCoursePlayTimeRestrictionDetails,shouldCurrentLessonShowPlayTime:B.shouldCurrentLessonShowPlayTime,handleFullScreenForIos:e.handleFullScreenForIos,switchToChapterTab:e.switchToChapterTab})}})})}return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(PurchaseOverlay_PurchaseOverlay,{lessonTitle:ey||"",currentCoursePricing:Y,currentProductDetails:ee,showEnrollButton:I.showEnrollButton,isEnrolling:I.isEnrolling,currentBundleId:Z,currentCourseId:ee.courseId,isCourseAvailableForTrial:I.isCourseAvailableForTrial,isCourseExpired:I.isCourseExpired,isCoursePrivate:I.isCoursePrivate,isSellIndividualEnabled:I.isSellIndividualEnabled,isCourseFree:Q,isBundleFree:Q,currentProductType:ee.courseType,currencyCode:es,isCurrentProductFromBundlde:!!(et&&Z),onHandleTestSeriesBuy:el,onHandleTestSeriesEnroll:ea,onHandleSetVariablePrice:ec,goToStore:eu,goToSubscription:eh,isTaxEnabled:!!k,isSubscription:L,sharedIsUserLoggedIn:f,instalmentDueExpired:eL,onHandleSubscriptionEnroll:eS,onVisitorSignIn:eC,isTrialLesson:null==G?void 0:G.isTrialLesson,currentBundleDetails:en})})};let CourseDashboard=class CourseDashboard extends r.Component{componentDidMount(){var e,t,s,o;let{data:r}=this.props,{courseData:n}=r,{currentCourseDetails:i,currentCoursePricing:l}=n;window.addEventListener("fullscreenchange",this.handleFullscreenChange,!0),null===(t=this.props)||void 0===t||null===(e=t.helpers)||void 0===e||e.hideExternalScript(),(null===(o=this.props)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.isDesktopApp)&&(window.addEventListener("online",this.handleOnlineStatus),window.addEventListener("offline",this.handleOnlineStatus))}componentDidUpdate(e,t){g().query.search&&!t.isSearchShown&&this.setState({isSearchShown:!0})}componentWillUnmount(){var e,t,s,o;window.removeEventListener("fullscreenchange",this.handleFullscreenChange,!0),null===(t=this.props)||void 0===t||null===(e=t.helpers)||void 0===e||e.enableExternalScript(),(null===(o=this.props)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.isDesktopApp)&&(window.removeEventListener("online",this.handleOnlineStatus),window.removeEventListener("offline",this.handleOnlineStatus))}getAspectRatio(){let{isFullScreen:e}=this.state;return e&&!this.state.isLivePlayerMode?window.screen.width/window.screen.height:16/9}setPLayerSemiFullScreenState(e){let{isSemiFullScreen:t}=this.state;t!==e&&this.setState({isSemiFullScreen:e||!1})}handleFullscreenChange(){document.fullscreenElement?(this.setState({isFullScreen:!0}),console.log("handleFullscreenChange Element: ".concat(document.fullscreenElement.id," entered full-screen mode."))):(this.setState({isFullScreen:!1}),console.log("handleFullscreenChange Leaving full-screen mode."))}handleFullScreenForIos(e){this.setState({requestIOSFullScreen:e,isSemiFullScreen:e})}setAttachmentModalState(e,t,s,o,r,n){this.setState({attachmentModalState:e,attachmentUrls:t,attachmentLessonId:s,attachmentLessonTitle:o,isAttachmentDisabled:r,resourceLessonId:n})}handleOnlineStatus(){this.setState({isOnline:navigator.onLine})}render(){var e,t,s,r,n,i,l,a,c,u,h,p,v,C,y,b,I,k,L,f,P,E,w,A,F,R,B,N,U,M,H,z,G,q,V,Q,K,X,$,Y,J,ee,et,es,eo,er,en,ei,el,ea,ec,ed,eu,eh,ep,ev,eS,eC;this.statusContainerHeight=(null===(t=this.statusContainerRef)||void 0===t?void 0:null===(e=t.current)||void 0===e?void 0:e.clientHeight)||this.statusContainerHeight;let{t:eg,theme:ex,callbacks:ey,refsToForward:em}=this.props,{onEditReview:eD}=null===(s=this.props)||void 0===s?void 0:s.courseFeatureCallbacks,{goToCourseReview:eT,goToPlayer:eb,goToCourseAnalytics:eI,goToSalesboard:ek}=null===(r=this.props)||void 0===r?void 0:r.allDashboardSalesCallbacks,{onHandleTestSeriesStatsButton:eL,onLoadTestSeriesList:ef}=null===(i=this.props)||void 0===i?void 0:null===(n=i.allDashboardSalesCallbacks)||void 0===n?void 0:n.testSeriesCallbacks,{courseData:eP,enrollmentButtonData:eE,dashAndSalesBoardHelpers:ew,courseFeatureData:eA,isMobileDevice:ej,isBookmarksEnabled:eF,courseFeatureHelpers:eR,isTaxEnabled:eB,isOTPMode:eN,openTestInNewWindow:eU,openTestInSameWindow:eO,footer:e_,attachmentData:eM,isDesktopApp:eH,isMacApp:ez,esignRedirectionUrl:eW,esignSuccessData:eG,paymentState:eq}=this.props.data,{userEnrollmentState:eV,courseCompletionData:eQ,currentBundleSeoTitle:eK,currentCourseDetails:eZ,currentCourseId:eX,currentLessonId:e$,currentCourseSections:eY,currentCourseLessons:eJ,currentCourseCompletionStats:e0,currentCourseSectionId:e1,currentBundleId:e2,currentCourseSeoTitle:e4,currentLessonPlayerQuizState:e3,currentCoursePricing:e6,currentAccesingLessons:e7,currentLessonDetails:e8}=eP,e5=null===(l=this.props)||void 0===l?void 0:l.callbacks,e9=null===(c=this.props)||void 0===c?void 0:null===(a=c.callbacks)||void 0===a?void 0:a.favouritesCallbacks,te=null===(h=this.props)||void 0===h?void 0:null===(u=h.callbacks)||void 0===u?void 0:u.attachmentCallbacks,tt=eZ.courseType,{lessons:ts,mockTests:to}=eZ,tr=e7[eX],{sharedIsUserLoggedIn:tn}=this.props.data.sharedInfo,{getRendererData:ti=()=>!1}=ew,tl=null==ew?void 0:ew.calculateCourseCompletion(eQ,eZ.courseId,null==eZ?void 0:null===(v=eZ.lessons)||void 0===v?void 0:null===(p=v.lessonIds)||void 0===p?void 0:p.length,null==eZ?void 0:null===(C=eZ.lessons)||void 0===C?void 0:C.totalHiddenLessonsIds),{totalCompletedLessonExcludesHiddenLesson:ta,totalLessonExludesHiddenLesson:tc}=null==ew?void 0:ew.totalCompletedLessonExcludedHidden(eQ,eZ.courseId,null==eZ?void 0:null===(b=eZ.lessons)||void 0===b?void 0:null===(y=b.lessonIds)||void 0===y?void 0:y.length,null==eZ?void 0:null===(I=eZ.lessons)||void 0===I?void 0:I.totalHiddenLessonsIds),td=0,tu=0,th=eZ.courseType===m.Dl.TEST_SERIES,tp=m.Dl.COURSE===tt,tv=m.Dl.BATCH===(null==eP?void 0:null===(k=eP.currentBundleDetails)||void 0===k?void 0:k.courseType),tS=[m.Dl.COURSE,m.Dl.EBOOK,m.Dl.PODCAST,m.Dl.WEBINAR,m.Dl.DIGITAL_PRODUCT,m.Dl.TRACK].includes(tt);th&&(td=null==ew?void 0:ew.getTestCompletionPercentage(eY),tu=null==ew?void 0:ew.calculateAvgPercent(null==eZ?void 0:eZ.mockTests));let{isSemiFullScreen:tC,isLivePlayerMode:tg,isSearchShown:tx}=this.state,ty=this.getAspectRatio(),onLessonClick=(e,t,s,o)=>{var r,n,i,l;let a=(null==ts?void 0:ts.lessonDetails[e].sectionId)||0,c=eZ.isSequentialPathEnabled,d={previousId:null,pathType:null};if(c){let t=eZ.learningPathType,{previousId:s,pathType:o}=this.props.callbacks.getPreviousListIdByType(t,e);d.previousId=s,d.pathType=o}null===(n=this.props)||void 0===n||null===(r=n.callbacks)||void 0===r||r.setCurrentAccessingLesson({courseId:eX,sectionId:null==ts?void 0:ts.lessonDetails[e].sectionId,lessonId:e,sequentialPathEnabled:c,sequentialPathData:d},e);let u={lessonId:e,sectionId:a,productSeo:eK||e4,subProductSeo:eK?e4:null,search:o||""};tt===m.Dl.TEST_SERIES&&(u.testSeries=1),null===(l=this.props)||void 0===l||null===(i=l.callbacks)||void 0===i||i.goToLessonPlayer(e2,eX,tt,a,e,u),e3!==D.eoh.IDLE&&(null==e5||e5.clearCourseData(eX))},tm=new URLSearchParams(window.location.search),tD=tm.get("embedPlayer"),tT=!!tD,tb=g().query.embedHeader||"",tI=ex.sizes[7],tk=tm.get("visitorFlow");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(_.Global,{styles:()=>({"html, #syllabus-list div":{scrollBehavior:"smooth"}})}),(0,o.jsxs)(S.kC,{id:"lesson-player",as:"main",sx:{overflow:"hidden",position:"sticky",top:0,height:ej?"100%":"100vh",width:"100%",backgroundColor:"background-basic-color-2"},children:[(0,o.jsxs)(S.xu,{as:"section",sx:{display:["flex","flex","initial"],overflowY:["hidden","hidden","scroll"],position:"static",flexGrow:1,flexDirection:"column",width:["100%","100%",this.state.showLiveChat?"70%":"100%"],height:["100vh","100%"]},children:[(0,o.jsxs)(S.xu,{sx:{height:"auto"},children:[(0,o.jsx)(S.xu,{id:"player-header",sx:{boxShadow:"default"},children:(0,o.jsx)(PlayerHeader_PlayerHeader,{title:tb||eZ.courseTitle||"",courseId:eZ.courseId,sharedIsUserLoggedIn:tn,enrollmentState:eV,isReviewsEnabled:!tT&&eZ.isReviewsEnabled,currentReviewData:null==eA?void 0:eA.courseReviewData,setPlayerFocusState:this.setPlayerFocusState,currentBundleSeoTitle:eK||"",currentCourseSeoTitle:e4||"",goToCourseDashboard:e5.goToCourseDashboard,goBack:null==ey?void 0:ey.goBack,goToStore:null==ey?void 0:ey.goToStore,onHandleAddReview:eD,showCurriculumData:!!(null==eZ?void 0:eZ.curriculumData)&&!tT,goToSalesboard:ek,onHandleFavourites:e9.updateFavourites,isFavouritesEnabled:!tT,favouriteId:eZ.favouriteId||e9.getFavouriteId(eZ.courseId),isMobileDevice:ej,isOnline:this.state.isOnline})}),(0,o.jsx)(d.oM,{ratio:ty,isSemiFullScreen:tC,sx:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"border-basic-color-4"},children:th?(0,o.jsx)(TestSeriesPlayer_TestSeriesPlayer,{sharedIsUserLoggedIn:tn,enrollmentButtonData:eE.data,isTaxEnabled:eB,isSubscription:!eN,setPlayerSemiFullScreenState:this.setPLayerSemiFullScreenState,openTestInNewWindow:eU,openTestInSameWindow:eO,checkMoreOptions:null===(f=this.props)||void 0===f?void 0:null===(L=f.helpers)||void 0===L?void 0:L.checkMoreOptions,openQuizPlayer:null===(E=this.props)||void 0===E?void 0:null===(P=E.helpers)||void 0===P?void 0:P.openQuizPlayer,playerCallbacks:e5,courseData:eP,esignData:{esignSuccessData:eG,paymentState:eq,esignRedirectionUrl:eW}}):(0,o.jsx)(LessonPlayer_LessonPlayer,{isEmbedPlayer:tT,isVisitorFlow:!!tk,forwardedRef:em,sharedIsUserLoggedIn:tn,setPLayerSemiFullScreenState:this.setPLayerSemiFullScreenState,isSemiFullScreen:this.state.isSemiFullScreen,isPlayerOutOfFocus:this.state.isPlayerOutOfFocus,userEnrollmentState:eV,toogleLivePlayerMode:e=>this.toogleLivePlayerMode(e,ej),toogleLiveChatDisplay:this.toogleLiveChatDisplay,showLiveChat:this.state.showLiveChat,liveServerData:{liveStatus:this.state.liveStatus},switchToBookmarkTab:this.switchToBookmarkTab,currentProductDetails:eZ,playerData:null===(w=this.props)||void 0===w?void 0:w.data,playerCallbacks:e5,enrollmentButtonData:eE.data,isTaxEnabled:!!eB,isSubscription:!eN,playerHelpers:this.props.helpers,handleFullScreenForIos:this.handleFullScreenForIos,switchToChapterTab:this.switchToChapterTab,isOnline:this.state.isOnline,isDesktopApp:eH,isMacApp:ez})})]}),!(tC||tg||tT)&&(0,o.jsxs)(S.xu,{mb:1,sx:{overflow:["scroll","scroll","initial"],overflowX:"hidden",height:tT?"auto":["100%","auto"],backgroundColor:"background-basic-color-2","::-webkit-scrollbar":{display:"none"}},children:[(0,o.jsx)(O,{courseData:eP,toggleSearch:this.toggleSearch,currentProductDetails:eZ,courseFeatureData:eA,courseFeatureCallbacks:null===(A=this.props)||void 0===A?void 0:A.courseFeatureCallbacks,courseFeatureHelpers:eR,productType:tt,isMobileDevice:ej||!1,isBookmarkEnabled:!!(eZ.isNotesEnabled&&eF),testSeriesAvgScore:tu,testSeriesCompletion:td,courseProgress:tl,enableBookmarkTab:this.state.enableBookmarkTab,enableChapterTab:this.state.enableChapterTab,setPlayerFocusState:this.setPlayerFocusState,getCurrentPosition:null===(B=em.lstSliderComp)||void 0===B?void 0:null===(R=B.current)||void 0===R?void 0:null===(F=R.sliderRef)||void 0===F?void 0:F.getCurrentPosition,syllabusListData:{currentCourseId:eX,inPlayer:!0,currentLessonId:e$,currentCourseSectionId:e1,currentCourseSections:eY,currentCourseLessons:eJ,currentCourseMockTests:to,currentCourseCompletionStats:e0,currentCourseType:tt,courseDetails:eZ,userEnrollmentState:eV,fixHeight:!0,sharedIsUserLoggedIn:tn},syllabusListCallbacks:{getRendererData:ti,onLessonClick,onLoadTestSeriesList:ef,setPlayerFocusState:this.setPlayerFocusState,goToPlayer:eb},callbacks:{gotoViewAnalytics:eL,setAttachmentModalState:this.setAttachmentModalState,switchToBookmarkTab:this.switchToBookmarkTab,goToCourseReview:eT,goToCourseAnalytics:eI,switchToChapterTab:this.switchToChapterTab,doFetchRecentlyAddedLessons:null===(U=this.props)||void 0===U?void 0:null===(N=U.callbacks)||void 0===N?void 0:N.doFetchRecentlyAddedLessons},playerCallbacks:e5,enrollmentButtonData:eE.data,userEnrollmentState:eV,isSubscription:!eN,sharedIsUserLoggedIn:tn,isTaxEnabled:!!eB,searchQuery:this.props.data.searchQuery,isSearchShown:!0,navData:null===(M=this.props.data)||void 0===M?void 0:M.navigationData,totalCompletedLessonExcludedHidden:ew.totalCompletedLessonExcludedHidden,enrollmentButtonCallbacks:eE.callbacks,isOnline:this.state.isOnline,isDesktopApp:eH}),!tC&&(0,o.jsx)(S.xu,{sx:{display:["none","none","block"],height:"max-content"},children:(0,o.jsx)(x.Z,{footer:e_})})]})]}),!ej&&!tT&&(0,o.jsxs)(S.kC,{as:"section",sx:{overflow:"hidden",display:["none","none","initial"],borderLeftWidth:1,borderLeftColor:"border-basic-color-4",borderLeftStyle:"solid",height:"100%",width:tT?"0%":["0%","0%","30%"],minWidth:tT?"0%":[0,0,null==ex?void 0:ex.sizes[18]],flexDirection:"column"},children:[(0,o.jsx)(S.xu,{pl:2,sx:{borderColor:"transparent",borderTopWidth:1,borderBottomWidth:1,borderStyle:"solid",minWidth:null==ex?void 0:ex.sizes[18],height:null==ex?void 0:ex.sizes[7],maxHeight:null==ex?void 0:ex.sizes[7],display:"flex"},children:(0,o.jsxs)(S.kC,{sx:{justifyContent:"space-between",alignItems:"center",width:"100%"},children:[!tx&&(0,o.jsx)(d.xv,{category:"h5",textTransform:"capitalize",children:eg(th?"test_plural":"product:syllabus")}),tx&&(0,o.jsx)(d.xv,{category:"h5",textTransform:"capitalize",children:eg(th?"product:searchTestSeries":"product:searchSyllabus")}),!tx&&(0,o.jsx)(S.kC,{pr:3,sx:{fontSize:"iconDefault",alignItems:"center",cursor:"pointer"},onClick:()=>{this.toggleSearch()},children:(0,o.jsx)(d.tv,{icon:j.q.search,fontSize:"h5"})}),tx&&(0,o.jsx)(d.zx,{variant:"basic",type:"ghost",children:(0,o.jsx)(d.xv,{category:"c2",children:eg("product:close").toUpperCase()}),size:"small",onClick:()=>{this.syllabusListRef.current.clearSearch(),this.toggleSearch(),onLessonClick(e$,e1,null,"",!0)},sx:{color:"background-alternative-color-1"}})]})}),(0,o.jsx)(S.xu,{ref:this.statusContainerRef,children:tn&&!tx&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.iz,{}),(0,o.jsxs)(S.xu,{sx:{width:"100%",backgroundColor:"background-basic-color-2"},p:4,children:[!!th&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(S.kC,{mb:6,style:{alignItems:"center",justifyContent:"space-between"},children:td?(0,o.jsxs)(o.Fragment,{children:[tu&&"NaN"!==tu?(0,o.jsxs)(S.xu,{style:{alignSelf:"flex-end"},children:[(0,o.jsx)(d.xv,{category:"label",textTransform:"uppercase",children:eg("product:yourAverageScore")}),(0,o.jsx)(d.xv,{category:"h4",children:tu})]}):null,(0,o.jsx)(d.zx,{disabled:td<=0||eV!==D.T_M.ENROLLED&&eV!==D.T_M.PURCHASED||!this.state.isOnline,variant:"secondary",size:"small",children:eg("product:viewAnalytics").toUpperCase(),onClick:()=>{td>0&&eL()}})]}):null})}),tp&&!tv?(0,o.jsxs)(S.kC,{mb:6,style:{alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsx)(d.xv,{category:"label",textTransform:"uppercase",children:eg("product:courseAnalytics")}),(0,o.jsx)(d.zx,{disabled:eV!==D.T_M.PURCHASED||!this.state.isOnline,variant:"secondary",size:"small",children:eg("product:viewAnalytics").toUpperCase(),onClick:()=>eI()})]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(d.xv,{category:"label",children:eg("product:courseProgress")})}),(0,o.jsxs)(S.kC,{sx:{alignItems:"center"},children:[(0,o.jsx)(S.xu,{sx:{width:"100%"},mr:2,children:(0,o.jsx)(d.ko,{indicatorColor:"secondary",progress:tS?tl:td})}),(0,o.jsx)(d.xv,{category:"c2",children:"".concat(tS?tl:td,"%")})]}),(0,o.jsx)(d.xv,{category:"c2",children:eQ&&Array.isArray(eQ[eZ.courseId])&&(0,o.jsxs)(o.Fragment,{children:[tS&&(0,o.jsxs)(S.kC,{children:[(0,o.jsx)(d.xv,{category:"c1",children:ta}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c1",children:eg("product:of",{count:tc})}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c1",children:eg("product:lessons")}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c1",textTransform:"capitalize",children:eg("product:completed")})]}),!!th&&(0,o.jsxs)(S.kC,{children:[(0,o.jsx)(d.xv,{category:"c1",children:eQ[eZ.courseId].length}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c1",children:eg("product:of",{count:null==eZ?void 0:null===(z=eZ.mockTests)||void 0===z?void 0:null===(H=z.mockTestIds)||void 0===H?void 0:H.length})}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsxs)(d.xv,{category:"c1",children:[" ",eg("tests")]}),(0,o.jsx)(S.xu,{ml:1}),(0,o.jsx)(d.xv,{category:"c1",textTransform:"capitalize",children:eg("product:completed")})]})]})})]})]})}),(0,o.jsx)(S.xu,{sx:{overflow:"hidden",zIndex:3,minWidth:null==ex?void 0:ex.sizes[18],height:"100%",width:"100%"},pb:tx?tI+40:this.statusContainerHeight+tI,children:(0,o.jsx)(T.AG,{ref:this.syllabusListRef,toggleSearch:this.toggleSearch,currentCourseId:eX,isSearchShown:tx,inPlayer:!0,sharedIsUserLoggedIn:tn,currentLessonId:e$,currentCourseSectionId:e1,currentCourseSections:eY,currentCourseLessons:eJ,currentCourseMockTests:to,currentCourseCompletionStats:e0,currentCourseType:tt,courseDetails:eZ,userEnrollmentState:eV,getRendererData:ti,onLessonClick:onLessonClick,setAttachmentModalState:this.setAttachmentModalState,onLoadTestSeriesList:ef,setPlayerFocusState:this.setPlayerFocusState,goToPlayer:eb,fixHeight:!0,searchQuery:null===(V=this.props)||void 0===V?void 0:null===(q=V.data)||void 0===q?void 0:null===(G=q.navigationData)||void 0===G?void 0:G.search,navData:null===(Q=this.props.data)||void 0===Q?void 0:Q.navigationData,isMobileDevice:this.props.isMobileDevice,currentAccesingLessonData:tr,courseData:null===(K=this.props.data)||void 0===K?void 0:K.courseData,showLessonDownloader:!0,lessonDownloadProps:{getAllFilesToDownload:null===(X=this.props.callbacks)||void 0===X?void 0:X.getAllFilesToDownload,onClickDesktopAppLessonDownload:null===($=this.props.callbacks)||void 0===$?void 0:$.onClickDesktopAppLessonDownload,desktopAppLessonDownloadStats:null===(ee=this.props)||void 0===ee?void 0:null===(J=ee.data)||void 0===J?void 0:null===(Y=J.playerUiState)||void 0===Y?void 0:Y.desktopAppLessonDownloadStats,checkDesktopAppLessonDownloadStatus:null===(es=this.props)||void 0===es?void 0:null===(et=es.callbacks)||void 0===et?void 0:et.checkDesktopAppLessonDownloadStatus,cancelLessonDownloadingInDesktopApp:null===(er=this.props)||void 0===er?void 0:null===(eo=er.callbacks)||void 0===eo?void 0:eo.cancelLessonDownloadingInDesktopApp,deleteDownloadedLessonInDesktopApp:null===(ei=this.props)||void 0===ei?void 0:null===(en=ei.callbacks)||void 0===en?void 0:en.deleteDownloadedLessonInDesktopApp,registerProgressCallback:null===(ea=this.props)||void 0===ea?void 0:null===(el=ea.callbacks)||void 0===el?void 0:el.registerProgressCallback,constructDownloadedDataForPlayer:null===(ed=this.props)||void 0===ed?void 0:null===(ec=ed.callbacks)||void 0===ec?void 0:ec.constructDownloadedDataForPlayer,isDesktopApp:null===(eh=this.props)||void 0===eh?void 0:null===(eu=eh.data)||void 0===eu?void 0:eu.isDesktopApp,isMandatoryDownloadAndPlayEnabled:null===(ev=this.props)||void 0===ev?void 0:null===(ep=ev.data)||void 0===ep?void 0:ep.isMandatoryDownloadAndPlayEnabled,isOptionalDownloadOrPlayEnabled:null===(eC=this.props)||void 0===eC?void 0:null===(eS=eC.data)||void 0===eS?void 0:eS.isOptionalDownloadOrPlayEnabled}})},this.statusContainerHeight)]}),(0,o.jsx)(W.u_,{ariaHideApp:!1,isOpen:this.state.attachmentModalState,onRequestClose:()=>{this.setAttachmentModalState(!1)},contentStyle:{height:"100vh"},children:(0,o.jsx)(Z.Z,{modalIsOpen:this.state.attachmentModalState,setModalIsOpen:this.setAttachmentModalState,attachmentUrls:this.state.attachmentUrls,attachmentData:eM,attachmentLessonId:this.state.attachmentLessonId,lessonTitle:this.state.attachmentLessonTitle,isAttachmentDisabled:this.state.isAttachmentDisabled,resourceLessonId:this.state.resourceLessonId,currentCourseId:eX,currentCourseDetails:eZ,onAttachmentBundleReset:te.onAttachmentBundleReset,fetchAttachmentForLesson:te.fetchAttachmentForLesson,getAttachmentsDownloadLink:te.getAttachmentsDownloadLink})})]})]})}constructor(e){super(e),this.setPlayerFocusState=e=>{this.setState({isPlayerOutOfFocus:e||!1})},this.toogleLivePlayerMode=(e,t)=>{if(!e){window.location.reload();return}this.setState({isLivePlayerMode:e}),t||this.setState({isSemiFullScreen:e})},this.toogleLiveChatDisplay=()=>{console.log("courseDashboard toggleLiveChatDisplay state",this.state),this.setState({showLiveChat:!this.state.showLiveChat})},this.updateLiveStatus=e=>{console.log("courseDashboard updateLiveStatus data, state",e,this.state),this.setState({liveStatus:e.liveStatus})},this.switchToBookmarkTab=e=>{e!==this.state.enableBookmarkTab&&this.setState({enableBookmarkTab:e})},this.switchToChapterTab=e=>{e!==this.state.enableChapterTab&&this.setState({enableChapterTab:e})},this.toggleSearch=()=>{this.setState({isSearchShown:!this.state.isSearchShown})},this.state={isFullScreen:!1,isSemiFullScreen:!1,isPlayerOutOfFocus:!1,attachmentModalState:!1,attachmentUrls:{},attachmentLessonId:0,attachmentLessonTitle:"",isAttachmentDisabled:!1,isLivePlayerMode:!1,liveStatus:D.yie.IDLE,liveServerName:null,enableBookmarkTab:!1,showLiveChat:!0,isSearchShown:!1,resourceLessonId:0,requestIOSFullScreen:!1,enableChapterTab:!1,isOnline:navigator.onLine},this.syllabusListRef=r.createRef(),this.statusContainerRef=r.createRef(),this.statusContainerHeight=null,this.setPLayerSemiFullScreenState=this.setPLayerSemiFullScreenState.bind(this),this.handleFullscreenChange=this.handleFullscreenChange.bind(this),this.setAttachmentModalState=this.setAttachmentModalState.bind(this),this.handleFullScreenForIos=this.handleFullScreenForIos.bind(this),this.handleOnlineStatus=this.handleOnlineStatus.bind(this)}};var el=s(45106),ea=s(37254);let reducer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"CHANGE_STATE"===t.type?t.state:e},configureStore=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,el.MT)(reducer,e);return t};function connectToStore(e,t){let connectToStoreInner=class connectToStoreInner extends r.Component{mergeProps(e){this.props=e}shouldComponentUpdate(e){var s,o,r;return this.mergeProps(e),this.store.dispatch({type:"CHANGE_STATE",state:this.props}),null===(r=this.props)||void 0===r||null===(o=r.data)||void 0===o||null===(s=o.widgetData)||void 0===s||s.isWidgetDataChanged,!(this.isLoadingCompleted&&t(this.props))&&(this.isLoadingCompleted=!1,!0)}componentDidUpdate(){!this.isLoadingCompleted&&t?this.isLoadingCompleted=t(this.props):t||(this.isLoadingCompleted=!0)}componentDidMount(){!this.isLoadingCompleted&&t?this.isLoadingCompleted=t(this.props):t||(this.isLoadingCompleted=!0)}render(){return(0,o.jsx)(ea.zt,{store:this.store,children:(0,o.jsx)(e,{...this.props})})}constructor(e){super(e),this.props=e,this.isLoadingCompleted=!1,this.store=configureStore({...e})}};return connectToStoreInner}let CourseDashboardPage=class CourseDashboardPage extends r.Component{render(){var e,t,s,r;let{courseData:n,courseFeatureData:i}=this.props.data;return n.currentCourseFetchStatus!==D.iFP.IN_PROGRESS&&n.currentCourseAccessDataFetchStatus!==D.iFP.IN_PROGRESS&&n.currentCourseFetchStatus!==D.iFP.IDLE&&n.currentCourseSections&&n.currentCourseDetails?(0,o.jsx)(CourseDashboard,{data:null===(e=this.props)||void 0===e?void 0:e.data,callbacks:this.props.callbacks,refsToForward:null===(t=this.props)||void 0===t?void 0:t.refsToForward,helpers:null===(s=this.props)||void 0===s?void 0:s.helpers,learnyComponents:this.props.learnyComponents,allDashboardSalesCallbacks:this.props.allDashboardSalesCallbacks,courseFeatureCallbacks:this.props.courseFeatureCallbacks,i18n:this.props.i18n,t:this.props.t,theme:this.props.theme,footerData:null===(r=this.props)||void 0===r?void 0:r.footerData}):(0,o.jsx)(W.gb,{})}constructor(e){super(e)}};var ec=connectToStore((0,ea.$j)(e=>({data:e.data}))((0,v.Z)((0,p.Z)(["common","product"])(CourseDashboardPage))),e=>{let{currentCourseFetchStatus:t}=e.data.courseData;return t!==D.iFP.IDLE&&t!==D.iFP.IN_PROGRESS}),ed=s(88263),eu=s.n(ed),eh=s(74061),ep=s(98782),ev=s.n(ep);let eS={SECTION_DATA:0,LESSON_DATA:1};function syllabusAdapter(e){let Syllabus=class Syllabus extends r.Component{componentDidUpdate(){this.props.currentCourseSections.sectionIds&&this.state.syllabusData.data.length&&!this.props.currentCourseSections.sectionIds.includes(this.state.syllabusData.data[0].id)&&this.setState({syllabusData:this.constructSyllabusData(this.props.currentCourseSectionId)})}componentWillUnmount(){this.setState({syllabusData:null})}render(){return this.state.syllabusData?(0,o.jsx)(e,{data:this.state.syllabusData?this.state.syllabusData.data:[],selectSection:this.selectSection,...this.props,currentSelectedSectionId:this.state.currentSelectedSectionId,currentSectionHtmlId:this.state.currentSectionHtmlId}):null}constructor(e){super(e),this.onLessonSelected=(e,t)=>{let{currentCourseId:s}=this.props;this.props.doSetCurrentAccessingLesson({courseId:s,sectionId:e,lessonId:t},t)},this.selectSection=(e,t,s)=>{e===this.state.currentSelectedSectionId&&(e=0),this.setState({syllabusData:this.constructSyllabusData(e),currentSelectedSectionId:e,currentSectionHtmlId:s})},this.constructSyllabusData=e=>{let t=1,s={data:[],listScrollIdx:0,stickyHeaderIndices:[]};if(!this.props.currentCourseSections||!this.props.currentCourseLessons)return s;let{sectionIds:o}=this.props.currentCourseSections,r=o.length;if(r<=0)return s;for(let n=0;n<r;n++){let r={type:eS.SECTION_DATA,id:o[n],dataId:n,parentId:0,sectionIndex:t<10?"0".concat(t):"".concat(t)};if(t+=1,s.data.push(r),o[n]===e){let{lessonIds:e}=this.props.currentCourseLessons,t=e.length;for(let r=0;r<t;r++){let t=this.props.currentCourseLessons.lessonDetails[e[r]];if(t&&t.sectionId===o[n]){let t={type:eS.LESSON_DATA,id:e[r],dataId:r,parentId:o[n]};s.data.push(t)}}}}return s},this.state={syllabusData:this.constructSyllabusData(this.props.currentCourseSectionId),currentSelectedSectionId:this.props.currentCourseSectionId,currentSelectedLessonId:this.props.currentLessonId,currentSectionHtmlId:null},this.selectSection=this.selectSection.bind(this),this.onLessonSelected=this.onLessonSelected.bind(this)}};return(0,ee.$)("selectCurrentCourseId","selectCurrentCourseSectionId","selectCurrentLessonId","selectAutoScrollLessonTs","selectCurrentCourseSections","selectCurrentCourseLessons","selectCurrentCourseSeoTitle","selectCurrentBundleId","selectCurrentProductType","selectSharedIsUserLoggedIn","selectCurrentCourseMockTests","selectAttachmentData","selectCurrentCourseCompletionStats","selectCurrentBundleSeoTitle","selectIsCurrentProductFromBundlde","selectCurrentTestSeriesLessonId","selectCurrentLessonPlayerQuizState","doFetchAttachmentForLesson","doClearCourseData","doSetCurrentAccessingLesson","selectUserEnrollmentState","selectCurrentAuthorData",Syllabus)}var eC=s(57449),eg=s(39866),ex=s(23679),ey=s.n(ex),conceptsSyllabus_Lesson=e=>{let{lessonId:t,sectionId:s,courseId:r,title:n,doSetCurrentLesson:l,inPlayer:a,currentLesson:c,courseSeoTitle:u,handleScroll:h,index:p,currentBundleId:v,currentBundleSeoTitle:C,currentTestSeriesLessonId:x,currentLessonPlayerQuizState:m,doClearCourseData:D,currentProductType:T}=e,{theme:b}=(0,y.B7)(),I=new URLSearchParams(window.location.search),handleOnClick=()=>{l({courseId:r,sectionId:s,lessonId:t},t);let e={lessonId:t,sectionId:s,productSeo:C||u,subProductSeo:C?u:null,template:I.get("template"),disableLessonChange:!0};if(h(t,p),T===i.courseType.TEST_SERIES&&(e.testSeries=1),a){g().replace({pathname:er.y4.lessonPlayer,query:{bundleId:v,courseId:r,courseType:T===i.courseType.TEST_SERIES?i.courseType.TEST_SERIES:i.courseType.COURSE,sectionId:s,lessonId:t,template:I.get("template"),disableLessonChange:!0}},er.XC.lessonPlayer(e),{shallow:!0}),m!==eg.eo.IDLE&&D(r);return}g().push({pathname:er.y4.lessonPlayer,query:{bundleId:v,courseId:r,courseType:T===i.courseType.TEST_SERIES?i.courseType.TEST_SERIES:i.courseType.COURSE,sectionId:s,lessonId:t,template:1}},er.XC.lessonPlayer(e))};return(0,o.jsxs)(S.kC,{pl:2,onClick:()=>handleOnClick(),bg:a&&(c===t||x===t)?ey()(b.rawColors["color-primary-500"],.2):"background-basic-color-2",sx:{borderRadius:4,boxSizing:"border-box",width:"100%",height:"90%",justifyContent:"space-between",alignItems:"center",py:2,":hover":{bg:ey()(b.rawColors["color-primary-300"],.2)},":active":{bg:ey()(b.rawColors["color-primary-300"],.2)}},children:[(0,o.jsx)(S.xu,{sx:{width:"auto"}}),(0,o.jsx)(S.xu,{sx:{width:"inherit"},children:(0,o.jsx)(S.kC,{sx:{cursor:"pointer",alignItems:"center","& div":{fontWeight:a&&(c===t||x===t)?"semiBold":"regular"}},children:(0,o.jsx)(d.xv,{noOfLines:1,category:"s2",children:n})})}),(0,o.jsx)(S.xu,{sx:{width:"auto"}})]},t)},em=syllabusAdapter(e=>{let{t}=(0,u.$)("product"),{currentCourseId:s,setPlayerFocusState:n,isSearchShown:l}=e,a={section:0,lesson:1,tag:2},{currentCourseLessons:c}=e,h=e.data.filter(e=>e.type===a.lesson),p={},v=h.map(e=>{if(c.lessonDetails[e.id])return p[c.lessonDetails[e.id].lessonTag||"general"]=[],{tag:c.lessonDetails[e.id].lessonTag||"general",lessonId:e.id}});v.map(e=>{Object.keys(p).length&&p[null==e?void 0:e.tag]&&(p[e.tag]=[...p[e.tag],e.lessonId])});let C=[];Object.keys(p).forEach(e=>{let t=h.filter(t=>p[e].includes(t.id));C.push({type:a.tag,title:e},...t)}),h=C;let x=new URLSearchParams(window.location.search),y=x.get("search"),[m,D]=r.useState(y||""),[T,b]=r.useState([]),[I,k]=r.useState([]),[L,f]=r.useState(!1);(0,r.useEffect)(()=>{0===I.length&&y&&onClickIcon(!1)},[]),(0,r.useEffect)(()=>{l||0===I.length||clearSearch()},[l]);let P=r.useRef(null),handleScroll=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start";P&&P.current&&P.current.scrollToItem(t,s)},selectSection=(t,s,o)=>{t!==e.currentSelectedSectionId&&(e.selectSection(t,s,o),e.inPlayer&&handleScroll(t,s,"auto"))},autoScroll=()=>{h&&h.forEach((t,s)=>{(e.currentLessonId===t.id||e.currentTestSeriesLessonId===t.id)&&handleScroll(t.id,s)})};(0,r.useEffect)(()=>{!e.inPlayer&&e.currentSectionHtmlId&&document.getElementById(e.currentSectionHtmlId).scrollIntoView(),autoScroll()},[e.currentSectionHtmlId,e.currentLessonId,e.currentTestSeriesLessonId]),document&&document.readyState&&autoScroll(),(0,r.useEffect)(()=>{if(P&&P.current&&e.inPlayer){let t=0;h.forEach((s,o)=>{s.id===e.currentSelectedSectionId&&(t=o>0?o-1:o)}),P.current.resetAfterIndex(t,!0)}},[e.currentSelectedSectionId]);let getItemSize=t=>(null==h?void 0:h.length)&&h[t].type===a.tag?eC.R5.conceptLessonHeight:h[t]&&h[t].id===e.currentSelectedSectionId&&e.inPlayer?eC.R5.sectionExpandedHeight:eC.R5.itemHeight,renderer=t=>{let{index:r,style:n}=t;if(h[r]&&h[r].type===a.tag)return(0,o.jsx)(S.kC,{sx:{...n,my:2,mt:4},children:(0,o.jsx)(d.xv,{category:"h6",textTransform:"capitalize",children:"".concat(h[r].title)})});if(h[r]&&h[r].type===a.lesson||I[r].type===a.lesson){let t=0===T.length?h[r].id:I[r].id,i=e.currentCourseLessons.lessonDetails[t];return i&&e.currentCourseMockTests&&e.currentCourseMockTests.mockTestDetails[i.mockTestId]&&e.currentCourseMockTests.mockTestDetails[i.mockTestId].mockTestStatus,e.currentCourseCompletionStats&&e.currentCourseCompletionStats.includes(t),(0,o.jsx)(S.xu,{sx:{...n,py:0},children:i&&(0,o.jsx)(conceptsSyllabus_Lesson,{index:r,title:i.lessonTitle,courseId:s,sectionId:i.sectionId,currentLesson:e.currentLessonId,lessonId:i.id,inPlayer:e.inPlayer,doSetCurrentLesson:e.doSetCurrentAccessingLesson,courseSeoTitle:e.currentCourseSeoTitle,handleScroll:handleScroll,currentBundleId:e.currentBundleId,currentBundleSeoTitle:e.currentBundleSeoTitle,currentTestSeriesLessonId:e.currentTestSeriesLessonId,currentLessonPlayerQuizState:e.currentLessonPlayerQuizState,doClearCourseData:e.doClearCourseData,currentProductType:e.currentProductType})})}return null},E={shouldSort:!0,tokenize:!0,threshold:.4,location:0,distance:10,maxPatternLength:32,minMatchCharLength:3,keys:["lessonTitle"]},searchNavigation=(t,o,r)=>{let n={lessonId:e.currentLessonId,sectionId:e.currentCourseSectionId,productSeo:e.currentBundleSeoTitle?e.currentBundleSeoTitle:e.currentCourseSeoTitle,subProductSeo:e.currentBundleSeoTitle?e.currentCourseSeoTitle:null,search:r?"":m},i={bundleId:e.currentBundleId,courseId:s,sectionId:e.currentCourseSectionId,lessonId:e.currentLessonId,courseType:e.currentProductType,search:r?"":m};g().replace({pathname:t,query:i},o(n),{shallow:!0})},onClickIcon=t=>{e.inPlayer||m&&e.userEnrollmentState===i.ri.PURCHASED||e.inPlayer&&e.userEnrollmentState===i.ri.NOT_ENROLLED?searchNavigation(er.y4.lessonPlayer,er.XC.lessonPlayer,t):m&&e.userEnrollmentState===i.ri.NOT_ENROLLED&&(e.currentBundleSeoTitle?searchNavigation(er.y4.bundleCourseSales,er.XC.bundleCourseSales,t):searchNavigation(er.y4.courseSales,er.XC.courseSales,t));let s=Object.values(e.currentCourseLessons.lessonDetails),o=new(ev())(s,E),r=o.search(m);if(!t){if(m&&0===r.length)f(!0),b(r);else{b(r);let t=[];r.filter((s,o)=>e.currentCourseLessons.lessonIds.find((e,o)=>{if(e===s.id){let e={type:1,id:s.id,dataId:o,parentId:s.sectionId};t.push(e)}})),k(t),f(!1)}}},clearSearch=()=>{b([]),k([]),D(""),onClickIcon(!0),f(!1)},w=e.data.filter(e=>e.type===a.section),A=w.map(t=>{let s=e.currentCourseSections.sectionDetails[t.id];return{value:t.id,label:null==s?void 0:s.sectionTitle}});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(S.xu,{mt:2}),(0,o.jsx)(d.xv,{category:"h4",children:t("result:selectSection")}),(0,o.jsx)(S.xu,{mt:2}),(0,o.jsx)(S.xu,{mx:0,children:(0,o.jsx)(d.Ph,{onChange:e=>selectSection(null==e?void 0:e.value,0,"0"),options:A,defaultValue:e.currentCourseSections.sectionDetails[e.currentSelectedSectionId]?{value:e.currentCourseSections.sectionDetails[e.currentSelectedSectionId].id,label:e.currentCourseSections.sectionDetails[e.currentSelectedSectionId].sectionTitle}:{value:"",label:""}})}),(0,o.jsx)(S.xu,{pt:4}),l&&(0,o.jsx)(S.kC,{px:e.inPlayer?1:0,children:(0,o.jsx)(S.xu,{mx:e.inPlayer?1:4,sx:{width:"100%"},children:(0,o.jsx)(d.nv,{onFocus:()=>{n&&n(!0)},onBlur:()=>{n&&n(!1)},name:"search",type:"text",placeholderText:t("searchHere"),onChange:e=>D(e.target.value),value:m,onKeyDown:e=>"Enter"===e.key&&onClickIcon(!1),icon:m?j.q.closeCircle:void 0,iconPosition:"follow",onClickIcon:clearSearch})})}),(0,o.jsx)(S.xu,{id:"syllabus-list",sx:{borderRadius:"syllabus",overflow:"hidden",minWidth:18,height:e.inPlayer?"105%":"auto"},children:L?(0,o.jsxs)(S.xu,{mt:7,sx:{textAlign:"center"},children:[(0,o.jsx)(d.xv,{category:"h5",textTransform:"capitalize",children:t("noResultsFound")}),(0,o.jsx)(S.xu,{my:1}),(0,o.jsx)(d.xv,{category:"p1",children:t("tryAgain")})]}):e.fixHeight?(0,o.jsx)(X.Z,{children:e=>{let{height:t,width:s}=e;return(0,o.jsx)(eh.S_,{ref:P,itemSize:getItemSize,itemCount:0===T.length?h.length:I.length,height:t,width:s,itemData:0===T.length?h:I,children:renderer})}}):(0,o.jsx)(X.Z,{disableHeight:!0,children:e=>{let{width:t}=e;return(0,o.jsx)(eh.S_,{ref:P,itemSize:getItemSize,itemCount:0===T.length?h.length:I.length,height:0===T.length?eC.R5.itemHeight*h.length:eC.R5.itemHeight*I.length,width:t,itemData:0===T.length?h:I,children:renderer})}})})]})}),molecules_DashboardTab=e=>{let{setAttachmentModalState:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eu(),{id:"b6704e8c05eea684",children:".sticky-tabs{position:-webkit-sticky;position:-moz-sticky;position:-o-sticky;position:-ms-sticky;position:-webkit-sticky;position:sticky}"}),(0,o.jsx)(S.xu,{px:2,py:2,bg:"surface",children:(0,o.jsx)(S.xu,{sx:{overflow:"auto",height:"100%",width:"100%",display:["auto","auto","none"]},children:(0,o.jsx)(em,{inPlayer:!0,fixHeight:!1,setAttachmentModalState:t})})})]})},eD=s(95563),eT=syllabusAdapter(e=>{(0,r.useRef)();let t=new URLSearchParams(window.location.search),s=(0,C.useRouter)(),renderer=r=>{let{index:n,data:l}=r,a=l[n],c=e.currentCourseLessons.lessonDetails[a],u=e.currentAuthorData&&e.currentAuthorData.authorsData;return(0,o.jsx)(S.xu,{sx:{},children:(0,o.jsx)(eD.HC,{primaryText:c.lessonTitle,secondaryText:u?"".concat(u&&u[0].authorName).concat(u&&u.length>1?" + ".concat(u.length-1):""):void 0,listItemType:u?"two-line":"one-line",onClick:()=>{if(e.currentLessonId===a)return;e.doSetCurrentAccessingLesson({courseId:e.currentCourseId,sectionId:c.sectionId,lessonId:a},a);let o={lessonId:a,sectionId:c.sectionId,productSeo:e.currentBundleSeoTitle||e.currentCourseSeoTitle,subProductSeo:e.currentBundleSeoTitle?e.currentCourseSeoTitle:null,template:t.get("template"),disableLessonChange:!0};s.replace({pathname:er.y4.lessonPlayer,query:{bundleId:e.currentBundleId,courseId:e.currentCourseId,courseType:e.currentProductType===i.courseType.TEST_SERIES?i.courseType.TEST_SERIES:i.courseType.COURSE,sectionId:c.sectionId,lessonId:a,template:t.get("template"),disableLessonChange:!0}},er.XC.lessonPlayer(o),{shallow:!0})},metaDataType:e.currentLessonId===a?"component":"none",supportedVisualType:"small-thumbnail",supportedVisualSource:c.lessonThumbnailSrc,supportedVisualAltText:c.lessonTitle[0],hasDivider:!0,isSelected:e.currentLessonId===a,metaDataOptions:{metaComponent:(0,o.jsx)(S.kC,{id:"play",sx:{alignItems:"center",height:"100%",flexDirection:"column",justifyContent:"center"},children:(0,o.jsx)(d.tv,{icon:"Play",fontSize:"c1"})})}})})};return(0,o.jsx)(d.Ar,{level:"2",style:{width:"100%",height:"100%"},children:e.currentCourseSections.sectionIds.map(t=>e.currentCourseSections.sectionDetails[t]).map(e=>{let{lessonIds:t}=e;return(0,o.jsxs)(S.xu,{sx:{width:"100%"},children:[(0,o.jsx)(d.xv,{sx:{width:"100%",padding:6},category:"h6",children:e.sectionTitle}),t.map((e,s)=>renderer({data:t,index:s}))]})})})});let PodcastSidebar=e=>{let{t}=(0,u.$)("product"),{width:s}=(0,N.iP)();return!e.isMobileSyllabus&&(null!=s?s:0)<eC.FS.tablet?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(S.xu,{id:"podcastPlaylistDesktop",as:"section",sx:{display:"flex",width:e.isMobileSyllabus?"100%":19,height:"100%",flexDirection:"column",alignItems:"stretch"},children:[(0,o.jsxs)(S.kC,{sx:{alignItems:"center",flex:"0 0 56px",px:6,borderBottom:"1px solid",borderBottomColor:"border-basic-color-4",justifyContent:"space-between"},children:[(0,o.jsx)(d.xv,{category:"h5",children:t("newsfeed:upNext")}),e.isMobileSyllabus&&(0,o.jsx)(S.xu,{onClick:()=>e.closePlaylist(),children:(0,o.jsx)(d.tv,{fontSize:"h5",icon:j.q.close})})]}),(0,o.jsx)(S.xu,{sx:{flex:1,overflow:"auto"},children:(0,o.jsx)(eT,{fixHeight:!0,inPlayer:!0,setPlayerFocusState:e.setPlayerFocusState,signedUrlAuthToken:e.signedUrlAuthToken,setAttachmentModalState:e.setAttachmentModalState,isSearchShown:e.isSearchShown})})]})};let ConceptsDashboard=class ConceptsDashboard extends r.Component{componentDidMount(){var e,t;window.addEventListener("fullscreenchange",this.handleFullscreenChange,!0),null===(t=this.props)||void 0===t||null===(e=t.helpers)||void 0===e||e.hideExternalScript()}componentDidUpdate(e,t){console.log("courseDashboard props:",this.props),console.log("courseDashboard state:",this.state),g().query.search&&!t.isSearchShown&&this.setState({isSearchShown:!0}),e.data.courseData.currentLessonId!==this.props.data.courseData.currentLessonId&&this.setState({showPlaylistModal:!1})}componentWillUnmount(){var e,t;window.removeEventListener("fullscreenchange",this.handleFullscreenChange,!0),null===(t=this.props)||void 0===t||null===(e=t.helpers)||void 0===e||e.enableExternalScript()}getAspectRatio(){let{isFullScreen:e}=this.state;return e&&!this.state.isLivePlayerMode?window.screen.width/window.screen.height:16/9}setPLayerSemiFullScreenState(e){let{isSemiFullScreen:t}=this.state;t!==e&&this.setState({isSemiFullScreen:e||!1})}handleFullscreenChange(){document.fullscreenElement?(this.setState({isFullScreen:!0}),console.log("handleFullscreenChange Element: ".concat(document.fullscreenElement.id," entered full-screen mode."))):(this.setState({isFullScreen:!1}),console.log("handleFullscreenChange Leaving full-screen mode."))}setAttachmentModalState(e,t,s,o,r,n){this.setState({attachmentModalState:e,attachmentUrls:t,attachmentLessonId:s,attachmentLessonTitle:o,isAttachmentDisabled:r,resourceLessonId:n})}render(){var e,t,s,r,n,i,l,a,c;this.statusContainerHeight=(null===(t=this.statusContainerRef)||void 0===t?void 0:null===(e=t.current)||void 0===e?void 0:e.clientHeight)||this.statusContainerHeight;let{t:u,theme:h,footerData:p,callbacks:v,refsToForward:C}=this.props,{onEditReview:g}=null===(s=this.props)||void 0===s?void 0:s.courseFeatureCallbacks,{courseData:x,enrollmentButtonData:y,dashAndSalesBoardHelpers:D,courseFeatureData:T,isMobileDevice:b,isTaxEnabled:I,isSubscriptionMode:k,openTestInNewWindow:L,openTestInSameWindow:f}=this.props.data,{userEnrollmentState:P,currentBundleSeoTitle:E,currentCourseDetails:w,currentLessonId:A,currentCourseSections:j,currentCourseSeoTitle:F}=x,R=null===(r=this.props)||void 0===r?void 0:r.callbacks,{lessons:B,mockTests:N}=w,{sharedIsUserLoggedIn:U}=this.props.data.sharedInfo,O=w.courseType===m.Dl.TEST_SERIES;O&&(null==D||D.getTestCompletionPercentage(j),testSeriesAvgScore=null==D?void 0:D.calculateAvgPercent(null==w?void 0:w.mockTests));let{isSemiFullScreen:M,isLivePlayerMode:H,isSearchShown:z}=this.state,W=this.getAspectRatio(),G=new URLSearchParams(window.location.search),q=G.get("embedPlayer"),V=!!q,Q=G.get("template"),K="2"===Q;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(_.Global,{styles:()=>({"html, #syllabus-list div":{scrollBehavior:"smooth"}})}),(0,o.jsxs)(S.kC,{id:"lesson-player",as:"main",sx:{overflow:"hidden",position:"sticky",top:0,height:"100vh",width:"100%",backgroundColor:"background-basic-color-2"},children:[(0,o.jsxs)(S.xu,{as:"section",ref:e=>{var t;let s=document.getElementById("podcastPlaylist");(null!==(t=null==e?void 0:e.getBoundingClientRect().width)&&void 0!==t?t:0)<eC.FS.tablet&&s&&(s.style.display="none")},sx:{display:["flex","initial"],overflowY:["hidden","scroll"],position:"static",flexGrow:1,flexDirection:"column",width:["100%","100%",this.state.showLiveChat?"70%":"100%"],height:["100vh","100%"]},children:[(0,o.jsxs)(S.xu,{sx:{flexGrow:1,height:["auto","auto","100%"]},children:[(0,o.jsx)(S.xu,{id:"player-header",sx:{boxShadow:"default"},children:(0,o.jsx)(PlayerHeader_PlayerHeader,{title:w.courseTitle||"",courseId:w.courseId,sharedIsUserLoggedIn:U,enrollmentState:P,isReviewsEnabled:w.isReviewsEnabled,currentReviewData:null==T?void 0:T.courseReviewData,setPlayerFocusState:this.setPlayerFocusState,currentBundleSeoTitle:E||"",currentCourseSeoTitle:F||"",goToCourseDashboard:R.goToCourseDashboard,goBack:null==v?void 0:v.goBack,onHandleAddReview:g,showPlaylist:null==R?void 0:R.showPlaylist})}),(0,o.jsx)(d.oM,{ratio:W,isSemiFullScreen:M||K,sx:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"border-basic-color-4"},children:O?(0,o.jsx)(TestSeriesPlayer_TestSeriesPlayer,{sharedIsUserLoggedIn:U,enrollmentButtonData:y.data,isTaxEnabled:I,isSubscription:k,setPlayerSemiFullScreenState:this.setPLayerSemiFullScreenState,openTestInNewWindow:L,openTestInSameWindow:f,checkMoreOptions:null===(i=this.props)||void 0===i?void 0:null===(n=i.helpers)||void 0===n?void 0:n.checkMoreOptions,openQuizPlayer:null===(a=this.props)||void 0===a?void 0:null===(l=a.helpers)||void 0===l?void 0:l.openQuizPlayer,playerCallbacks:R,courseData:x}):(0,o.jsx)(LessonPlayer_LessonPlayer,{isEmbedPlayer:V,isPodcastPlayer:K,forwardedRef:C,sharedIsUserLoggedIn:U,setPLayerSemiFullScreenState:this.setPLayerSemiFullScreenState,isSemiFullScreen:this.state.isSemiFullScreen,isPlayerOutOfFocus:this.state.isPlayerOutOfFocus,userEnrollmentState:P,toogleLivePlayerMode:e=>this.toogleLivePlayerMode(e,b),toogleLiveChatDisplay:this.toogleLiveChatDisplay,showLiveChat:this.state.showLiveChat,liveServerData:{liveStatus:this.state.liveStatus},switchToBookmarkTab:this.switchToBookmarkTab,currentProductDetails:w,playerData:null===(c=this.props)||void 0===c?void 0:c.data,playerCallbacks:{...R,showPlaylist:this.showPlaylist},enrollmentButtonData:y.data,isTaxEnabled:!!I,isSubscription:k,playerHelpers:this.props.helpers})})]}),!V&&!K&&!(M||H)&&(0,o.jsx)(S.xu,{id:"dashboardTab",mb:1,sx:{overflow:["scroll","hidden"],overflowX:"hidden",height:V?"0%":["100%","auto"],backgroundColor:"background-basic-color-2"},children:(0,o.jsx)(molecules_DashboardTab,{setAttachmentModalState:this.setAttachmentModalState})})]}),!K&&(0,o.jsx)(S.kC,{as:"section",sx:{overflow:"hidden",display:["none","none","initial"],borderLeftWidth:1,borderLeftColor:"border-basic-color-4",borderLeftStyle:"solid",height:"100%",width:V?"0%":["0%","0%","30%"],minWidth:V?"0%":[0,0,null==h?void 0:h.sizes[18]],flexDirection:"column"},children:(0,o.jsx)(S.xu,{px:4,pb:159,sx:{overflow:"hidden",zIndex:3,minWidth:null==h?void 0:h.sizes[18],height:"100%",width:"100%"},children:(0,o.jsx)(em,{fixHeight:!0,inPlayer:!0,setPlayerFocusState:this.setPlayerFocusState,signedUrlAuthToken:w.signedUrlAuthToken,setAttachmentModalState:this.setAttachmentModalState,isSearchShown:z})})}),!!K&&(0,o.jsx)(PodcastSidebar,{setPlayerFocusState:this.setPlayerFocusState,signedUrlAuthToken:w.signedUrlAuthToken,setAttachmentModalState:this.setAttachmentModalState,isSearchShown:z}),this.state.showPlaylistModal&&(0,o.jsx)(d.u_,{isOpen:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>this.setState({showPlaylistModal:!1}),contentStyle:{padding:0,margin:0,width:"100%",height:"100%",overflow:"auto",display:"flex"},overlayStyle:{padding:0},children:(0,o.jsx)(PodcastSidebar,{isMobileSyllabus:!0,setPlayerFocusState:this.setPlayerFocusState,signedUrlAuthToken:w.signedUrlAuthToken,setAttachmentModalState:this.setAttachmentModalState,isSearchShown:z,closePlaylist:()=>this.setState({showPlaylistModal:!1})})})]})]})}constructor(e){super(e),this.setPlayerFocusState=e=>{this.setState({isPlayerOutOfFocus:e||!1})},this.toogleLivePlayerMode=(e,t)=>{e||this.setState({liveStatus:D.yie.IDLE,liveServerName:null}),this.setState({isLivePlayerMode:e}),t||this.setState({isSemiFullScreen:e})},this.toogleLiveChatDisplay=()=>{console.log("courseDashboard toggleLiveChatDisplay state",this.state),this.setState({showLiveChat:!this.state.showLiveChat})},this.updateLiveStatus=e=>{console.log("courseDashboard updateLiveStatus data, state",e,this.state),this.setState({liveStatus:e.liveStatus})},this.switchToBookmarkTab=e=>{this.setState({enableBookmarkTab:e})},this.toggleSearch=()=>{this.setState({isSearchShown:!this.state.isSearchShown})},this.showPlaylist=()=>{this.setState({showPlaylistModal:!0})},this.state={isFullScreen:!1,isSemiFullScreen:!1,isPlayerOutOfFocus:!1,attachmentModalState:!1,attachmentUrls:{},attachmentLessonId:0,attachmentLessonTitle:"",isAttachmentDisabled:!1,isLivePlayerMode:!1,liveStatus:D.yie.IDLE,liveServerName:null,enableBookmarkTab:!1,showLiveChat:!0,isSearchShown:!1,resourceLessonId:0},this.statusContainerRef=r.createRef(),this.statusContainerHeight=null,this.setPLayerSemiFullScreenState=this.setPLayerSemiFullScreenState.bind(this),this.handleFullscreenChange=this.handleFullscreenChange.bind(this),this.setAttachmentModalState=this.setAttachmentModalState.bind(this)}};let ConceptsDashboardPage=class ConceptsDashboardPage extends r.Component{render(){var e,t,s,r;let{courseData:n,courseFeatureData:i}=this.props.data;return n.currentCourseFetchStatus!==D.iFP.IN_PROGRESS&&n.currentCourseAccessDataFetchStatus!==D.iFP.IN_PROGRESS&&n.currentCourseFetchStatus!==D.iFP.IDLE&&n.currentCourseSections&&n.currentCourseDetails?(0,o.jsx)(ConceptsDashboard,{data:null===(e=this.props)||void 0===e?void 0:e.data,callbacks:this.props.callbacks,refsToForward:null===(t=this.props)||void 0===t?void 0:t.refsToForward,helpers:null===(s=this.props)||void 0===s?void 0:s.helpers,learnyComponents:this.props.learnyComponents,allDashboardSalesCallbacks:this.props.allDashboardSalesCallbacks,courseFeatureCallbacks:this.props.courseFeatureCallbacks,i18n:this.props.i18n,t:this.props.t,theme:this.props.theme,footerData:null===(r=this.props)||void 0===r?void 0:r.footerData}):(0,o.jsx)(W.gb,{})}constructor(e){super(e)}};var eb=connectToStore((0,ea.$j)(e=>({data:e.data}))((0,v.Z)((0,p.Z)(["common","product"])(ConceptsDashboardPage))),e=>{let{currentCourseFetchStatus:t}=e.data.courseData;return t!==D.iFP.IDLE&&t!==D.iFP.IN_PROGRESS}),eI=s(20250),ek=s(24164),eL=s(67717),ef=s(37648),eP=s(84876),eE=s(57459),ew=s(64357),eA=s(40868),ej=s(31359),eF=s(81851),eR=s(73704),eB=s(67267);let PlayerUtils=class PlayerUtils{getIsPlayerDataFetching(e,t){let s=!1;return(e===ef.UK.IN_PROGRESS||t===ef.UK.IN_PROGRESS||e===ef.UK.IDLE)&&(s=!0),s}getIsPlayerDataFetchingFailed(e){let t=!1;return e===ef.UK.FAILED&&(t=!0),t}getIsCourseDataAccessFetchingFailed(e){let t=!1;return e===ef.UK.FAILED&&(t=!0),t}getCanShowRatingCard(e){let t=!1;return(e===i.ri.PURCHASED||e===i.ri.ENROLLED)&&(t=!0),t}getIsContentDripEnabledAndNotReleased(e){return!!e&&!!e.dripData&&!e.dripData.isReleased}getIsArticleScromTinCanLesson(e){if(e&&e.lessonType)switch(e.lessonType){case i.A.SCORM_TINCAN:case i.A.LIVE:case i.A.ARTICLE:return!0}return!1}isDownloadEnabled(e,t){let s=eB.Oh[t],o={[ef.vO.DEVICE_ANDROID]:s.ANDROID_APP,[ef.vO.DEVICE_IOS]:s.IOS_APP,[ef.vO.DEVICE_WINDOWS]:s.WINDOWS_APP,[ef.vO.DEVICE_MAC]:s.MAC_APP};return((null==e?void 0:e.downloadSupportedDevicesBinIntValue)&o[eR.OS])!=0}getIsMandatoryDownloadAndPlayEnabled(e){return this.isDownloadEnabled(e,"DONWLOAD_AND_PLAY")}getIsOptionalDownloadOrPlayEnabled(e){return this.isDownloadEnabled(e,"DOWNLOAD_OR_PLAY")}constructPlayerData(e,t,s,o){var r,n,i,l,a,c,d,u,h,p,v,S,C;let{currentCourseDetails:g,currentCourseSections:x,userEnrollmentState:y,currentCourseId:m,currentCourseSeoTitle:T,currentCourseFetchStatus:b,currentCourseAccessDataFetchStatus:I,currentCourseSectionId:k,currentLessonId:L,currentCourseTitle:f,currentBundleTitle:P,currentLessonTitle:E,currentSectionTitle:w,isCourseFree:A,currentCoursePlayTimeRestrictionDetails:j,shouldCurrentLessonShowPlayTime:F,currentPaymentState:R,paymentFetchStatus:B,sharedUserName:N,sharedUserId:U,sharedUserEmail:O,sharedUserMobileNum:_,noteBookLastRequestStatus:M,noteBookLastRequestId:H,currentCourseError:z,currentCourseContentSignedUrl:W,currentBundleSeoTitle:G,currentLessonDetails:q,currentBundleId:V,currentCourseCompletionStats:Q,courseCompletionData:K,currentLessonPosition:Z,currentLessonBookMarks:X,currentLessonSlides:$,hasAccessToPlay:Y,playerDataOfCurrentLesson:J,initialSlideIndexForPayer:ee,initialSlideSeekPosForPayer:et,currentBookMarkIdTs:es,lastBookmarkModifiedTime:eo,sharedWaterMarkMsg:er,sharedWaterMarkStatus:en,sharedIsWatermarkEnabled:ei,sharedIsUserDataWaterMarkDisabled:el,sharedAuthToken:ea,downloadData:ec,downloaderError:ed,isFileScanCompleted:eu,serverTimeOffset:eh,hasNoLessons:ep,sharedIsUserLoggedIn:ev,currentCourseLessons:eS,autoScrollLessonTs:eC,currentBundleDetails:eg,userSelectedDownloadDir:ex,currentCourseDownloadSignedUrl:ey,canDownloadCourse:em,isOnline:eD,allDiscussionsData:eT,noteBooks:eb,moreViewData:eI,moreViewCallbacks:ek,data:eL,callbacks:eP,currentCoursePricing:eE,isCourseExpired:ew,isCoursePrivate:eA,isSellIndividualEnabled:ej,sharedUserProfilePhoto:eB,downloadQuality:eN,courseFeatureData:eU,currentLessonPlayerQuizState:eO,attachmentData:e_,footer:eM,navigationData:eH,forceLegacyDrm:ez,sharedIsUserIsActive:eW,autoEnrollmentData:eG,userRoleType:eq,isAutoPlayEnabledForLesson:eV,currentAccesingLessons:eQ,esignRedirectionUrl:eK,esignSuccessData:eZ}=e,{lastNoteBookRequestId:eX,isLivePlayerMode:e$,liveStatus:eY,liveServerName:eJ,cacheListIds:e0,constructedDownloadedData:e1,currentAccessingLessonDownloadStatus:e2}=t,e4={navigationData:null==e?void 0:e.navigationData,isSubscriptionMode:this.isSubscriptionMode,searchQuery:eH.search,isOTPMode:this.isOTPMode,moreViewData:eI,courseFeatureData:eU,moreViewCallbacks:ek,dashAndSalesBoardHelpers:s,courseFeatureHelpers:o,courseData:{isCoursePrivate:eA,isCourseExpired:ew,isSellIndividualEnabled:ej,currentCoursePricing:eE,currentCourseDetails:g,isNotesEnabled:null==g?void 0:g.isNotesEnabled,currentCourseSections:x,userEnrollmentState:y,currentCourseId:m,currentCourseSeoTitle:T,currentCourseError:{errorMessage:null==z?void 0:z.errorMessage,errorCode:null==z?void 0:z.errorCode},currentCourseFetchStatus:b,currentCourseAccessDataFetchStatus:I,currentCourseSectionId:k,currentLessonId:L,currentCourseTitle:f,currentBundleTitle:P,currentLessonTitle:E,currentSectionTitle:w,currentBundleDetails:eg,isCourseFree:A,currentCourseContentSignedUrl:W,currentBundleSeoTitle:G,currentLessonDetails:q,currentBundleId:V,currentCourseCompletionStats:Q,courseCompletionData:K,currentLessonPosition:Z,currentLessonSlides:$,hasAccessToPlay:Y,playerDataOfCurrentLesson:J,initialSlideIndexForPayer:ee,initialSlideSeekPosForPayer:et,downloadData:ec,downloaderError:ed,isFileScanCompleted:eu,serverTimeOffset:eh,hasNoLessons:ep,currentCourseLessons:eS,autoScrollLessonTs:eC,userSelectedDownloadDir:ex,downloadQuality:eN,currentCourseDownloadSignedUrl:ey,canDownloadCourse:em,currency:eF.customerConfig.CURRENCY,currentLessonPlayerQuizState:eO,forceLegacyDrm:ez,slidesResumeData:e.resumeMediaCurrentLessonSlidePositions,isAutoPlayEnabledForLesson:eV,currentAccesingLessons:eQ,cacheListIds:e0,recentlyAddedLessonsData:null==e?void 0:e.recentlyAddedLessonsData,recentlyAddedLessonsDataFetchStatus:null==e?void 0:e.recentlyAddedLessonsDataFetchStatus,recentlyAddedLessonsDataError:null==e?void 0:e.recentlyAddedLessonsDataError},playTimeRestrictionDetails:{currentCoursePlayTimeRestrictionDetails:j,shouldCurrentLessonShowPlayTime:F},paymentState:{currentPaymentState:R,paymentFetchStatus:B},sharedInfo:{sharedUserProfilePhoto:eB,sharedUserName:N,sharedUserId:U,sharedUserEmail:O,sharedUserMobileNum:_,sharedWaterMarkMsg:er,sharedIsWatermarkEnabled:ei,sharedAuthToken:ea,sharedIsUserLoggedIn:ev,isOnline:eD,sharedIsUserDataWaterMarkDisabled:el,sharedWaterMarkStatus:en,sharedIsUserIsActive:eW,userRoleType:eq},notesAndBookmarkDetails:{noteBookLastRequestStatus:M,noteBookLastRequestId:H,currentBookMarkIdTs:es,lastBookmarkModifiedTime:eo,currentLessonBookMarks:X},enrollmentButtonData:{data:{isFromPlayer:!0,schoolPricingModel:eF.customerConfig.pricing_model,showEnrollButton:null===(r=eL.courseAccessData)||void 0===r?void 0:r.showEnrollButton,isCourseExpired:null===(n=eL.courseAccessData)||void 0===n?void 0:n.isCourseExpired,isCoursePrivate:null===(i=eL.courseAccessData)||void 0===i?void 0:i.isCoursePrivate,isSellIndividualEnabled:null!==(S=null===(l=eL.courseData)||void 0===l?void 0:l.isSellIndividualEnabled)&&void 0!==S&&S,bundleId:null!==(C=null===(a=eL.courseData.bundleDetails)||void 0===a?void 0:a.courseId)&&void 0!==C?C:0,sharedIsUserLoggedIn:ev,showIosRedirectModal:null===(c=eL.paymentData)||void 0===c?void 0:c.showIosRedirectModal,hasAccessToPlay:null===(d=eL.courseAccessData)||void 0===d?void 0:d.hasAccessToPlay,isEnrolling:null===(u=eL.paymentData)||void 0===u?void 0:u.isEnrolling,isPaymentFetchStateIsInProgress:B===ef.UK.IN_PROGRESS,isCourseAvailableForTrial:null===(h=eL.courseAccessData)||void 0===h?void 0:h.isCourseAvailableForTrial,isUserActionBuyNotPurchased:null===(p=eL.courseAccessData)||void 0===p?void 0:p.isUserActionBuyNotPurchased,currentCourseHasAccessToPlayOnCurrentDevice:null===(v=eL.courseAccessData)||void 0===v?void 0:v.currentCourseHasAccessToPlayOnCurrentDevice,autoEnrollmentFetchStatus:eG.fetchStatus,autoEnrollmentError:eG.error},callbacks:eP.paymentCallbacks},playerUiState:{IsPlayerDataFetching:this.getIsPlayerDataFetching(b,I),IsPlayerDataFetchingFailed:this.getIsPlayerDataFetchingFailed(b),IsCourseDataAccessFetchingFailed:this.getIsCourseDataAccessFetchingFailed(I),canShowRatingCard:this.getCanShowRatingCard(y),IsContentDripEnabledAndNotReleased:this.getIsContentDripEnabledAndNotReleased(q),IsArticleScromTinCanLesson:this.getIsArticleScromTinCanLesson(q),lastNoteBookRequestId:eX,isLivePlayerMode:e$,liveStatus:eY,liveServerName:eJ,constructedDownloadedData:e1,currentAccessingLessonDownloadStatus:e2},playerCustomerConfigData:{NAME:eF.customerConfig.name,SCHOOL_ID:eF.customerConfig.SCHOOL_ID,hide_chat_user_presence:eF.customerConfig.hide_chat_user_presence},allDiscussionsData:eT,noteBooks:eb,footer:eM,isMobileDevice:(0,eR.s2)(),isBookmarksEnabled:!!Number(eF.customerConfig.bookmarks),isTaxEnabled:eF.customerConfig.tax===D.E_3.POST_GST_TAX&&eF.customerConfig.CURRENCY===D.pKx.CURRENCY_INR,openTestInNewWindow:eF.customerConfig.open_test_in_new_window,openTestInSameWindow:eF.customerConfig.open_practice_quiz_in_same_window,attachmentData:e_,currentAuthorData:e.currentAuthorData,isDesktopApp:eR.OS===ef.vO.DEVICE_WINDOWS||eR.OS===ef.vO.DEVICE_MAC,isMandatoryDownloadAndPlayEnabled:this.getIsMandatoryDownloadAndPlayEnabled(g),isOptionalDownloadOrPlayEnabled:this.getIsOptionalDownloadOrPlayEnabled(g),isMacApp:eR.OS===ef.vO.DEVICE_MAC,esignRedirectionUrl:eK,esignSuccessData:eZ};return e4}constructor(){this.isSubscriptionMode=eF.customerConfig.pricing_model===ef._n.SUBSCRIPTION_TYPE,this.isOTPMode=eF.customerConfig.pricing_model===ef._n.ONE_TIME_PAYMENT}};var eN=s(61334),eU=s(42040),eO=s(53794),e_=s(44845);let PlayerHelper=class PlayerHelper{getIsPlayerDataFetching(e,t){let s=!1;return(e===ef.UK.IN_PROGRESS||t===ef.UK.IN_PROGRESS||e===ef.UK.IDLE)&&(s=!0),s}getIsPlayerDataFetchingFailed(e){let t=!1;return e===ef.UK.FAILED&&(t=!0),t}getIsCourseDataAccessFetchingFailed(e){let t=!1;return e===ef.UK.FAILED&&(t=!0),t}getCanShowRatingCard(e){let t=!1;return(e===i.ri.PURCHASED||e===i.ri.ENROLLED)&&(t=!0),t}getIsContentDripEnabledAndNotReleased(e){return!!e&&!!e.dripData&&!e.dripData.isReleased}getIsArticleScromTinCanLesson(e){if(e&&e.lessonType)switch(e.lessonType){case i.A.SCORM_TINCAN:case i.A.LIVE:case i.A.ARTICLE:return!0}return!1}constructor(){this.hideExternalScript=eo._y,this.enableExternalScript=eo.ET,this.openQuizPlayer=eO.Px,this.checkMoreOptions=e_.X6}};var eM=s(22944),eH=s(13486);function PlayerAdapter(e){let PlayerAdapterComponent=class PlayerAdapterComponent extends r.Component{async componentDidMount(){this.initializePreviousListIds(),this.resumeLesson(),(eo.OS===eo.vO.DEVICE_WINDOWS||eo.OS===eo.vO.DEVICE_MAC)&&(this.initializeDownloadStatusListener(),await this.constructDownloadedDataForPlayer()),this.checkPersistedStreakDataExpiry()}getNextTrialLessonData(e){return this.state.cacheListIds.nextTrialLessonDetails[e]||null}shouldComponentUpdate(e,t,s){return this.props.userLikesFetchStatus===e.userLikesFetchStatus||e.userLikesLastRequestContentType===eU.Hz.LESSON}unsetUserEnrollAction(){this.props.doUnsetUserEnrollAction()}handleExitFromPlayer(){return this.props.currentPaymentState===eN.tm.PAYMENT_VERIFY&&this.props.paymentFetchStatus===ef.UK.IN_PROGRESS}getCurrentPosition(){return this.lstSliderComp&&this.lstSliderComp.current&&this.lstSliderComp.current.sliderRef&&this.lstSliderComp.current.sliderRef.getCurrentPosition?this.lstSliderComp.current.sliderRef.getCurrentPosition():{currentSlide:0,currentVideoTime:0,key:null}}onGoToNextLesson(e){var t,s;let{currentCourseSections:o,currentCourseSectionId:r,currentCourseDetails:n}=this.props;if(!o||!r){console.log("onGoToNextLesson : invalid currentCourseSections");return}let{sectionIds:l}=o,a=l.indexOf(r);if(a<0||!(null==o?void 0:null===(t=o.sectionDetails)||void 0===t?void 0:t[r])){console.log("onGoToNextLesson : invalid currentCourseSections");return}let c=n.isSequentialPathEnabled;if(c&&n.enrollmentState===D.T_M.ENROLLED){this.onGoToNextTrialLesson(e);return}let d=o.sectionDetails[r].lessonIds,u=d.indexOf(e);u===d.length-1&&a!==l.length-1?(a+=1,u=0):u+=1;let h=l[a],p=o.sectionDetails[h].lessonIds[u],{currentCourseId:v}=this.props,S={courseId:v,sectionId:h,lessonId:p,autoScrollLessonTs:new Date().getTime()};p&&h&&this.props.doSetCurrentAccessingLesson(S,p);let C={bundleId:null===(s=this.props)||void 0===s?void 0:s.currentBundleId,courseId:v,courseType:i.courseType.COURSE,sectionId:h,lessonId:p},g={productSeo:this.props.currentBundleSeoTitle||this.props.currentCourseSeoTitle,subProductSeo:this.props.currentBundleSeoTitle?this.props.currentCourseSeoTitle:null,sectionId:h,lessonId:p};(0,ew.aO)(C,g)}async componentDidUpdate(e){let{currentCourseId:t,lastAccessedLessons:s,currentCourseSectionId:o,currentLessonId:r,currentBundleId:n,navigationCurrentScreen:i,isSemiFullScreen:l,currentBundleDetails:a,navigationData:c}=this.props;if(e.currentLessonId!==this.props.currentLessonId&&(eo.OS===eo.vO.DEVICE_WINDOWS||eo.OS===eo.vO.DEVICE_MAC)&&await this.constructDownloadedDataForPlayer(),e.currentLessonId!==this.props.currentLessonId||e.resumeMediaCurrentLessonPosition!==this.props.resumeMediaCurrentLessonPosition){this.updateLastAccessedLesson(),this.resumeLesson();return}if(o&&r&&t&&i===ef.navigatorScreens.COURSE_DETAILS){let e=0,i=0;if(this.props.currentCourseCompletionStats&&this.props.completedLessonData&&([e]=this.props.currentCourseCompletionStats,this.props.completedLessonData[e]&&(i=this.props.completedLessonData[e].sectionId)),r){var d;i=(null===(d=this.props.currentLessonDetails)||void 0===d?void 0:d.sectionId)||0}let l={bundleId:n,courseId:t,courseType:D.CourseType.COURSE,sectionId:i||o,lessonId:e||r},u={productSeo:this.props.currentBundleSeoTitle||this.props.currentCourseSeoTitle,subProductSeo:this.props.currentBundleSeoTitle?this.props.currentCourseSeoTitle:null,sectionId:i||o,lessonId:e||r,redirectionSource:c.redirectionSource};s[t]||this.props.doSetCurrentAccessingLesson({sectionId:i||o,lessonId:e||r,courseId:t},r);let h=eF.customerConfig.pricing_model===D._nP.ONE_TIME_PAYMENT,p=(null==a?void 0:a.courseType)===D.CourseType.BUNDLE;(0,ew.sT)(p||h?n:null,t,l.courseType,l.sectionId,l.lessonId,u)}e.currentLessonId!==r&&l&&this.props.setPLayerSemiFullScreenState(!1)}playerBookMarkCallBack(e,t,s,o){s?this.addBookmark(o):!0===e?this.deleteBookmark(t):this.addBookmark()}addBookmark(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.props.userEnrollmentState!==i.ri.PURCHASED)return!1;let{currentSlide:t,currentVideoTime:s,key:o}=this.getCurrentPosition();for(let t=0;t<e.length;t++)if(e[t].timeStamp===s)return!1;let r={lesson_id:this.props.currentLessonId,section_id:this.props.currentCourseSectionId,course_id:this.props.currentCourseId,note_type:es.dE.BOOKMARK,product_type:es.$R.LESSON,link:"".concat(t,":").concat(s,":").concat(o),tag:this.props.currentLessonTitle,notes:null,quiz_id:0,question_id:0,quiz_section_id:0},n=Date.now();return this.setState({lastNoteBookRequestId:n}),this.props.doAddNoteBook(r,n),!0}deleteBookmark(e){if(!e)return!1;let t=Date.now();return this.setState({lastNoteBookRequestId:t}),this.props.doDeleteNotes(e,t),!0}goBack(){return this.updateLastAccessedLesson(),this.handleExitFromPlayer()||(0,ew.n)(),!0}goToTest(e,t,s){var o;(0,ew.lw)(e,t,s,null===(o=this.props)||void 0===o?void 0:o.currentCourseId)}diagnose(e){let t={userName:this.props.sharedUserName,email:this.props.sharedUserEmail,mobileNum:this.props.sharedUserMobileNum,userId:this.props.sharedUserId,srcDetails:{course:(0,ew.Iu)("courseSeoTitle"),...e},issueDescription:"TroubleShoot: Player Issue",issueTitle:"TroubleShoot: Player Issue",isPlayerIssue:!0,lessonDetails:{courseTitle:this.props.currentCourseTitle,lessonTitle:this.props.currentLessonTitle,lessonId:this.props.currentLessonId,sectionId:this.props.currentCourseSectionId,courseId:this.props.currentCourseId,bundleId:this.props.currentBundleId}};(0,ew.DO)(t,!0)}markAsComplete(e,t,s,o){e?this.props.doMarkLessonAsComplete(t,s,o):this.props.doMarkLessonAsIncomplete(t,s)}onGoToPrevLesson(e){var t;let{currentCourseSections:s,currentCourseSectionId:o}=this.props;if(!s){console.log("onGoToPrevLesson : invalid currentCourseSections");return}let{sectionIds:r}=s,n=r.indexOf(o),l=s.sectionDetails[o].lessonIds,a=l.indexOf(e);0===a&&0!==n?(n-=1,a=s.sectionDetails[r[n]].lessonIds.length-1):a-=1;let c=r[n],d=s.sectionDetails[c].lessonIds[a],{currentCourseId:u}=this.props,h={courseId:u,sectionId:c,lessonId:d,autoScrollLessonTs:new Date().getTime()};c&&d&&this.props.doSetCurrentAccessingLesson(h,d);let p={bundleId:null===(t=this.props)||void 0===t?void 0:t.currentBundleId,courseId:u,courseType:i.courseType.COURSE,sectionId:c,lessonId:d},v={productSeo:this.props.currentBundleSeoTitle||this.props.currentCourseSeoTitle,subProductSeo:this.props.currentBundleSeoTitle?this.props.currentCourseSeoTitle:null,sectionId:c,lessonId:d};(0,ew.aO)(p,v)}sendStartedPlaying(){}goToTestResults(e,t,s,o){(0,ew.qd)(e,t,s,o)}onCourseTimeAnalytics(e){var t;e.hasCourseTimeRestriction=!!(null===(t=this.props.currentCoursePlayTimeRestrictionDetails)||void 0===t?void 0:t.remainingAllocatedTime)||e.hasCourseTimeRestriction,this.props.doReportCourseAnalytics(e),this.props.doReportAchievementsAnalytics(e,this.props.sharedUserId)}sendLYSTWatchTimeAnalytics(e){let{doStoreWatchTimeAnalyticsEvents:t,currentCoursePlayTimeRestrictionDetails:s}=this.props,o=null==s?void 0:s.remainingAllocatedTime;return t({...e,hasCourseTimeRestriction:o})}clearCache(){this.props.doClearCache()}setLiveLessonAttendance(e,t){this.props.doSetLiveLessonAttendance(e,t)}clearDownloaderError(){this.props.doClearDownloaderError()}fetchCourseDetails(e){this.props.doFetchCourseDetails(e)}handleStoragePermissionGrant(){this.props.doHandleStoragePermissionGrant()}clearDiscussionAndNotesText(){this.props.doClearText()}sendSubNavChangeEvent(e,t){this.props.doSendSubNavChangeEvent(e,t)}setCurrentAccessingLesson(e,t){this.props.doSetCurrentAccessingLesson(e,t)}queueDownload(e){let t=this.props.currentCourseDetails.isFree,s=this.props.userEnrollmentState!==i.ri.PURCHASED,o=this.props.sharedUserId;this.props.doQueueDownload(e,s,t,o)}cancelDownload(e){this.props.doCancelDownload(e)}deleteDownload(e){this.props.doDeleteDownload(e)}onGetLessonDownloadData(e,t,s,o,r,n){return(0,eE.TM)(e,t,s,o,r,n)}getChatToken(e,t,s){(0,eo.JF)(i.API_URLS.CHAT_TOKEN_URL,"get",{lesson_id:s},null,"json",this.props.sharedAuthToken,null,2e4).then(t=>{let{response:s}=t;e(s)}).catch(e=>{let{error:s}=e;t()})}render(){var t,s,r,n,i,l,a,c,d,u;let h={doPostPiracyDetails:this.props.doPostPiracyDetails,calculateinstalmentReminder:this.calculateinstalmentReminder,navigation:this.props.navigation,notifyOnPlayerError:this.notifyOnPlayerError,notifyOnPlayerPlayStarted:this.notifyOnPlayerPlayStarted,handleExitFromPlayer:this.handleExitFromPlayer,unsetUserEnrollAction:this.unsetUserEnrollAction,getCurrentPosition:this.getCurrentPosition,playerBookMarkCallBack:this.playerBookMarkCallBack,addBookmark:this.addBookmark,deleteBookmark:this.deleteBookmark,goBack:this.goBack,goToTest:this.goToTest,diagnose:this.diagnose,markAsComplete:this.markAsComplete,onGoToNextLesson:this.onGoToNextLesson,onGoToPrevLesson:this.onGoToPrevLesson,sendStartedPlaying:this.sendStartedPlaying,goToTestResults:this.goToTestResults,toggleLivePlayerMode:this.toggleLivePlayerMode,updateLiveStatus:this.updateLiveStatus,clearCache:this.clearCache,setLiveLessonAttendance:this.setLiveLessonAttendance,onCourseTimeAnalytics:this.onCourseTimeAnalytics,fetchCourseDetails:this.fetchCourseDetails,constructSlideDataForLessonPlay:et.bm,constructBookMarkDataForPlayer:et.K$,convertTimeStringToSeconds:et.qd,clearDiscussionAndNotesText:this.clearDiscussionAndNotesText,sendSubNavChangeEvent:this.sendSubNavChangeEvent,setCurrentAccessingLesson:this.setCurrentAccessingLesson,handleStoragePermissionGrant:this.handleStoragePermissionGrant,queueDownload:this.queueDownload,cancelDownload:this.cancelDownload,deleteDownload:this.deleteDownload,onGetLessonDownloadData:this.onGetLessonDownloadData,getAllFilesToDownload:et.zT,isAnyDownloadAttempted:eE.Vq,isAnyDownloadInProgress:eE.z2,showToast:eo.CF,getStoragePath:eL.a$,navigateToLessonDownloadList:ew.Eg,getChatToken:this.getChatToken,goToCourseDashboard:ew.t_,clearCourseData:null===(t=this.props)||void 0===t?void 0:t.doClearCourseData,onHandleTestSeriesBuy:this.onHandleTestSeriesBuy,doFetchEsignStatus:this.props.doFetchEsignStatus,onHandleTestSeriesEnroll:this.onHandleTestSeriesEnroll,onHandleSetVariablePrice:null===(s=this.props)||void 0===s?void 0:s.doSetVariablePrice,goToStore:ew.k4,goToSubscription:ew.hL,goToLessonPlayer:this.goToLessonPlayer,setQuizIdInResultBundle:null===(r=this.props)||void 0===r?void 0:r.doSetQuizIdInResultBundle,changeQuizStateInLessonPlayer:null===(n=this.props)||void 0===n?void 0:n.doChangeQuizStateInLessonPLayer,startTestPlayer:null===(i=this.props)||void 0===i?void 0:i.doStartTestPLayer,onLessonPlayerMount:this.onLessonPlayerMount,doRegisterZoomLiveClass:null===(l=this.props)||void 0===l?void 0:l.doRegisterZoomLiveClass,sendLYSTWatchTimeAnalytics:this.sendLYSTWatchTimeAnalytics,getPreviousListIdByType:this.getPreviousListIdByType,getNextTrialLessonData:this.getNextTrialLessonData,onGoToNextTrialLesson:this.onGoToNextTrialLesson,mobilePlugins:{exitFullScreen:eo.Pr,getRatioHeight:eo.Mm,ActivateScreenWake:eL.vw,DeactivateScreenWake:eL.z9,GetWindowLayoutSize:eL.sz,LockOrientationToPortrait:eL.ud,checkReadWritePermissionsForDirectory:eL.p_,getChatListHistory:eP.LN,getChatList:eP.Ag,sendMessage:eP.bG,setUserAuth:eP.rP},attachmentCallbacks:{onAttachmentBundleReset:null===(a=this.props)||void 0===a?void 0:a.doResetAttachmentBundle,fetchAttachmentForLesson:null===(c=this.props)||void 0===c?void 0:c.doFetchAttachmentForLesson,getAttachmentsDownloadLink:eO.s7},favouritesCallbacks:{updateFavourites:this.updateFavourites,getFavouriteId:this.getFavouriteId},addLike:this.addLike,removeLike:this.removeLike,doUpdateUserInactivity:this.props.doUpdateUserInactivity,doSendBookmarkVisitedEvent:this.props.doSendBookmarkVisitedEvent,onHandleSubscriptionEnroll:this.onHandleSubscriptionEnroll,onVisitorSignIn:this.onVisitorSignInFromPlayer,navigateToLiveWebinarPlayer:this.navigateToLiveWebinarPlayer,navigateToCodeEditor:this.navigateToCodeEditor,doFetchRecentlyAddedLessons:this.props.doFetchRecentlyAddedLessons,checkBrowserOrDeviceSupportToPlayContent:this.evaluateBrowserOrDeviceSupportedToPlay,onClickDesktopAppLessonDownload:this.onClickDesktopAppLessonDownload,checkDesktopAppLessonDownloadStatus:this.checkDesktopAppLessonDownloadStatus,getLessonDownloadedDataForLessonPlay:this.getLessonDownloadedDataForLessonPlay,cancelLessonDownloadingInDesktopApp:this.cancelLessonDownloadingInDesktopApp,deleteDownloadedLessonInDesktopApp:this.deleteDownloadedLessonInDesktopApp,registerProgressCallback:this.registerProgressCallback,constructDownloadedDataForPlayer:this.constructDownloadedDataForPlayer,loadPlayerResources:this.loadPlayerResources,loadPdfworkerForPlayer:this.loadPdfworkerForPlayer,doStoreCourseEngagement:this.props.doStoreCourseEngagement,navigateToSuperLivePlayer:this.navigateToSuperLivePlayer},p=new eA.q,v=new ej._,S=this.PlayerUtils.constructPlayerData(this.props,this.state,p,v),C={LstSlider:eL.a8};return(0,o.jsx)(e,{...this.props,refsToForward:{playerRef:this.playerRef,lstSliderComp:this.lstSliderComp},data:S,callbacks:h,helpers:new PlayerHelper,learnyComponents:C,allDashboardSalesCallbacks:null===(d=this.props)||void 0===d?void 0:d.callbacks,courseFeatureCallbacks:null===(u=this.props)||void 0===u?void 0:u.courseFeatureCallbacks})}constructor(e){var t;super(e),t=this,this.playerRef=r.createRef(),this.lstSliderComp=r.createRef(),this.progressCallbacks=new Map,this.registerProgressCallback=(e,t)=>{null===t?this.progressCallbacks.delete(e):this.progressCallbacks.set(e,t)},this.initializeDownloadStatusListener=()=>{window.onDownloadStatus=e=>{this.progressCallbacks.forEach(t=>{t(e)})}},this.checkPersistedStreakDataExpiry=async()=>{let e=await eo.tJ.getTimestamp(i.oc);if(e){let t=Date.now(),s=new Date(t).setUTCHours(0,0,0,0),o=new Date(e).setUTCHours(0,0,0,0);s!==o&&await eo.tJ.removeKey(i.oc)}},this.initializePreviousListIds=()=>{let e,t;let{sectionDetails:s,sectionIds:o}=this.props.currentCourseSections||{},{lessonDetails:r}=this.props.currentCourseLessons||{},n=o.flatMap(e=>s[e].lessonIds);for(let e=1;e<n.length;e++)this.state.cacheListIds.previousLessonIds[n[e]]=n[e-1];for(let e=1;e<o.length;e++){let t=o[e],{lessonIds:r}=s[t];r.forEach(t=>{this.state.cacheListIds.previousSectionIds[t]=o[e-1]})}for(let t=n.length-1;t>=0;t--){let s=n[t];this.state.cacheListIds.nextTrialLessonDetails[s]=e,r[s].isTrialLesson&&(e=r[s])}for(let e=0;e<n.length;e++){let s=n[e];r[s].isTrialLesson&&(this.state.cacheListIds.previousTrialLessonIds[s]=t,t=s)}},this.getPreviousListIdByType=(e,t)=>{let{previousLessonIds:s,previousSectionIds:o,previousTrialLessonIds:r}=this.state.cacheListIds;return e===D.X4W.LESSON?this.props.currentCourseDetails.enrollmentState===D.T_M.ENROLLED&&Object.prototype.hasOwnProperty.call(r,t)?{previousId:r[t],pathType:D.X4W.LESSON}:{previousId:s[t],pathType:D.X4W.LESSON}:e===D.X4W.SECTION?{previousId:o[t],pathType:D.X4W.SECTION}:{previousId:null,pathType:null}},this.onGoToNextTrialLesson=e=>{var t;let{currentCourseSections:s,currentCourseSectionId:o,currentCourseId:r}=this.props;if(!s||!o){console.log("onGoToNextTrialLesson : invalid currentCourseSections");return}let n=this.getNextTrialLessonData(e);!n||(null==n?void 0:n.isTrialLesson)||console.log("onGoToNextTrialLesson : invalid next trial lesson");let l=null==n?void 0:n.sectionId,a=null==n?void 0:n.id,c={courseId:r,sectionId:l,lessonId:a,autoScrollLessonTs:new Date().getTime()};a&&l&&this.props.doSetCurrentAccessingLesson(c,a);let d={bundleId:null===(t=this.props)||void 0===t?void 0:t.currentBundleId,courseId:r,courseType:i.courseType.COURSE,sectionId:l,lessonId:a},u={productSeo:this.props.currentBundleSeoTitle||this.props.currentCourseSeoTitle,subProductSeo:this.props.currentBundleSeoTitle?this.props.currentCourseSeoTitle:null,sectionId:l,lessonId:a};(0,ew.aO)(d,u)},this.resumeLesson=()=>{var e;let{resumeMediaCurrentLessonPosition:t,currentCourseId:s,currentCourseSectionId:o,currentLessonId:r}=this.props,{currentCourseDetails:n}=this.props,i=null==n?void 0:n.isSequentialPathEnabled,l={previousId:null,pathType:null};if(i){let{learningPathType:e}=n||{},{previousId:t,pathType:s}=this.getPreviousListIdByType(e,r);l.previousId=t,l.pathType=s}let a={courseId:s,sectionId:o,lessonId:r,autoScrollLessonTs:new Date().getTime(),sequentialPathEnabled:i,sequentialPathData:l},c=null===(e=this.props.currentLessonDetails)||void 0===e?void 0:e.slides;if(c&&t){let e=c.slideIds.find(e=>{var t;return c.slideDetails[e].fileId===(null===(t=this.props.resumeMediaCurrentLessonPosition)||void 0===t?void 0:t.serverFileId)}),{link:n}=t,a=n.split("?")[1].split(":"),d=Number(a[2]),u={courseId:s,sectionId:o,lessonId:r,autoScrollLessonTs:new Date().getTime(),initialSlideSeekPos:d,initialSlideIdx:e,sequentialPathEnabled:i,sequentialPathData:l};this.props.doSetCurrentAccessingLesson(u,u.lessonId)}r&&eO.zO&&this.props.doSetCurrentAccessingLesson(a,a.lessonId)},this.getFavouriteId=e=>{var t,s;return null===(s=this.props)||void 0===s?void 0:null===(t=s.favouriteData)||void 0===t?void 0:t.favouriteIdList[e]},this.updateFavourites=(e,t)=>{t?this.removeFavourites(e,t):this.addFavourites(e,!0)},this.addFavourites=(e,t)=>{var s;null===(s=this.props)||void 0===s||s.doAddFavoritesCourse(e,!1,t)},this.removeFavourites=(e,t)=>{var s;null===(s=this.props)||void 0===s||s.doDeleteFavouritesCourse(t,e)},this.updateLastAccessedLesson=()=>{var e,t,s,o,r,n,i;let{currentSlide:l,currentVideoTime:a,key:c}=this.getCurrentPosition()||{},d=null===(o=this.lstSliderComp)||void 0===o?void 0:null===(s=o.current)||void 0===s?void 0:null===(t=s.sliderRef)||void 0===t?void 0:null===(e=t.props)||void 0===e?void 0:e.lessonData,u={lessonId:null==d?void 0:d.lessonId,courseId:null==d?void 0:d.courseId,sectionId:null==d?void 0:d.sectionId,videoTime:a,currentSlidePos:l,bundleId:null===(r=this.props)||void 0===r?void 0:r.currentBundleId,currentBundleTitle:this.props.currentBundleTitle,currentBundleDetails:this.props.currentBundleDetails||void 0,currentCourseDetails:this.props.currentCourseDetails,courseCompletionStats:this.props.courseCompletionStatsRaw,productDetails:null===(i=this.props)||void 0===i?void 0:null===(n=i.products)||void 0===n?void 0:n.courses[null==d?void 0:d.courseId],isCourseExpired:this.props.isCourseExpired};(null==d?void 0:d.courseId)&&this.props.hasAccessToPlay&&this.props.doUpdateRecentlyAccessedCourse(u)},this.toggleLivePlayerMode=e=>{this.setState({isLivePlayerMode:e})},this.updateLiveStatus=e=>{this.setState({liveStatus:e.liveStatus})},this.onHandleTestSeriesBuy=(e,t,s)=>{var o;let{doSendPaymentInitiatedEvent:r,currentCourseDetails:n,currentCoursePricing:l}=this.props,a=new Date().getTime();if(r&&r(e||t,e?i.courseType.BUNDLE:null==n?void 0:n.courseType,l.selctedVariablePrice.discountPrice,s,l.selctedVariablePrice.pricingType,a),eF.customerConfig.is_fast_checkout_enabled||!eF.customerConfig.is_fast_checkout_enabled&&this.props.sharedIsUserLoggedIn){(0,ew.Si)(e,t,s,a);return}null===(o=this.props)||void 0===o||o.doSetPostSigninRoute((0,ew.SE)(e,t,s)),(0,ew.jw)(e,t,s)},this.onHandleTestSeriesEnroll=function(){var e,s,o,r,n,i,l,a;let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=null===(e=t.props)||void 0===e?void 0:e.currentBundleId,u=null===(s=t.props)||void 0===s?void 0:s.currentCourseId,h=null===(o=t.props)||void 0===o?void 0:o.allBundleCourseIds;(null===(r=t.props)||void 0===r?void 0:r.sharedIsUserLoggedIn)?t.props.currentBundleId&&(null===(n=t.props)||void 0===n?void 0:n.currentCourseId)?null===(i=t.props)||void 0===i||i.doEnrollToCourse(d,h,c):null===(l=t.props)||void 0===l||l.doEnrollToCourse(u,h,c):(null===(a=t.props)||void 0===a||a.doSetPostSigninRoute((0,ew.vB)()),(0,ew.jw)(d,u,c,1))},this.onHandleSubscriptionEnroll=e=>{var t,s,o,r;let n=null===(t=this.props)||void 0===t?void 0:t.currentCourseId;(null===(s=this.props)||void 0===s?void 0:s.sharedIsUserLoggedIn)?e&&(null===(o=this.props)||void 0===o||o.doEnrollToCourse(e,[n])):(null===(r=this.props)||void 0===r||r.doSetPostSigninRoute((0,ew.vB)()),(0,ew.jw)(null,null,null))},this.onVisitorSignInFromPlayer=()=>{var e;null===(e=this.props)||void 0===e||e.doSetPostSigninRoute((0,ew.vB)()),(0,ew.At)()},this.onLessonPlayerMount=()=>{},this.addLike=function(e){var s,o;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eU.Hz.LESSON;(null===(s=t.props)||void 0===s?void 0:s.userLikesFetchStatus)!==D.iFP.IN_PROGRESS&&(null===(o=t.props)||void 0===o||o.doAddLike(e,r))},this.removeLike=function(e,s){var o,r;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eU.Hz.LESSON;(null===(o=t.props)||void 0===o?void 0:o.userLikesFetchStatus)!==D.iFP.IN_PROGRESS&&(null===(r=t.props)||void 0===r||r.doRemoveLike(e,s,n))},this.notifyOnPlayerError=e=>{let{doNotifyOnPlayerError:t}=this.props;t(e)},this.notifyOnPlayerPlayStarted=e=>{let{doNotifyOnPlayerPlayInitiated:t}=this.props;t(e)},this.goToLessonPlayer=(e,t,s,o,r,n)=>{(0,ew.sT)(e,t,s,o,r,n)},this.calculateinstalmentReminder=e=>{if(!e)return;let t=new Date().getTime(),s=new Date(e).getTime();return(s-t)/864e5},this.navigateToLiveWebinarPlayer=e=>{(0,ew.Fh)(e)},this.navigateToSuperLivePlayer=e=>{(0,ew.yQ)(e,this.props)},this.navigateToCodeEditor=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"lesson",r=arguments.length>3?arguments[3]:void 0;(0,ew.Sr)({codeId:e,contentId:s,contentType:o,page:r,doClearCache:t.clearCache})},this.evaluateBrowserOrDeviceSupportedToPlay=e=>(0,eM.WG)(e),this.onClickDesktopAppLessonDownload=async e=>{var t,s;let{sharedAuthToken:o,sharedUserId:r,playerDataOfCurrentLesson:n,currentBundleDetails:i,currentBundleId:l,currentProductType:a,currentCourseDetails:c}=this.props,{customerConfig:d}=this.props.data,u={schoolId:null==d?void 0:d.SCHOOL_ID,studentId:r,lrToken:o,isTrialUser:null==n?void 0:n.isTrialUser,currentBundleId:l,currentProductType:null!==(t=null==i?void 0:i.courseType)&&void 0!==t?t:a,studentCourseExpiryDate:null!==(s=null==i?void 0:i.studentCourseExpiryDate)&&void 0!==s?s:null==c?void 0:c.studentCourseExpiryDate};await (0,eH.IW)(e,u)},this.checkDesktopAppLessonDownloadStatus=async(e,t,s,o)=>await (0,eH.LL)(e,t,s,o),this.getLessonDownloadedDataForLessonPlay=async(e,t,s,o)=>await (0,eH.z4)(e,t,s,o),this.cancelLessonDownloadingInDesktopApp=async(e,t,s)=>await (0,eH.Ad)(e,t,s),this.deleteDownloadedLessonInDesktopApp=async(e,t,s)=>await (0,eH.Et)(e,t,s),this.constructDownloadedDataForPlayer=async()=>{let{currentCourseId:e,currentLessonId:t,currentLessonDetails:s,currentBundleId:o}=this.props||{};try{let r=await this.checkDesktopAppLessonDownloadStatus(o,e,t,null==s?void 0:s.lessonVersion);if(this.setState({currentAccessingLessonDownloadStatus:r}),r===i.oV.SUCCESS){let r=await this.getLessonDownloadedDataForLessonPlay(o,e,t,null==s?void 0:s.lessonVersion),n=(0,eH.gp)((0,eO.D6)(r),this.props);this.setState({constructedDownloadedData:n})}else this.setState({constructedDownloadedData:{}})}catch(e){this.setState({constructedDownloadedData:{}})}},this.loadPlayerResources=async e=>{await (0,eP.g7)(e)},this.loadPdfworkerForPlayer=async()=>{await (0,eP.D9)()},this.state={lastNoteBookRequestId:0,isLivePlayerMode:!1,liveStatus:D.yie.IDLE,liveServerName:null,cacheListIds:{previousLessonIds:{},previousSectionIds:{},nextTrialLessonDetails:{},previousTrialLessonIds:{}},constructedDownloadedData:{},currentAccessingLessonDownloadStatus:i.oV.INVALID},this.goBack=this.goBack.bind(this),this.handleExitFromPlayer=this.handleExitFromPlayer.bind(this),this.getCurrentPosition=this.getCurrentPosition.bind(this),this.playerBookMarkCallBack=this.playerBookMarkCallBack.bind(this),this.addBookmark=this.addBookmark.bind(this),this.deleteBookmark=this.deleteBookmark.bind(this),this.goToTest=this.goToTest.bind(this),this.diagnose=this.diagnose.bind(this),this.markAsComplete=this.markAsComplete.bind(this),this.onGoToNextLesson=this.onGoToNextLesson.bind(this),this.onGoToPrevLesson=this.onGoToPrevLesson.bind(this),this.sendStartedPlaying=this.sendStartedPlaying.bind(this),this.goToTestResults=this.goToTestResults.bind(this),this.toggleLivePlayerMode=this.toggleLivePlayerMode.bind(this),this.updateLiveStatus=this.updateLiveStatus.bind(this),this.onCourseTimeAnalytics=this.onCourseTimeAnalytics.bind(this),this.sendLYSTWatchTimeAnalytics=this.sendLYSTWatchTimeAnalytics.bind(this),this.unsetUserEnrollAction=this.unsetUserEnrollAction.bind(this),this.clearCache=this.clearCache.bind(this),this.setLiveLessonAttendance=this.setLiveLessonAttendance.bind(this),this.clearDownloaderError=this.clearDownloaderError.bind(this),this.handleStoragePermissionGrant=this.handleStoragePermissionGrant.bind(this),this.onGetLessonDownloadData=this.onGetLessonDownloadData.bind(this),this.fetchCourseDetails=this.fetchCourseDetails.bind(this),this.clearDiscussionAndNotesText=this.clearDiscussionAndNotesText.bind(this),this.sendSubNavChangeEvent=this.sendSubNavChangeEvent.bind(this),this.setCurrentAccessingLesson=this.setCurrentAccessingLesson.bind(this),this.queueDownload=this.queueDownload.bind(this),this.cancelDownload=this.cancelDownload.bind(this),this.deleteDownload=this.deleteDownload.bind(this),this.getChatToken=this.getChatToken.bind(this),this.notifyOnPlayerError=this.notifyOnPlayerError.bind(this),this.notifyOnPlayerPlayStarted=this.notifyOnPlayerPlayStarted.bind(this),this.calculateinstalmentReminder=this.calculateinstalmentReminder.bind(this),this.getPreviousListIdByType=this.getPreviousListIdByType.bind(this),this.getNextTrialLessonData=this.getNextTrialLessonData.bind(this),this.PlayerUtils=new PlayerUtils,this.checkPersistedStreakDataExpiry=this.checkPersistedStreakDataExpiry.bind(this),this.initializeDownloadStatusListener=this.initializeDownloadStatusListener.bind(this),this.constructDownloadedDataForPlayer=this.constructDownloadedDataForPlayer.bind(this),this.loadPlayerResources=this.loadPlayerResources.bind(this)}};return(0,ee.$)("selectCurrentCoursePricing","selectCurrentCourseId","selectCurrentCourseSeoTitle","selectCurrentCourseDetails","selectCurrentCourseSections","selectCurrentCourseFetchStatus","selectCurrentCourseAccessDataFetchStatus","selectCurrentCourseError","selectCurrentCourseSectionId","selectCurrentLessonId","selectCurrentPaymentState","selectCurrentCourseTitle","selectCurrentBundleTitle","selectCurrentLessonTitle","selectCurrentSectionTitle","selectIsCourseFree","selectIsCourseExpired","selectIsSellIndividualEnabled","selectCurrentCoursePlayTimeRestrictionDetails","selectUserEnrollmentState","selectSharedUserName","selectSharedUserId","selectSharedUserEmail","selectSharedUserMobileNum","selectPaymentFetchStatus","selectNoteBookLastRequestStatus","selectNoteBookLastRequestId","selectShouldCurrentLessonShowPlayTime","selectCurrentCourseContentSignedUrl","selectCurrentBundleSeoTitle","selectCurrentLessonDetails","selectHasAccessToPlay","selectHasNoLessons","selectCurrentBundleId","selectCurrentCourseCompletionStats","selectCourseCompletionData","selectPlayerDataOfCurrentLesson","selectDownloadData","selectCurrentLessonPosition","selectSharedWaterMarkMsg","selectSharedWaterMarkStatus","selectSharedIsWatermarkEnabled","selectSharedIsUserDataWaterMarkDisabled","selectSharedAuthToken","selectDownloaderError","selectIsFileScanCompleted","selectServerTimeOffset","selectCurrentLessonBookMarks","selectLastBookmarkModifiedTime","selectCurrentLessonSlides","selectInitialSlideIndexForPayer","selectInitialSlideSeekPosForPayer","selectIsAutoPlayEnabledForLesson","selectCurrentBookMarkIdTs","selectSharedIsUserLoggedIn","selectAutoScrollLessonTs","selectCurrentCourseLessons","selectCurrentBundleDetails","selectDownloadQuality","selectUserSelectedDownloadDir","selectCurrentCourseDownloadSignedUrl","selectCanDownloadCourse","selectIsOnline","selectSharedUserProfilePhoto","selectSharedIsUserIsActive","doClearText","doSendSubNavChangeEvent","doMarkLessonAsComplete","doMarkLessonAsIncomplete","doSetCurrentAccessingLesson","doUnsetUserEnrollAction","doFetchCourseDetails","doFetchCourseAccessData","doAddNoteBook","doDeleteNotes","doClearCache","doSetLiveLessonAttendance","doReportCourseAnalytics","doClearDownloaderError","doHandleStoragePermissionGrant","doQueueDownload","doCancelDownload","doDeleteDownload","doUpdateRecentlyAccessedCourse","selectCourseCompletionStatsRaw","doClearCourseData","doSetPostSigninRoute","doEnrollToCourse","selectAllBundleCourseIds","doSetVariablePrice","selectCurrentLessonPlayerQuizState","doSetQuizIdInResultBundle","doChangeQuizStateInLessonPLayer","doStartTestPLayer","selectLastAccessedLessons","selectNavigationCurrentScreen","selectAttachmentData","selectNavigationData","selectCurrentProductDetails","doResetAttachmentBundle","doFetchAttachmentForLesson","selectNavigationPrevScreen","selectNavigationData","doSendNavChangeEvent","selectForceLegacyDrm","doAddFavoritesCourse","selectNewsfeedBookmarks","selectFavouriteData","doDeleteFavouritesCourse","doRegisterZoomLiveClass","doAddLike","doRemoveLike","doStoreWatchTimeAnalyticsEvents","selectUserLikesFetchStatus","selectUserLikesLastRequestContentType","selectResumeMediaCurrentLessonPosition","selectResumeMediaCurrentLessonSlidePositions","doUpdateUserInactivity","doSendBookmarkVisitedEvent","doNotifyOnPlayerError","doNotifyOnPlayerPlayInitiated","selectShowEnrollButton","doPostPiracyDetails","selectAutoEnrollmentData","doSendPaymentInitiatedEvent","selectUserRoleType","selectCurrentAccesingLessons","selectRecentlyAddedLessonsData","selectRecentlyAddedLessonsDataFetchStatus","selectRecentlyAddedLessonsDataError","doFetchRecentlyAddedLessons","doStoreCourseEngagement","selectAllCoursesDetails","doReportAchievementsAnalytics","selectStreakPersistedData","selectSharedUserId","doFetchEsignStatus","selectEsignRedirectionUrl","selectEsignSuccessData",PlayerAdapterComponent)}var ez=s(39555),eW=s(78128);let eG=(0,ez.Z)((0,a.Z)((0,eI.Z)((0,k.Z)(PlayerAdapter(e=>(0,o.jsx)(ec,{data:e.data,callbacks:e.callbacks,refsToForward:null==e?void 0:e.refsToForward,helpers:null==e?void 0:e.helpers,learnyComponents:e.learnyComponents,allDashboardSalesCallbacks:e.allDashboardSalesCallbacks,courseFeatureCallbacks:e.courseFeatureCallbacks})))))),eq=(0,ez.Z)((0,a.Z)((0,eI.Z)((0,k.Z)(PlayerAdapter(e=>(0,o.jsx)(eb,{data:e.data,callbacks:e.callbacks,refsToForward:null==e?void 0:e.refsToForward,helpers:null==e?void 0:e.helpers,learnyComponents:e.learnyComponents,allDashboardSalesCallbacks:e.allDashboardSalesCallbacks,courseFeatureCallbacks:e.courseFeatureCallbacks})))))),eV=(0,eI.Z)((0,eW.Z)((0,a.Z)((0,ek.Z)(e=>(0,o.jsx)(h.A,{...e})))));function CourseDashboardWithVersions(e){return(0,o.jsx)(eG,{...e})}function BundleDashboardsWithVersions(){return(0,o.jsx)(eV,{})}function MocktestDashboardWithVersions(){return(0,o.jsx)(eV,{})}function ConceptsDashboardWithVersions(){return(0,o.jsx)(eq,{})}var eQ=(0,a.Z)((0,l.Z)(e=>{let{t}=(0,u.$)("common");if(e.loadStatus===i.UK.IN_PROGRESS||e.loadStatus===i.UK.IDLE)return(0,o.jsx)(n.kC,{sx:{height:"100vh",width:"100vw",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(d.aN,{})});if(e.loadStatus===i.UK.FAILED)return(0,o.jsx)(o.Fragment,{children:e.error&&(0,o.jsx)(c.jj,{errorCode:e.error.errorCode,errorText:e.error.errorMessage,action:e.retry,actionText:t("retry")})});let s=new URLSearchParams(window.location.search),r=s.get("template");return(0,o.jsx)(o.Fragment,{children:(()=>{switch(e.productType){case i.courseType.COURSE:case i.courseType.EBOOK:case i.courseType.PODCAST:case i.courseType.WEBINAR:case i.courseType.DIGITAL_PRODUCT:case i.courseType.FREE_RESOURCE:case i.courseType.TRACK:if(r)return(0,o.jsx)(ConceptsDashboardWithVersions,{...e});return(0,o.jsx)(CourseDashboardWithVersions,{...e});case i.courseType.TEST:return(0,o.jsx)(MocktestDashboardWithVersions,{...e});case i.courseType.BUNDLE:case i.courseType.BATCH:case i.courseType.SUBSCRIPTION_TIER_BUNDLE:case i.courseType.SUBSCRIPTION_BUNDLE:return(0,o.jsx)(BundleDashboardsWithVersions,{...e});case i.courseType.TEST_SERIES:return(0,o.jsx)(CourseDashboardWithVersions,{...e});default:return(0,o.jsx)(n.kC,{sx:{height:"100vh",width:"100vw",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(d.aN,{})})}})()})}))},73179:function(e,t,s){s.d(t,{Z:function(){return organisms_BookmarksCore}});var o=s(24246),r=s(27378),n=s(33790),i=s(72022),l=s(9078),a=s(37694),c=s(95563),d=s(64860),u=s(16995),h=s(73408),p=r.memo(e=>{let{item:t,getButtonText:s,onClickDelete:l,setCurrentAccessingLesson:a,isCourseLevel:p,courseData:v,getSlideNumber:S,navigateToLessonPlayer:C,navigateToSolutionPlayer:g,navigateBack:x,onClickEdit:y,disableActions:m,doSendBookmarkVisitedEvent:D}=e,{currentCourseLessons:T,currentBundleId:b,currentCourseType:I,currentBundleSeoTitle:k,currentCourseSeoTitle:L}=v,{courseId:f,noteBookId:P,noteBookType:E,productType:w,quizId:A,questionId:j,lessonId:F,sectionId:R,srcName:B,timeStamp:N}=t,U=(0,r.useCallback)(e=>e&&T&&T.lessonDetails&&T.lessonDetails[e]?T.lessonDetails[e].slides:null,[T]),handleBookmarkNavigation=()=>{var e;if(null===(e=document.getElementById("player-header"))||void 0===e||e.scrollIntoView(),E===d.dEh.BOOKMARK&&w===d.m8A.QUESTION){if(!A)return;let e={mode:d.zyP.SOLUTION_MODE,id:A,resultType:d.XmP.FIRST,qId:j,lessonId:F};g(e);return}let t=-1,s=U(F);if(null===s&&x(),B&&s&&(t=S(B,s.slideDetails)),f&&I===d.lW9.COURSE){let e={courseId:f,sectionId:R,lessonId:F,autoScrollLessonTs:new Date().getTime(),currentBookMarkIdTs:P+new Date().getTime()};if(t>-1&&(e.initialSlideIdx=t),N&&(e.initialSlideSeekPos=N),a(e,e.lessonId),p){let t={bundleId:b,courseId:f,courseType:d.lW9.COURSE,sectionId:R,lessonId:F,initialSlideIdx:e.initialSlideIdx,initialSlideSeekPos:e.initialSlideSeekPos,autoScrollLessonTs:new Date().getTime()};C(t,{productSeo:k||L,subProductSeo:k?L:null,sectionId:R,lessonId:F})}}},O=[(0,o.jsx)(n.xv,{category:"s1",style:{display:"inline"},children:t.notesTitle},"bookmarkTitle")];t.notesText&&O.push((0,o.jsx)(i.xu,{pt:4,children:(0,o.jsx)(h.NI,{math:t.notesText,style:{display:"inline"}})},"bookmarkText"));let onClick=()=>{handleBookmarkNavigation(),D({post_id:f||0,bookmark_id:P||0,category_id:0,subProduct_id:F||0,product_type:null==t?void 0:t.productType})};return(0,o.jsx)(c.HC,{onClick:()=>onClick(),metaDataType:"component",primaryText:(0,o.jsx)(i.kC,{mr:10,children:(0,o.jsx)(n.xv,{style:{display:"inline"},children:O})}),metaDataOptions:{metaComponent:(0,o.jsx)(i.kC,{children:!m&&(0,o.jsxs)(o.Fragment,{children:[E===d.dEh.NOTES&&(0,o.jsx)(i.xu,{pl:2,onClick:e=>{e.stopPropagation(),y()},className:"editBookmark",children:(0,o.jsx)(n.tv,{size:20,icon:u.q.edit})}),(0,o.jsx)(i.xu,{pl:2,className:"deleteBookmark",onClick:e=>{e.stopPropagation(),l()},children:(0,o.jsx)(n.tv,{size:20,icon:u.q.trash})})]})})},supportedVisualType:"component",supportedVisualSource:(0,o.jsx)(i.kC,{sx:{width:10,justifyContent:"flex-end"},children:(0,o.jsx)(i.xu,{children:(0,o.jsx)(n.rU,{underline:!0,textProps:{category:"c2"},type:"internal",onClick:()=>handleBookmarkNavigation(),children:s({bookmarktype:t.productType,timestamp:t.timeStamp.toString(),slidenumber:t.slideNumber,contentType:t.contentType}).toLocaleUpperCase()})})})})}),v=s(86677),S=s.n(v),molecules_BookmarkInput=e=>{let{inputType:t,lessonId:s,lessonTitle:a,sectionId:c,courseId:u,courseTitle:h,lessonType:p,isCourseLevel:v,getCurrentPosition:C,courseSeoTitle:g,addNotebook:x,editNotebook:y,initialValue:m,bookmarkId:D,disabled:T,placeholderText:b}=e,{courseId:I}=S().query,{t:k}=(0,l.$)("discussion"),L=(0,r.useRef)(null),[f,P]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{m&&L.current&&(L.current.value=m,P(!0))},[m]),(0,o.jsxs)(i.kC,{sx:{width:"100%",flexDirection:"column",alignItems:"stretch",pb:1},children:["edit"===t&&(0,o.jsx)(n.xv,{category:"s1",textTransform:"capitalize",children:k("editNote")}),(0,o.jsx)(i.xu,{py:1}),(0,o.jsx)(n.nv,{disabled:T,type:"textArea",numberOfLines:"edit"===t?1:3,setInputRef:e=>{L.current=e.current},onChange:e=>{var t,s;let o=null!==(s=null==e?void 0:null===(t=e.replaceAll)||void 0===t?void 0:t.call(e," ",""))&&void 0!==s?s:e;!o&&f?P(!1):o&&!f&&P(!0)},placeholderText:b,name:"bookmarkInput"}),(0,o.jsx)(i.kC,{pt:2,sx:{alignItems:"center",justifyContent:"space-between"},children:(0,o.jsx)(n.zx,{size:"small",onClick:()=>{if(!L.current||""===L.current.value||!(x||y))return;console.log({isCourseLevel:v});let e={lesson_id:v?null:s,section_id:c,course_id:u||I,note_type:d.dEh.NOTES,product_type:d.m8A.LESSON,link:"/learn/".concat(g,"/").concat(c,"/").concat(s),notes:unescape(encodeURIComponent(L.current.value)),tag:null!=a?a:h,content_type:p};if(t&&"create"!==t)null==y||y({data:e,notesId:D});else{let t=null==C?void 0:C();if(!v&&t){let{currentSlide:o,currentVideoTime:r,key:n}=t,i=n||"";e={...e,link:"/learn/".concat(g,"/").concat(c,"/").concat(s)+"?link:".concat(o,":").concat(r,":").concat(i)}}null==x||x(e),L.current.value=""}},disabled:!f,children:k("edit"===t?"save":"addNote").toLocaleUpperCase()})})]})},C=r.memo(e=>{var t,s;let{data:u,onClickDeleteBookmark:h,setCurrentAccessingLesson:v,getSlideNumber:S,navigateToLessonPlayer:C,navigateToSolutionPlayer:g,navigateBack:x,isCourseLevel:y,editNotebook:m,toggleDisableInput:D,doSendBookmarkVisitedEvent:T}=e,{t:b}=(0,l.$)("discussion"),[I,k]=(0,r.useState)(null),L=(0,r.useCallback)(e=>{let t=Number(e);if(Number.isNaN(t))return"00:00";let s=Math.floor(t/3600),o=Math.floor(t%3600/60),r=Math.floor(t%3600%60);return(s>9?"".concat(s,":"):"0".concat(s,":"))+(o>9?"".concat(o,":"):"0".concat(o,":"))+(r>9?"".concat(r):"0".concat(r))},[]),f=(0,r.useCallback)(e=>{let{bookmarktype:t,contentType:s,timestamp:o,slidenumber:r}=e;return t===d.m8A.QUESTION?b("qa"):Number(o)?L(o):!o&&r>1?"".concat(b("slideNum",{slideNum:r})):b("bookmark")},[b,L]),P=y?null===(t=u.noteBooks.currentCourseNoteBookData)||void 0===t?void 0:t.noteBooks:null===(s=u.noteBooks.currentLessonNoteBookData)||void 0===s?void 0:s.noteBooks;return u.noteBooks.currentCourseNoteBookFetchStatus===d.iFP.IN_PROGRESS||u.noteBooks.currentLessonNoteBookFetchStatus===d.iFP.IN_PROGRESS||P&&0!==P.length?(0,o.jsx)(c.FE,{variant:"list",itemData:P,removeGutter:!0,renderItem:(e,t)=>{var s,l,a,c,d,b;return(0,o.jsxs)(r.Fragment,{children:[0!==t&&(0,o.jsx)(n.iz,{}),e.noteBookId===I?(0,o.jsx)(i.xu,{pt:4,children:(0,o.jsx)(molecules_BookmarkInput,{courseTitle:null==u?void 0:null===(s=u.courseData)||void 0===s?void 0:s.currentCourseTitle,courseSeoTitle:null==u?void 0:null===(l=u.courseData)||void 0===l?void 0:l.currentCourseSeoTitle,editNotebook:function(){for(var t=arguments.length,s=Array(t),o=0;o<t;o++)s[o]=arguments[o];k(null),D(),s[0].data.notes!==e.notesText&&m(...s)},courseId:null==u?void 0:null===(a=u.courseData)||void 0===a?void 0:a.currentCourseId,lessonId:null==u?void 0:null===(c=u.courseData)||void 0===c?void 0:c.currentLessonId,lessonTitle:null==u?void 0:null===(d=u.courseData)||void 0===d?void 0:d.currentLessonTitle,lessonType:null==u?void 0:null===(b=u.courseData)||void 0===b?void 0:b.currentLessonType,isCourseLevel:null==u?void 0:u.common.isAllNotesScreen,initialValue:e.notesText,inputType:"edit",bookmarkId:I})}):(0,o.jsx)(p,{onClickEdit:()=>{D(),k(e.noteBookId)},item:e,getButtonText:f,onClickDelete:()=>h(e.noteBookId),courseData:u.courseData,getSlideNumber:S,setCurrentAccessingLesson:v,isCourseLevel:y,navigateToLessonPlayer:C,navigateToSolutionPlayer:g,navigateBack:x,disableActions:!!I,doSendBookmarkVisitedEvent:T})]},t)}}):(0,o.jsx)(a.T9,{title:b("noNotesAndBookmarkTitle"),subtitle:b("noNotesAndBookmarkMessage")})}),organisms_BookmarksCore=e=>{var t,s,c,u,h,p,v,S;let{noteBooks:g}=e,{data:x,callbacks:y}=g,{navigateToAllBookmarks:m,DeleteNotes:D,SetCurrentAccessingLesson:T,getSlideNumber:b,navigateToSolutionPlayer:I,navigateToLessonPlayer:k,navigateBack:L,AddNoteBook:f,getCurrentPosition:P,EditNoteBook:E,FetchCourseLevelNotes:w,FetchLessonLevelNotes:A,doSendBookmarkVisitedEvent:j}=y,{courseData:F,noteBooks:R,common:B}=x,{noteBookLastRequestId:N}=R,{currentBundleId:U,currentLessonId:O,currentCourseId:_,currentCourseSeoTitle:M,currentTestSeriesLessonId:H,currentCourseTitle:z,currentLessonTitle:W,currentLessonType:G,userEnrollmentState:q}=F,{isAllNotesScreen:V}=B,{t:Q}=(0,l.$)("discussion"),[K,Z]=(0,r.useState)(null),[X,$]=(0,r.useState)(!1),Y=e.noteBooks.data.noteBooks.currentCourseNoteBookFetchStatus===d.iFP.IN_PROGRESS||e.noteBooks.data.noteBooks.currentLessonNoteBookFetchStatus===d.iFP.IN_PROGRESS,J=V?null===(t=x.noteBooks)||void 0===t?void 0:t.currentCourseNoteBookData:null===(s=x.noteBooks)||void 0===s?void 0:s.currentLessonNoteBookData,ee=null==J?void 0:J.noteBooks,et=!!J&&J.currentPage<J.totalMatchedPages;return(0,o.jsxs)(i.kC,{sx:{flexDirection:"column"},px:V?0:3,children:[(0,o.jsxs)(i.kC,{sx:{justifyContent:"space-between",alignItems:["center","center","center"]},pb:[0,0,0],children:[(0,o.jsxs)(i.kC,{sx:{alignItems:"center"},children:[(0,o.jsx)(n.xv,{category:["p1","h5","h4"],textTransform:"capitalize",sx:{pb:[0,0,0]},children:Q(V?"allBookmarks":"lessonBookmark")}),(0,o.jsx)(i.xu,{px:1}),(0,o.jsx)(n.Ct,{text:null!==(S=null==ee?void 0:ee.length)&&void 0!==S?S:0,variant:"subtle",badgeColor:"basic",badgeShape:"roundedEdges"})]}),(0,o.jsx)(i.xu,{children:!V&&(0,o.jsx)(n.zx,{size:["tiny","small","medium"],onClick:()=>{m({currentBundleId:U,currentLessonId:O,currentCourseId:_,currentCourseSeoTitle:M,currentTestSeriesLessonId:H})},type:"ghost",children:(0,o.jsx)(n.xv,{buttonFont:["tiny","small","medium"],children:Q("product:viewAll")})})})]}),(0,o.jsxs)(i.kC,{sx:{flexDirection:"column"},children:[(q===d.T_M.PURCHASED||(null===(c=R.currentCourseNoteBookData)||void 0===c?void 0:c.enrollmentType)===d.T_M.PURCHASED)&&(0,o.jsx)(i.xu,{pt:0,pb:8,sx:{alignSelf:"stretch"},children:(0,o.jsx)(molecules_BookmarkInput,{courseSeoTitle:M,sectionId:null===(v=x.noteBooks)||void 0===v?void 0:null===(p=v.currentLessonNoteBookData)||void 0===p?void 0:null===(h=p.noteBooks)||void 0===h?void 0:null===(u=h[0])||void 0===u?void 0:u.sectionId,courseTitle:z,addNotebook:f,courseId:_,lessonId:O,lessonTitle:W,lessonType:G,isCourseLevel:V,getCurrentPosition:P,disabled:X,placeholderText:Q("addNoteHere")})}),(0,o.jsx)(C,{toggleDisableInput:()=>$(e=>!e),data:x,onClickDeleteBookmark:Z,setCurrentAccessingLesson:T,getSlideNumber:b,navigateToLessonPlayer:k,navigateToSolutionPlayer:I,navigateBack:L,isCourseLevel:V,editNotebook:E,doSendBookmarkVisitedEvent:j}),Y&&(0,o.jsx)(i.kC,{sx:{flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center",py:4},children:(0,o.jsx)(n.aN,{})}),et&&!Y&&(0,o.jsx)(i.kC,{sx:{justifyContent:"center"},pb:4,children:(0,o.jsx)(n.rU,{type:"internal",textProps:{category:"s2"},onClick:()=>{V?w(_,d.awN.LOAD_MORE,J.currentPage+1,U):A(O,J.currentPage+1,d.awN.LOAD_MORE)},underline:!0,children:Q("loadMore")})})]}),!!K&&(0,o.jsx)(a.iu,{isOpen:!0,title:Q("deleteNotesAndBookMark"),primaryAction:{title:Q("yesDelete"),onClick:()=>{D(K,N),Z(null)},variant:"error"},secondaryAction:{title:Q("cancel").toLocaleUpperCase(),onClick:()=>Z(null)},children:Q("deleteNotesMessage")})]})}},42651:function(e,t,s){s.d(t,{A:function(){return o.A},BE:function(){return o.BE},LJ:function(){return o.LJ},My:function(){return o.My},Oq:function(){return o.Oq},c2:function(){return o.c2},j3:function(){return o.j3},pc:function(){return o.pc},yh:function(){return o.yh}});var o=s(48762)}}]);