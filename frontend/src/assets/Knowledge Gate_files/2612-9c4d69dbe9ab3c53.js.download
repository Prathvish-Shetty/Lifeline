"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2612,7409],{88071:function(e,t,o){o.d(t,{AH:function(){return navigateToDemands},AP:function(){return navigateToSupport},DO:function(){return navigateToSystemConfigurationCheck},Id:function(){return navigateToDashboard},NJ:function(){return navigateToNewsfeedPosts},XA:function(){return navigateToSignin},b3:function(){return navigateToTroubleShoot},jr:function(){return navigateToSalesboard},k4:function(){return navigateToStore},n:function(){return navigateBack},t4:function(){return navigateToContentLibrary},uq:function(){return navigateToAccount}});var s=o(86677),r=o.n(s),i=o(66110);let navigateToTroubleShoot=e=>{},navigateBack=()=>{r().back()},navigateToStore=()=>{r().push(i.y4.store,i.XC.store())},navigateToSupport=()=>{r().push(i.y4.supportList,i.XC.supportList())},navigateToDemands=e=>{r().push({pathname:i.y4.demandsList,query:{bundleId:e}},i.XC.demandsList({bundleId:e}))},navigateToSalesboard=e=>{r().push({pathname:i.y4.courseSales,query:{productSeo:e}},i.XC.courseSales({productSeo:e}))},navigateToDashboard=e=>{r().push({pathname:i.y4.courseDashboard,query:{productSeo:e}},i.XC.courseDashboard({productSeo:e}))},navigateToNewsfeedPosts=(e,t)=>{if(e&&t){let o={postTypeId:e,currentContentTypeId:t,category:"all"};r().push({pathname:i.y4.newsfeedPostType,query:o},i.XC.newsfeedPostType(o))}else r().push(i.y4.newsfeed)},navigateToAccount=()=>{r().push(i.y4.profileEdit)},navigateToSignin=()=>{r().push(i.y4.signin),console.log("Navigate to Sign In")},navigateToSystemConfigurationCheck=e=>{r().push({pathname:i.y4.systemConfigurationCheck,query:{ticketData:JSON.stringify(e)}})},navigateToContentLibrary=()=>{r().push({pathname:i.y4.coursesLibrary,query:{tabId:"content-library"}},i.XC.coursesLibrary({tabId:"content-library"}))}},57409:function(e,t,o){o.d(t,{Z:function(){return withRaiseTicket}});var s=o(24246),r=o(27378),i=o(38906),l=o(15819),n=o(37648),a=o(73704),u=o(93050),p=o(86922),c=o(81851),d=o(41342);let RaiseTicketUtils=class RaiseTicketUtils{constructData(e,t,o){var s,r,i,n,u,p,S,h,T,y;let v={isFromSupport:!1,isPostPayment:!1,displaySubTypes:!1,supportTypes:null,submitTicketStatus:this.getSubmitTicketUIStatus(e,o),isTicketFormLoading:!1,isTicketFormFailed:!1,supportErrorMessage:null==e?void 0:e.supportErrorMessage,subSupportTypes:null,selectSupportIdx:o.currentSelectedSupportTypeIdx,selectedSubSupportIdx:o.currentSelectedSupportSubTypeIdx,currentProductDetails:e.currentProductDetails,srcDetails:null==e?void 0:e.srcDetails,uploadReportResult:null==e?void 0:e.uploadReportResult,logReportUrl:null==e?void 0:e.logReportUrl,userMailId:null==e?void 0:e.sharedUserEmail,schoolUrl:(null===(i=e.schoolConfigData)||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:null===(s=r.school_config)||void 0===s?void 0:s.WEB_URL)||(null===(p=e.schoolConfigData)||void 0===p?void 0:null===(u=p.data)||void 0===u?void 0:null===(n=u.school_config)||void 0===n?void 0:n.custom_domain),showLegacySupport:!!(null===(T=e.schoolConfigData)||void 0===T?void 0:null===(h=T.data)||void 0===h?void 0:null===(S=h.school_config)||void 0===S?void 0:S.show_legacy_support)||!!(null===c.schoolConfig||void 0===c.schoolConfig?void 0:c.schoolConfig.show_legacy_support),schoolConfigDataFetchStatus:null===(y=e.schoolConfigData)||void 0===y?void 0:y.fetchStatus,supportErrorCode:e.supportErrorCode,deviceOS:a.OS},g=this.getSupportTypes(e,o,t);return v.displaySubTypes=g.displaySubTypes,v.supportTypes=g.supportTypes,v.subSupportTypes=g.subSupportTypes,t===d.R.FROM_POST_PAYMENT&&(v.isPostPayment=!0),t===d.R.FROM_SUPPORT&&(v.isFromSupport=!0),e.supportState===l.yjd.FILLING_NEW_TICKET&&e.supportApiStatus===l.iFP.IN_PROGRESS&&(v.isTicketFormLoading=!0),e.supportState===l.yjd.FILLING_NEW_TICKET&&e.supportApiStatus===l.iFP.FAILED&&(v.isTicketFormFailed=!0),v}getSubmitTicketUIStatus(e,t){let o=l.Nwl.NONE;return t.validationErrorMsg?o=l.Nwl.VALIDATION_ERROR:e.supportState===l.yjd.SUBMITTING_NEW_TICKET&&e.supportApiStatus===l.iFP.FAILED?o=l.Nwl.NEW_TICKET_SUBMISSION_FAILED:e.troubleShootState===l.BXf.GETTING_NATIVE_LOGS?e.nativeLogsResult===l.SAJ.INPROGRESS&&(o=l.Nwl.TROUBLE_SHOOT_LOG_INPROGRESS):e.troubleShootState===l.BXf.UPLOADING_REPORT&&(e.uploadReportResult===l.SAJ.INPROGRESS?o=l.Nwl.UPLOAD_REPORT_INPROGRESS:e.uploadReportResult===l.SAJ.FAILED?o=l.Nwl.UPLOAD_REPORT_FAILED:e.supportState===l.yjd.SUBMITTING_NEW_TICKET&&e.supportApiStatus===l.iFP.SUCCESS&&(o=l.Nwl.NEW_TICKET_SUBMISSION_SUCCESS)),o}getSupportTypes(e,t,o){if(!e.supportTypes||e.supportTypes.length<=0)return{displaySubTypes:!1,supportTypes:[],subSupportTypes:[]};let s=this.getSrcDetails(e,o);if(s.supportType){for(let o=0;o<e.supportTypes.length;o++)if(e.supportTypes[o].supportType===s.supportType){t.currentSelectedSupportType=s.supportType,t.currentSelectedSupportTypeIdx=o;break}}let r=!1;return(t.currentSelectedSupportType!==l.kxL.SUPPORT_TYPES_INVALID&&e.supportTypes[t.currentSelectedSupportTypeIdx].subTypes.length>=1&&(r=!0),r)?{subSupportTypes:e.supportTypes[t.currentSelectedSupportTypeIdx].subTypes,supportTypes:[],displaySubTypes:r}:{displaySubTypes:r,supportTypes:e.supportTypes,subSupportTypes:[]}}getSrcDetails(e,t){var o,s,r,i,n,a;let u={supportType:l.kxL.SUPPORT_TYPES_INVALID,title:(null==e?void 0:null===(s=e.orderSummaryData)||void 0===s?void 0:null===(o=s.courseData)||void 0===o?void 0:o.courseTitle)||""};return t===d.R.FROM_CHECKOUT&&(null==e?void 0:e.orderSummaryData)&&(u.supportType=l.kxL.SUPPORT_TYPE_PAYMENT,u.courseId=(null==e?void 0:e.currentBundleId)||(null==e?void 0:e.currentCourseId),u.transactionId=null==e?void 0:null===(r=e.orderSummaryData)||void 0===r?void 0:r.transactionId),t===d.R.FROM_POST_PAYMENT&&(null==e?void 0:e.orderSummaryData)&&(u.supportType=l.kxL.SUPPORT_TYPE_PAYMENT,u.transactionId=null==e?void 0:null===(i=e.paymentVerifyData)||void 0===i?void 0:i.receiptNumber,u.courseId=null==e?void 0:null===(a=e.orderSummaryData)||void 0===a?void 0:null===(n=a.courseData)||void 0===n?void 0:n.courseId),d.R.FROM_LESSON_PLAYER,u}getTicketData(e,t,o,s){var r,i,l,n,a,u;let p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c={email:null==e?void 0:e.sharedUserEmail,userName:null==e?void 0:e.sharedUserName,userId:null==e?void 0:e.sharedUserId,mobileNum:null==e?void 0:e.sharedUserMobileNum,srcDetails:p||this.getSrcDetails(e,t),issueDescription:s,issueTitle:null==e?void 0:null===(r=e.supportTypes[null==o?void 0:o.currentSelectedSupportTypeIdx])||void 0===r?void 0:r.supportName,subIssueTitle:null==e?void 0:null===(l=e.supportTypes[null==o?void 0:o.currentSelectedSupportTypeIdx])||void 0===l?void 0:null===(i=l.subTypes[null==o?void 0:o.currentSelectedSupportSubTypeIdx])||void 0===i?void 0:i.subTypeName,categoryId:null==e?void 0:null===(a=e.supportTypes[null==o?void 0:o.currentSelectedSupportTypeIdx])||void 0===a?void 0:null===(n=a.subTypes[null==o?void 0:o.currentSelectedSupportSubTypeIdx])||void 0===n?void 0:n.id,courseId:null==e?void 0:null===(u=e.currentProductDetails)||void 0===u?void 0:u.courseId};return c}};var S=o(88071),h=o(67717),T=o(53794);function withRaiseTicket(e,t){let RaiseTicketAdapter=class RaiseTicketAdapter extends r.Component{componentDidUpdate(){this.props.supportState===l.yjd.FILLING_NEW_TICKET&&this.props.supportApiStatus===l.iFP.SUCCESS&&-1===this.state.currentSelectedSupportTypeIdx&&this.updateSuppportTicketSubType(),this.props.supportState===l.yjd.SUBMITTING_NEW_TICKET&&this.props.supportApiStatus===l.iFP.SUCCESS&&setTimeout(()=>{this.resolveSubmitNewTicket&&(this.resolveSubmitNewTicket(),this.resolveSubmitNewTicket=null)},1),this.props.supportState===l.yjd.SUBMITTING_NEW_TICKET&&this.props.supportApiStatus===l.iFP.FAILED&&this.rejectSubmitNewTicket&&(this.rejectSubmitNewTicket({message:this.props.supportErrorMessage}),this.rejectSubmitNewTicket=null)}render(){var o,r,i;let l={onRaiseTicket:this.onRaiseNewTicket,onSubmitTicket:this.onSubmitTicket,onSubmitDemand:this.onSubmitDemand,onSelectSupportSubType:this.onSelectSupportSubType,onSelectSupportType:this.onSelectSupportType,cleanUpAdapterState:this.switchToDefaultState,goBack:this.goBack,goToStore:this.goToStore,goToSupport:this.goToSupport,goToDemands:this.goToDemands,goToCourseDetails:this.goToCourseDetails,goToNewsfeedPost:this.goToNewsfeedPost,goToAccount:this.goToAccount,doGenerateLogs:this.doGenerateLogs,doPersitTimerForTroubleShoot:this.doPersitTimerForTroubleShoot,getPersitTimerForTroubleShoot:this.getPersitTimerForTroubleShoot,goToSigninPage:this.goToSigninPage,goToSystemConfigurationCheck:this.goToSystemConfigurationCheck,doSubmitNewTicket:this.props.doSubmitNewTicket,navigateToContentLibrary:S.t4,getIsDesktopApp:this.getIsDesktopApp};return(0,s.jsx)(e,{...this.props,raiseTicketData:this.raiseTicketUtils.constructData(this.props,t,this.state),raiseTicketCallbacks:l,raiseTicketData2:null===(o=this.props)||void 0===o?void 0:o.raiseTicketData,raiseTicketCallbacks2:null===(r=this.props)||void 0===r?void 0:r.raiseTicketCallbacks,isTestPlayer:null===(i=this.props)||void 0===i?void 0:i.isTestPlayer})}constructor(e){super(e),this.onRaiseNewTicket=(e,t)=>{this.props.doFetchSupportTypes(t)},this.updateSuppportTicketSubType=()=>{var e;if(null===(e=this.props.srcDetails)||void 0===e?void 0:e.supportType){let e=this.props.supportTypes.findIndex((e,t)=>{var o;return e.supportType===(null===(o=this.props.srcDetails)||void 0===o?void 0:o.supportType)});this.onSelectSupportType(e)}},this.getTicketData=(e,o,s)=>this.raiseTicketUtils.getTicketData(this.props,o||t,this.state,e,this.props.srcDetails||s),this.onTicketSubmitted=(e,t,o,s,r,i,n,a)=>{if(void 0===this.state.currentSelectedSupportSubTypeIdx){this.setState({validationErrorMsg:s("selectIssueType")}),i({message:s("selectIssueType"),validationType:l.BfE.SUB_SUPPORT});return}if(!t||(null==t?void 0:t.trim().length)<=0){this.setState({validationErrorMsg:s("issueDescriptionEmpty")}),i({message:s("issueDescriptionEmpty"),validationType:l.BfE.DESCRIPTION});return}if(!e){i({message:s("acceptTermAlert")}),this.setState({validationErrorMsg:s("acceptTermAlert"),validationType:l.BfE.AGREEMENT_CHECK});return}let p=!T.zO;if(this.state.currentSelectedSupportType===l.kxL.SUPPORT_TYPE_PLAYER&&p){r(),o();let e=this.getTicketData(t,n,a);(null==a?void 0:a.supportType)===l.kxL.SUPPORT_TYPE_PLAYER&&this.props.logReportUrl?(this.props.doSubmitRaiseTicket(e,this.props.logReportUrl),(0,u.FN)({message:"".concat(s("submitTicketSuccess"))}),this.goBack()):(0,S.b3)(this.getTicketData(t),!1)}else{let e=this.getTicketData(t,n,a);(null==a?void 0:a.supportType)===l.kxL.SUPPORT_TYPE_PLAYER&&this.props.logReportUrl?(this.props.doSubmitRaiseTicket(e,this.props.logReportUrl),(0,u.FN)({message:"".concat(s("submitTicketSuccess"))}),this.goBack()):this.props.doSubmitNewTicket(e,!1,!1)}this.setState({validationErrorMsg:null})},this.onDemandSubmitted=(e,t,o,s,r,i,n,a)=>{if(void 0===this.state.currentSelectedSupportSubTypeIdx){this.setState({validationErrorMsg:o("selectDemandType")}),s({message:o("selectDemandType"),validationType:l.BfE.SUB_SUPPORT});return}if(!t||(null==t?void 0:t.trim().length)<=0&&this.state.currentSelectedSupportType===l.kxL.SUPPORT_TYPE_REPORT){this.setState({validationErrorMsg:o("issueDescriptionEmpty")}),s({message:o("issueDescriptionEmpty"),validationType:l.BfE.DESCRIPTION});return}if(!t||(null==t?void 0:t.trim().length)<=0){this.setState({validationErrorMsg:o("demandDescriptionEmpty")}),s({message:o("demandDescriptionEmpty"),validationType:l.BfE.DESCRIPTION});return}if(!e){this.setState({validationErrorMsg:o("acceptTermAlert")}),s({validationErrorMsg:o("acceptTermAlert"),validationType:l.BfE.AGREEMENT_CHECK});return}let p=!T.zO;if(this.state.currentSelectedSupportType===l.kxL.SUPPORT_TYPE_REPORT&&p){r(),a&&a();let e=this.getTicketData(t,i,n);this.props.doSubmitNewDemand(e),(0,u.FN)({message:"".concat(o("submitReportSuccess"))})}else{let e=this.getTicketData(t,i,n);this.props.doSubmitNewDemand(e)}this.setState({validationErrorMsg:null})},this.onSelectSupportSubType=e=>{this.setState({currentSelectedSupportSubTypeIdx:e})},this.onSelectSupportType=e=>{var t,o,s;let r=-1;(null===(o=this.props.supportTypes[e])||void 0===o?void 0:null===(t=o.subTypes)||void 0===t?void 0:t.length)<=1&&(r=0),this.setState({currentSelectedSupportTypeIdx:e,currentSelectedSupportSubTypeIdx:r,currentSelectedSupportType:null===(s=this.props.supportTypes[e])||void 0===s?void 0:s.supportType})},this.onSubmitTicket=async(e,t,o,s,r,i)=>{await new Promise((l,n)=>{this.resolveSubmitNewTicket=l,this.rejectSubmitNewTicket=n,this.onTicketSubmitted(e,t,o,s,l,n,r,i)})},this.onSubmitDemand=async(e,t,o,s,r,i)=>{await new Promise((l,n)=>{this.resolveSubmitNewTicket=l,this.rejectSubmitNewTicket=n,this.onDemandSubmitted(e,t,o,n,l,s,r,i)})},this.switchToDefaultState=()=>{this.setState({currentSelectedSupportType:l.kxL.SUPPORT_TYPES_INVALID,currentSelectedSupportTypeIdx:-1,currentSelectedSupportSubTypeIdx:-1,validationErrorMsg:null})},this.goBack=()=>{(0,S.n)()},this.goToStore=()=>{(0,S.k4)()},this.goToSupport=()=>{(0,S.AP)()},this.goToDemands=()=>{var e;(0,S.AH)(null===(e=this.props.currentProductDetails)||void 0===e?void 0:e.courseId)},this.goToCourseDetails=()=>{var e,t,o;let s=null===(e=this.props.currentProductDetails)||void 0===e?void 0:e.enrollmentState;(0,h.Bv)(s)?(0,S.Id)(null===(t=this.props.currentProductDetails)||void 0===t?void 0:t.courseSeoTitle):(0,S.jr)(null===(o=this.props.currentProductDetails)||void 0===o?void 0:o.courseSeoTitle)},this.goToNewsfeedPost=(e,t)=>{(0,S.NJ)(e,t)},this.goToAccount=()=>{(0,S.uq)()},this.goToSystemConfigurationCheck=()=>{let e=this.getTicketData(""),t=!T.zO;t?(0,S.DO)(e,!0):(0,S.DO)(e)},this.doGenerateLogs=e=>{let t=e&&JSON.parse(e||"{}")||this.getTicketData(""),o=!T.zO;o?(0,S.b3)(this.getTicketData(""),!0):this.props.doSubmitNewTicket(t,!0,!0)},this.doPersitTimerForTroubleShoot=e=>{u.tJ.setValue(p.Sm,e,0)},this.getPersitTimerForTroubleShoot=async()=>{let e=await u.tJ.getValue(p.Sm,0,0);return e},this.goToSigninPage=()=>{(0,S.XA)()},this.getIsDesktopApp=()=>a.OS===n.vO.DEVICE_WINDOWS||a.OS===n.vO.DEVICE_MAC,this.state={currentSelectedSupportType:l.kxL.SUPPORT_TYPES_INVALID,currentSelectedSupportTypeIdx:-1,currentSelectedSupportSubTypeIdx:-1,validationErrorMsg:null},this.raiseTicketUtils=new RaiseTicketUtils,this.resolveSubmitNewTicket=null,this.rejectSubmitNewTicket=null}};return(0,i.$)("doFetchSupportTypes","selectSupportState","selectSupportApiStatus","selectSupportErrorMessage","selectSupportTypes","selectTroubleShootState","selectNativeLogsResult","selectUploadReportResult","selectSharedUserName","selectSharedUserId","selectSharedUserEmail","selectSharedUserMobileNum","selectOrderSummaryData","selectCurrentCourseId","selectCurrentBundleId","selectPaymentVerifyData","selectCurrentProductDetails","doFetchSupportTypes","doSubmitNewTicket","doSubmitNewDemand","doSubmitLogReport","selectTicketData","selectLogReportUrl","selectSchoolConfigData","selectSupportErrorCode","doSubmitRaiseTicket",RaiseTicketAdapter)}},41342:function(e,t,o){var s,r;o.d(t,{R:function(){return s}}),(r=s||(s={})).FROM_SUPPORT="FROM_SUPPORT",r.FROM_POST_PAYMENT="FROM_POST_PAYMENT",r.FROM_CHECKOUT="FROM_CHECKOUT",r.FROM_LESSON_PLAYER="FROM_LESSON_PLAYER"},52065:function(e,t,o){var s=o(24246),r=o(97593),i=o(27378),l=o(9078),n=o(72022);t.Z=e=>{let{setHubSpotForm:t,raiseTicketData:o,goBack:a}=e||{},{logReportUrl:u,userMailId:p,schoolUrl:c}=o||{},{t:d}=(0,l.$)("support");return(0,i.useEffect)(()=>{window.hbspt&&window.hbspt.forms.create({region:"na1",portalId:"667314",formId:"8cf83c3a-ad1d-4cce-a07d-7037bcb9ae9c",target:"#hubspotSupportForm",onFormReady:e=>{e.querySelector('input[name="TICKET.s3_log_link"]').value=u,e.querySelector('input[name="email"]').value=p,e.querySelector('input[name="0-2/domain"]').value=c},onFormSubmitted:()=>{a?((0,r.FN)({message:"".concat(d("submitTicketSuccess"))}),a()):setTimeout(()=>{t(!1)},2500)}})},[]),(0,s.jsx)(n.xu,{sx:{width:["100%",20,22],pt:8,p:5,height:"100%",backgroundColor:"color-basic-100"},id:"hubspotSupportForm"})}},57056:function(e,t,o){o.d(t,{Z:function(){return raiseIssueModals}});var s=o(24246),r=o(27378),i=o(33790),l=o(72022),n=o(9078),a=o(16995),u=o(39866),selectSupportIssue=e=>{let{setSelectIssueModal:t,setRaiseTicketModal:o,setTroubleShootModal:p,openSelectIssueInModal:c,showLegacySupport:d,schoolConfigDataFetchStatus:S}=e||{},[h,T]=(0,r.useState)(!0),{t:y}=(0,n.$)("support"),v=!!d,g=[{name:y("technicalIssue"),value:"technicalIssue",description:y("technicalIssueDescription")},{name:y("contentIssue"),value:"contentIssue",description:y("contentIssueDescription")}],m={lessonPlayer:y("legacySupportIssues.lessonPlayer"),testPlayer:y("legacySupportIssues.testPlayer"),payment:y("legacySupportIssues.payment"),loginIssue:y("legacySupportIssues.loginIssue"),appCrash:y("legacySupportIssues.appCrash")};return((0,r.useEffect)(()=>{S===u.UK.SUCCESS&&T(!1)},[S]),h)?(0,s.jsx)(l.kC,{sx:{mt:"100px"},children:(0,s.jsx)(i.aN,{})}):(0,s.jsx)(l.kC,{sx:{justifyContent:"center"},children:(0,s.jsxs)(l.kC,{sx:{p:4,flexDirection:"column",maxWidth:22,flex:1,width:"100%"},children:[(0,s.jsxs)(l.kC,{sx:{alignItems:"baseline",justifyContent:"space-between"},children:[(0,s.jsx)(i.xv,{category:c?"h3":"h5",children:v?"":y("selectSupportIssueType")}),c&&(0,s.jsx)(l.xu,{sx:{mr:3},onClick:()=>t?t(!1):null,children:(0,s.jsx)(i.tv,{icon:a.q.close,fontSize:"h5"})})]}),!v&&g.map(e=>(0,s.jsxs)(l.kC,{sx:{alignItems:"center",pl:4,mt:10,cursor:"pointer",borderWidth:1,borderColor:"color-basic-400",borderStyle:"solid",borderRadius:6,"&:hover":{borderColor:"primary"}},onClick:()=>{"contentIssue"===e.value?o(!0):p(!0),c&&t&&t(!1)},children:[(0,s.jsxs)(l.kC,{sx:{flexDirection:"column",my:4},children:[(0,s.jsx)(i.xv,{category:"h6",sx:{pl:1,fontWeight:"bold"},children:e.name}),(0,s.jsx)(i.xv,{textCustomColor:"color-basic-600",category:"p2",sx:{pl:1},children:e.description})]}),(0,s.jsx)(l.xu,{sx:{mx:6},children:(0,s.jsx)(i.tv,{icon:a.q.arrowRight,fontSize:"h5"})})]})),v&&(0,s.jsxs)(l.kC,{sx:{alignItems:"normal",pl:4,mt:4,cursor:"pointer",borderWidth:1,borderColor:"color-basic-400",borderStyle:"solid",borderRadius:6,"&:hover":{borderColor:"primary"}},onClick:()=>{o(!0)},children:[(0,s.jsxs)(l.kC,{sx:{flexDirection:"column",my:4},children:[(0,s.jsx)(i.xv,{category:"h6",sx:{pl:1,fontWeight:"bold"},children:y("reportAnIssue")}),Object.values(m).map(e=>(0,s.jsx)(i.xv,{textCustomColor:"color-basic-600",category:"p2",sx:{pl:1,pt:3},children:e}))]}),(0,s.jsx)(l.xu,{sx:{mt:4,mr:5},children:(0,s.jsx)(i.tv,{icon:a.q.arrowRight,fontSize:"h5"})})]})]})})},p=o(3768),c=o(75721),d=o(81660),S=o(99401),raiseIssueModals=e=>{var t,o,l;let{raiseTicketCallbacks:n,raiseTicketData:a,selectIssueModal:u,setSelectIssueModal:h,srcDetails:T,openSelectIssueInModal:y}=e||{},[v,g]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),b=(0,c.V)(["100%","fit-content","fit-content"]),{theme:I}=(0,d.B7)(),C={width:b,borderWidth:1,borderColor:null==I?void 0:null===(t=I.rawColors)||void 0===t?void 0:t["border-basic-color-4"],borderStyle:"solid",backgroundColor:null==I?void 0:null===(o=I.rawColors)||void 0===o?void 0:o["background-basic-color-1"],boxShadow:null==I?void 0:null===(l=I.boxShadow)||void 0===l?void 0:l.cardShadow};return(0,r.useEffect)(()=>{n.cleanUpAdapterState()},[u,v]),(0,s.jsxs)(s.Fragment,{children:[y?(0,s.jsx)(i.u_,{isOpen:u,onRequestClose:()=>h(!u),overlayStyle:{zIndex:1500},contentStyle:{...C},children:(0,s.jsx)(selectSupportIssue,{setSelectIssueModal:h,setRaiseTicketModal:g,setTroubleShootModal:x,openSelectIssueInModal:y,showLegacySupport:null==a?void 0:a.showLegacySupport,schoolConfigDataFetchStatus:null==a?void 0:a.schoolConfigDataFetchStatus})}):(0,s.jsx)(selectSupportIssue,{setSelectIssueModal:h,setRaiseTicketModal:g,setTroubleShootModal:x,openSelectIssueInModal:y,showLegacySupport:null==a?void 0:a.showLegacySupport,schoolConfigDataFetchStatus:null==a?void 0:a.schoolConfigDataFetchStatus}),(0,s.jsx)(i.u_,{isOpen:v,overlayStyle:{zIndex:1500},contentStyle:{...C},onRequestClose:()=>{g(!1)},children:(0,s.jsx)(p.Z6,{data:a,callbacks:n,onModalCloseRequest:()=>{g(!1)},srcDetails:{...T},showRaiseTicket:v})}),(0,s.jsx)(S.Z,{raiseTicketCallbacks:n,raiseTicketData:a,troubleShootModal:m,setTroubleShootModal:x})]})}},99401:function(e,t,o){o.d(t,{Z:function(){return reportTechnicalIssue}});var s=o(24246),r=o(27378),i=o(33790),l=o(75721),n=o(9078),a=o(72022),u=o(16995),helpDesktroubleShoot=e=>{let{setTroubleShootModal:t,setCollectLogsModal:o,raiseTicketCallbacks:l}=e||{},{doGenerateLogs:p,doPersitTimerForTroubleShoot:c,getPersitTimerForTroubleShoot:d}=l||{},[S,h]=(0,r.useState)(!1),[T,y]=(0,r.useState)(120),{t:v}=(0,n.$)("support"),g={step_1:v("troubleShootSteps.step1"),step_2:v("troubleShootSteps.step2"),step_3:v("troubleShootSteps.step3"),step_4:v("troubleShootSteps.step4")},getCountDownTimer=async()=>await d(),startTimer=async()=>{let e=await d();if(e){let t=new Date().getTime()-parseInt(e);y(120-Math.floor(t/1e3))}else c(e=new Date().getTime())};(0,r.useEffect)(()=>{let e=setInterval(async()=>{if(0===await getCountDownTimer())return y(0);if(T>0)y(e=>e-1);else{y(0),clearInterval(e),c(0);return}},1e3);return()=>clearInterval(e)},[T]),(0,r.useEffect)(()=>{!async function(){if(0===await getCountDownTimer())return y(0);startTimer()}()},[]);let onClickGenerate=async()=>{let e=document.createElement("script");e.src="//js.hsforms.net/forms/embed/v2.js",e.type="text/javascript",e.async=!0,await document.head.appendChild(e),o(!0),t(!1),c(null),p()};return(0,s.jsxs)(a.kC,{sx:{zIndex:1100,p:2,flexDirection:"column",maxWidth:[27],flex:1,width:"100%",minWidth:[14,22]},children:[(0,s.jsxs)(a.kC,{sx:{alignItems:"baseline",justifyContent:"space-between"},children:[(0,s.jsx)(i.xv,{category:"h3",sx:{pt:3,pb:8},children:v("troubleShootStepsHeading")}),(0,s.jsx)(a.xu,{sx:{mr:3},onClick:()=>t(!1),children:(0,s.jsx)(i.tv,{icon:u.q.close,fontSize:"h5"})})]}),Object.values(g).map(e=>(0,s.jsx)(a.kC,{children:(0,s.jsx)(a.kC,{sx:{flexDirection:"column",pb:2},children:(0,s.jsx)(a.kC,{sx:{justifyContent:"space-around"},children:(0,s.jsx)(i.xv,{category:"h6",children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:" ".concat(e)}})})})})})),!!e.hasTimeout&&(0,s.jsx)(i.xv,{category:"s2",sx:{pt:4},children:"".concat(v("pleaseCompleteSteps")," ").concat(T>0?T:0," ").concat(v("seconds"))}),(0,s.jsx)(a.xu,{sx:{pt:4},children:(0,s.jsx)(i.XZ,{onChange:()=>{h(!S)},text:(0,s.jsx)(i.xv,{category:"s1",sx:{fontWeight:"semiBold"},children:v("confirmStepsFollowed")})})}),(0,s.jsx)(a.kC,{sx:{justifyContent:"flex-end",pt:8},children:(0,s.jsx)(i.zx,{variant:"primary",disabled:!S||!!e.hasTimeout&&0!==T,sx:{textTransform:"uppercase"},onClick:onClickGenerate,children:v("generate")})})]})},p=o(6935),collectSystemLogs=e=>{let{setCollectLogsModal:t,raiseTicketData:o,setHubSpotForm:l,raiseTicketCallbacks:c}=e||{},{uploadReportResult:d,logReportUrl:S,supportErrorCode:h,supportErrorMessage:T}=o||{},[y,v]=(0,r.useState)(!1),{t:g}=(0,n.$)(["support","troubleShoot"]),m=p.jv_[h],x=h!==p.dUu.CHROME_VERSION_NOT_SUPPORTED&&h!==p.dUu.CANNOT_PLAY_SECURE_CONTENT&&h!==p.dUu.SAFARI_VERSION_NOT_SUPPORTED&&h!==p.dUu.USE_SAFARI_BROWSER&&h!==p.dUu.IDLE;return((0,r.useEffect)(()=>{d===p.SAJ.IDLE||d===p.SAJ.INPROGRESS||d===p.SAJ.FAILED||x?v(!1):v(!0)},[d]),x)?(0,s.jsxs)(a.kC,{sx:{zIndex:1100,p:2,flexDirection:"column",maxWidth:27,flex:1,width:"100%",minWidth:[10,20]},children:[(0,s.jsxs)(a.kC,{sx:{alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(i.xv,{category:"h3",sx:{pt:3,pb:8},children:g("collectingLogsHeading")}),(0,s.jsx)(a.xu,{sx:{mr:3},onClick:()=>t(!1),children:(0,s.jsx)(i.tv,{icon:u.q.close,fontSize:"h5"})})]}),(0,s.jsxs)(a.kC,{sx:{flexDirection:"column",alignItems:"center",justifyItems:"center"},children:[(0,s.jsx)(i.tv,{icon:u.q.closeCircle,size:120,color:"error"}),(0,s.jsxs)(a.xu,{sx:{width:[19,20,21]},children:[(0,s.jsx)(i.xv,{category:"s1",sx:{pt:3,pb:8,textAlign:"center"},children:g("troubleShoot:issueInLogCollection")}),(0,s.jsx)(i.xv,{category:"s1",sx:{pt:0,pb:2,textAlign:"center"},children:g("troubleShoot:".concat(m))})]})]}),(0,s.jsx)(a.kC,{sx:{justifyContent:"flex-end",pt:4},children:(0,s.jsx)(i.zx,{variant:"primary",disabled:y,sx:{textTransform:"uppercase",width:10},onClick:()=>{c.doGenerateLogs()},children:g("retry")})})]}):(0,s.jsxs)(a.kC,{sx:{zIndex:1100,p:2,flexDirection:"column",maxWidth:27,flex:1,width:"100%",minWidth:[10,20]},children:[(0,s.jsxs)(a.kC,{sx:{alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(i.xv,{category:"h3",sx:{pt:3,pb:8},children:g("collectingLogsHeading")}),(0,s.jsx)(a.xu,{sx:{mr:3},onClick:()=>t(!1),children:(0,s.jsx)(i.tv,{icon:u.q.close,fontSize:"h5"})})]}),(0,s.jsxs)(a.kC,{sx:{flexDirection:"column",alignItems:"center",justifyItems:"center"},children:[y?(0,s.jsx)(i.tv,{icon:u.q.checkCircle,size:120,color:"primary"}):(0,s.jsx)(i.aN,{sxProps:{background:"none"},size:115}),(0,s.jsx)(a.xu,{sx:{width:[19,20,21]},children:(0,s.jsx)(i.xv,{category:"s1",sx:{pt:3,pb:8,textAlign:"center"},children:g(y?"logComplete":"pleaseWaitCollectingLogs")})})]}),(0,s.jsx)(a.kC,{sx:{justifyContent:"flex-end",pt:8},children:(0,s.jsx)(i.zx,{variant:"primary",disabled:!y,sx:{textTransform:"uppercase",width:10},onClick:()=>{l(!0),t(!1)},children:g("next")})})]})},c=o(81660),d=o(52065),reportTechnicalIssue=e=>{var t,o,n;let{raiseTicketCallbacks:p,raiseTicketData:S,troubleShootModal:h,setTroubleShootModal:T}=e||{},[y,v]=(0,r.useState)(!1),[g,m]=(0,r.useState)(!1),x=(0,l.V)(["100%","fit-content","fit-content"]),{theme:b}=(0,c.B7)(),I={width:x,borderWidth:1,borderColor:null==b?void 0:null===(t=b.rawColors)||void 0===t?void 0:t["border-basic-color-4"],borderStyle:"solid",backgroundColor:null==b?void 0:null===(o=b.rawColors)||void 0===o?void 0:o["background-basic-color-1"],boxShadow:null==b?void 0:null===(n=b.boxShadow)||void 0===n?void 0:n.cardShadow};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.u_,{isOpen:h,overlayStyle:{zIndex:1500},contentStyle:{...I},children:(0,s.jsx)(helpDesktroubleShoot,{hasTimeout:e.hasTimeout,setTroubleShootModal:T,setCollectLogsModal:v,raiseTicketCallbacks:p})}),(0,s.jsx)(i.u_,{isOpen:y,overlayStyle:{zIndex:1500},contentStyle:{...I},children:(0,s.jsx)(collectSystemLogs,{setCollectLogsModal:v,collectLogsModal:y,raiseTicketData:S,setHubSpotForm:m,raiseTicketCallbacks:p})}),(0,s.jsxs)(i.u_,{isOpen:g,overlayStyle:{zIndex:1500},contentStyle:{...I},children:[(0,s.jsx)(a.xu,{sx:{position:"fixed",top:8,right:10,display:["initial"]},onClick:()=>{m(!g)},children:(0,s.jsx)(i.tv,{icon:u.q.close,fontSize:"h5",customColor:"black"})}),(0,s.jsx)(d.Z,{setHubSpotForm:m,raiseTicketData:S})]})]})}}}]);